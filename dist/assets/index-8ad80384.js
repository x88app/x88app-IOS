function Hh(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function ug(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function dg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}var Qh={exports:{}},Vi={},Kh={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=Symbol.for("react.element"),hg=Symbol.for("react.portal"),fg=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),pg=Symbol.for("react.profiler"),gg=Symbol.for("react.provider"),xg=Symbol.for("react.context"),vg=Symbol.for("react.forward_ref"),yg=Symbol.for("react.suspense"),bg=Symbol.for("react.memo"),wg=Symbol.for("react.lazy"),Mu=Symbol.iterator;function kg(t){return t===null||typeof t!="object"?null:(t=Mu&&t[Mu]||t["@@iterator"],typeof t=="function"?t:null)}var Gh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jh=Object.assign,Yh={};function Gn(t,e,r){this.props=t,this.context=e,this.refs=Yh,this.updater=r||Gh}Gn.prototype.isReactComponent={};Gn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Xh(){}Xh.prototype=Gn.prototype;function bc(t,e,r){this.props=t,this.context=e,this.refs=Yh,this.updater=r||Gh}var wc=bc.prototype=new Xh;wc.constructor=bc;Jh(wc,Gn.prototype);wc.isPureReactComponent=!0;var Lu=Array.isArray,Zh=Object.prototype.hasOwnProperty,kc={current:null},ef={key:!0,ref:!0,__self:!0,__source:!0};function tf(t,e,r){var n,a={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Zh.call(e,n)&&!ef.hasOwnProperty(n)&&(a[n]=e[n]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}if(t&&t.defaultProps)for(n in c=t.defaultProps,c)a[n]===void 0&&(a[n]=c[n]);return{$$typeof:aa,type:t,key:i,ref:o,props:a,_owner:kc.current}}function jg(t,e){return{$$typeof:aa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jc(t){return typeof t=="object"&&t!==null&&t.$$typeof===aa}function Ng(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $u=/\/+/g;function xo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ng(""+t.key):e.toString(36)}function Ha(t,e,r,n,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case aa:case hg:o=!0}}if(o)return o=t,a=a(o),t=n===""?"."+xo(o,0):n,Lu(a)?(r="",t!=null&&(r=t.replace($u,"$&/")+"/"),Ha(a,e,r,"",function(u){return u})):a!=null&&(jc(a)&&(a=jg(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace($u,"$&/")+"/")+t)),e.push(a)),1;if(o=0,n=n===""?".":n+":",Lu(t))for(var c=0;c<t.length;c++){i=t[c];var l=n+xo(i,c);o+=Ha(i,e,r,l,a)}else if(l=kg(t),typeof l=="function")for(t=l.call(t),c=0;!(i=t.next()).done;)i=i.value,l=n+xo(i,c++),o+=Ha(i,e,r,l,a);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ga(t,e,r){if(t==null)return t;var n=[],a=0;return Ha(t,n,"","",function(i){return e.call(r,i,a++)}),n}function _g(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Be={current:null},Qa={transition:null},Sg={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:Qa,ReactCurrentOwner:kc};function rf(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ga,forEach:function(t,e,r){ga(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ga(t,function(){e++}),e},toArray:function(t){return ga(t,function(e){return e})||[]},only:function(t){if(!jc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=Gn;W.Fragment=fg;W.Profiler=pg;W.PureComponent=bc;W.StrictMode=mg;W.Suspense=yg;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sg;W.act=rf;W.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Jh({},t.props),a=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=kc.current),e.key!==void 0&&(a=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(l in e)Zh.call(e,l)&&!ef.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&c!==void 0?c[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:aa,type:t.type,key:a,ref:i,props:n,_owner:o}};W.createContext=function(t){return t={$$typeof:xg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gg,_context:t},t.Consumer=t};W.createElement=tf;W.createFactory=function(t){var e=tf.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:vg,render:t}};W.isValidElement=jc;W.lazy=function(t){return{$$typeof:wg,_payload:{_status:-1,_result:t},_init:_g}};W.memo=function(t,e){return{$$typeof:bg,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Qa.transition;Qa.transition={};try{t()}finally{Qa.transition=e}};W.unstable_act=rf;W.useCallback=function(t,e){return Be.current.useCallback(t,e)};W.useContext=function(t){return Be.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Be.current.useDeferredValue(t)};W.useEffect=function(t,e){return Be.current.useEffect(t,e)};W.useId=function(){return Be.current.useId()};W.useImperativeHandle=function(t,e,r){return Be.current.useImperativeHandle(t,e,r)};W.useInsertionEffect=function(t,e){return Be.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Be.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Be.current.useMemo(t,e)};W.useReducer=function(t,e,r){return Be.current.useReducer(t,e,r)};W.useRef=function(t){return Be.current.useRef(t)};W.useState=function(t){return Be.current.useState(t)};W.useSyncExternalStore=function(t,e,r){return Be.current.useSyncExternalStore(t,e,r)};W.useTransition=function(){return Be.current.useTransition()};W.version="18.3.1";Kh.exports=W;var w=Kh.exports;const mn=ug(w),Eg=Hh({__proto__:null,default:mn},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg=w,Pg=Symbol.for("react.element"),Rg=Symbol.for("react.fragment"),Ag=Object.prototype.hasOwnProperty,Tg=Cg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Og={key:!0,ref:!0,__self:!0,__source:!0};function nf(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Ag.call(e,n)&&!Og.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:Pg,type:t,key:i,ref:o,props:a,_owner:Tg.current}}Vi.Fragment=Rg;Vi.jsx=nf;Vi.jsxs=nf;Qh.exports=Vi;var s=Qh.exports,al={},sf={exports:{}},st={},af={exports:{}},of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,U){var z=O.length;O.push(U);e:for(;0<z;){var K=z-1>>>1,re=O[K];if(0<a(re,U))O[K]=U,O[z]=re,z=K;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var U=O[0],z=O.pop();if(z!==U){O[0]=z;e:for(var K=0,re=O.length,Yt=re>>>1;K<Yt;){var mt=2*(K+1)-1,H=O[mt],J=mt+1,ne=O[J];if(0>a(H,z))J<re&&0>a(ne,H)?(O[K]=ne,O[J]=z,K=J):(O[K]=H,O[mt]=z,K=mt);else if(J<re&&0>a(ne,z))O[K]=ne,O[J]=z,K=J;else break e}}return U}function a(O,U){var z=O.sortIndex-U.sortIndex;return z!==0?z:O.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var l=[],u=[],d=1,h=null,f=3,v=!1,g=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=O)n(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(u)}}function k(O){if(b=!1,x(O),!g)if(r(l)!==null)g=!0,F(j);else{var U=r(u);U!==null&&Y(k,U.startTime-O)}}function j(O,U){g=!1,b&&(b=!1,m(S),S=-1),v=!0;var z=f;try{for(x(U),h=r(l);h!==null&&(!(h.expirationTime>U)||O&&!R());){var K=h.callback;if(typeof K=="function"){h.callback=null,f=h.priorityLevel;var re=K(h.expirationTime<=U);U=t.unstable_now(),typeof re=="function"?h.callback=re:h===r(l)&&n(l),x(U)}else n(l);h=r(l)}if(h!==null)var Yt=!0;else{var mt=r(u);mt!==null&&Y(k,mt.startTime-U),Yt=!1}return Yt}finally{h=null,f=z,v=!1}}var N=!1,_=null,S=-1,P=5,E=-1;function R(){return!(t.unstable_now()-E<P)}function T(){if(_!==null){var O=t.unstable_now();E=O;var U=!0;try{U=_(!0,O)}finally{U?q():(N=!1,_=null)}}else N=!1}var q;if(typeof p=="function")q=function(){p(T)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,ye=ie.port2;ie.port1.onmessage=T,q=function(){ye.postMessage(null)}}else q=function(){y(T,0)};function F(O){_=O,N||(N=!0,q())}function Y(O,U){S=y(function(){O(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,F(j))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var z=f;f=U;try{return O()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,U){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var z=f;f=O;try{return U()}finally{f=z}},t.unstable_scheduleCallback=function(O,U,z){var K=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?K+z:K):z=K,O){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=z+re,O={id:d++,callback:U,priorityLevel:O,startTime:z,expirationTime:re,sortIndex:-1},z>K?(O.sortIndex=z,e(u,O),r(l)===null&&O===r(u)&&(b?(m(S),S=-1):b=!0,Y(k,z-K))):(O.sortIndex=re,e(l,O),g||v||(g=!0,F(j))),O},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(O){var U=f;return function(){var z=f;f=U;try{return O.apply(this,arguments)}finally{f=z}}}})(of);af.exports=of;var Ig=af.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg=w,nt=Ig;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lf=new Set,Ts={};function Zr(t,e){Dn(t,e),Dn(t+"Capture",e)}function Dn(t,e){for(Ts[t]=e,t=0;t<e.length;t++)lf.add(e[t])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),il=Object.prototype.hasOwnProperty,Mg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uu={},Bu={};function Lg(t){return il.call(Bu,t)?!0:il.call(Uu,t)?!1:Mg.test(t)?Bu[t]=!0:(Uu[t]=!0,!1)}function $g(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ug(t,e,r,n){if(e===null||typeof e>"u"||$g(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fe(t,e,r,n,a,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Re[t]=new Fe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Re[e]=new Fe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Re[t]=new Fe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Re[t]=new Fe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Re[t]=new Fe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Re[t]=new Fe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Re[t]=new Fe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Re[t]=new Fe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Re[t]=new Fe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Nc=/[\-:]([a-z])/g;function _c(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Nc,_c);Re[e]=new Fe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Nc,_c);Re[e]=new Fe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Nc,_c);Re[e]=new Fe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Re[t]=new Fe(t,1,!1,t.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Fe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Re[t]=new Fe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sc(t,e,r,n){var a=Re.hasOwnProperty(e)?Re[e]:null;(a!==null?a.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ug(e,r,a,n)&&(r=null),n||a===null?Lg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):a.mustUseProperty?t[a.propertyName]=r===null?a.type===3?!1:"":r:(e=a.attributeName,n=a.attributeNamespace,r===null?t.removeAttribute(e):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Kt=Dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xa=Symbol.for("react.element"),pn=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),Ec=Symbol.for("react.strict_mode"),ol=Symbol.for("react.profiler"),cf=Symbol.for("react.provider"),uf=Symbol.for("react.context"),Cc=Symbol.for("react.forward_ref"),ll=Symbol.for("react.suspense"),cl=Symbol.for("react.suspense_list"),Pc=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),df=Symbol.for("react.offscreen"),Fu=Symbol.iterator;function as(t){return t===null||typeof t!="object"?null:(t=Fu&&t[Fu]||t["@@iterator"],typeof t=="function"?t:null)}var ue=Object.assign,vo;function fs(t){if(vo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);vo=e&&e[1]||""}return`
`+vo+t}var yo=!1;function bo(t,e){if(!t||yo)return"";yo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,c=i.length-1;1<=o&&0<=c&&a[o]!==i[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==i[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==i[c]){var l=`
`+a[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=c);break}}}finally{yo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?fs(t):""}function Bg(t){switch(t.tag){case 5:return fs(t.type);case 16:return fs("Lazy");case 13:return fs("Suspense");case 19:return fs("SuspenseList");case 0:case 2:case 15:return t=bo(t.type,!1),t;case 11:return t=bo(t.type.render,!1),t;case 1:return t=bo(t.type,!0),t;default:return""}}function ul(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gn:return"Fragment";case pn:return"Portal";case ol:return"Profiler";case Ec:return"StrictMode";case ll:return"Suspense";case cl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uf:return(t.displayName||"Context")+".Consumer";case cf:return(t._context.displayName||"Context")+".Provider";case Cc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pc:return e=t.displayName||null,e!==null?e:ul(t.type)||"Memo";case tr:e=t._payload,t=t._init;try{return ul(t(e))}catch{}}return null}function Fg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ul(e);case 8:return e===Ec?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zg(t){var e=hf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function va(t){t._valueTracker||(t._valueTracker=zg(t))}function ff(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=hf(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dl(t,e){var r=e.checked;return ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function zu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=yr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mf(t,e){e=e.checked,e!=null&&Sc(t,"checked",e,!1)}function hl(t,e){mf(t,e);var r=yr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fl(t,e.type,r):e.hasOwnProperty("defaultValue")&&fl(t,e.type,yr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function fl(t,e,r){(e!=="number"||oi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ms=Array.isArray;function En(t,e,r,n){if(t=t.options,e){e={};for(var a=0;a<r.length;a++)e["$"+r[a]]=!0;for(r=0;r<t.length;r++)a=e.hasOwnProperty("$"+t[r].value),t[r].selected!==a&&(t[r].selected=a),a&&n&&(t[r].defaultSelected=!0)}else{for(r=""+yr(r),e=null,a=0;a<t.length;a++){if(t[a].value===r){t[a].selected=!0,n&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function ml(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(C(92));if(ms(r)){if(1<r.length)throw Error(C(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:yr(r)}}function pf(t,e){var r=yr(e.value),n=yr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Wu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ya,xf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,a){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,a)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ya=ya||document.createElement("div"),ya.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ya.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Os(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qg=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(t){qg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bs[e]=bs[t]})});function vf(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||bs.hasOwnProperty(t)&&bs[t]?(""+e).trim():e+"px"}function yf(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=vf(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,a):t[r]=a}}var Vg=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gl(t,e){if(e){if(Vg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function xl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=null;function Rc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yl=null,Cn=null,Pn=null;function Hu(t){if(t=la(t)){if(typeof yl!="function")throw Error(C(280));var e=t.stateNode;e&&(e=Gi(e),yl(t.stateNode,t.type,e))}}function bf(t){Cn?Pn?Pn.push(t):Pn=[t]:Cn=t}function wf(){if(Cn){var t=Cn,e=Pn;if(Pn=Cn=null,Hu(t),e)for(t=0;t<e.length;t++)Hu(e[t])}}function kf(t,e){return t(e)}function jf(){}var wo=!1;function Nf(t,e,r){if(wo)return t(e,r);wo=!0;try{return kf(t,e,r)}finally{wo=!1,(Cn!==null||Pn!==null)&&(jf(),wf())}}function Is(t,e){var r=t.stateNode;if(r===null)return null;var n=Gi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(C(231,e,typeof r));return r}var bl=!1;if(qt)try{var is={};Object.defineProperty(is,"passive",{get:function(){bl=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{bl=!1}function Wg(t,e,r,n,a,i,o,c,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var ws=!1,li=null,ci=!1,wl=null,Hg={onError:function(t){ws=!0,li=t}};function Qg(t,e,r,n,a,i,o,c,l){ws=!1,li=null,Wg.apply(Hg,arguments)}function Kg(t,e,r,n,a,i,o,c,l){if(Qg.apply(this,arguments),ws){if(ws){var u=li;ws=!1,li=null}else throw Error(C(198));ci||(ci=!0,wl=u)}}function en(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function _f(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qu(t){if(en(t)!==t)throw Error(C(188))}function Gg(t){var e=t.alternate;if(!e){if(e=en(t),e===null)throw Error(C(188));return e!==t?null:t}for(var r=t,n=e;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Qu(a),t;if(i===n)return Qu(a),e;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=i;break}if(c===n){o=!0,n=a,r=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===r){o=!0,r=i,n=a;break}if(c===n){o=!0,n=i,r=a;break}c=c.sibling}if(!o)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?t:e}function Sf(t){return t=Gg(t),t!==null?Ef(t):null}function Ef(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ef(t);if(e!==null)return e;t=t.sibling}return null}var Cf=nt.unstable_scheduleCallback,Ku=nt.unstable_cancelCallback,Jg=nt.unstable_shouldYield,Yg=nt.unstable_requestPaint,me=nt.unstable_now,Xg=nt.unstable_getCurrentPriorityLevel,Ac=nt.unstable_ImmediatePriority,Pf=nt.unstable_UserBlockingPriority,ui=nt.unstable_NormalPriority,Zg=nt.unstable_LowPriority,Rf=nt.unstable_IdlePriority,Wi=null,At=null;function ex(t){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Wi,t,void 0,(t.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:nx,tx=Math.log,rx=Math.LN2;function nx(t){return t>>>=0,t===0?32:31-(tx(t)/rx|0)|0}var ba=64,wa=4194304;function ps(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function di(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,a=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var c=o&~a;c!==0?n=ps(c):(i&=o,i!==0&&(n=ps(i)))}else o=r&~a,o!==0?n=ps(o):i!==0&&(n=ps(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&a)&&(a=n&-n,i=e&-e,a>=i||a===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-wt(e),a=1<<r,n|=t[r],e&=~a;return n}function sx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ax(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-wt(i),c=1<<o,l=a[o];l===-1?(!(c&r)||c&n)&&(a[o]=sx(c,e)):l<=e&&(t.expiredLanes|=c),i&=~c}}function kl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Af(){var t=ba;return ba<<=1,!(ba&4194240)&&(ba=64),t}function ko(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ia(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wt(e),t[e]=r}function ix(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var a=31-wt(r),i=1<<a;e[a]=0,n[a]=-1,t[a]=-1,r&=~i}}function Tc(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-wt(r),a=1<<n;a&e|t[n]&e&&(t[n]|=e),r&=~a}}var G=0;function Tf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Of,Oc,If,Df,Mf,jl=!1,ka=[],ur=null,dr=null,hr=null,Ds=new Map,Ms=new Map,sr=[],ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gu(t,e){switch(t){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Ds.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ms.delete(e.pointerId)}}function os(t,e,r,n,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},e!==null&&(e=la(e),e!==null&&Oc(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function lx(t,e,r,n,a){switch(e){case"focusin":return ur=os(ur,t,e,r,n,a),!0;case"dragenter":return dr=os(dr,t,e,r,n,a),!0;case"mouseover":return hr=os(hr,t,e,r,n,a),!0;case"pointerover":var i=a.pointerId;return Ds.set(i,os(Ds.get(i)||null,t,e,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Ms.set(i,os(Ms.get(i)||null,t,e,r,n,a)),!0}return!1}function Lf(t){var e=Lr(t.target);if(e!==null){var r=en(e);if(r!==null){if(e=r.tag,e===13){if(e=_f(r),e!==null){t.blockedOn=e,Mf(t.priority,function(){If(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ka(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Nl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);vl=n,r.target.dispatchEvent(n),vl=null}else return e=la(r),e!==null&&Oc(e),t.blockedOn=r,!1;e.shift()}return!0}function Ju(t,e,r){Ka(t)&&r.delete(e)}function cx(){jl=!1,ur!==null&&Ka(ur)&&(ur=null),dr!==null&&Ka(dr)&&(dr=null),hr!==null&&Ka(hr)&&(hr=null),Ds.forEach(Ju),Ms.forEach(Ju)}function ls(t,e){t.blockedOn===e&&(t.blockedOn=null,jl||(jl=!0,nt.unstable_scheduleCallback(nt.unstable_NormalPriority,cx)))}function Ls(t){function e(a){return ls(a,t)}if(0<ka.length){ls(ka[0],t);for(var r=1;r<ka.length;r++){var n=ka[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ur!==null&&ls(ur,t),dr!==null&&ls(dr,t),hr!==null&&ls(hr,t),Ds.forEach(e),Ms.forEach(e),r=0;r<sr.length;r++)n=sr[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<sr.length&&(r=sr[0],r.blockedOn===null);)Lf(r),r.blockedOn===null&&sr.shift()}var Rn=Kt.ReactCurrentBatchConfig,hi=!0;function ux(t,e,r,n){var a=G,i=Rn.transition;Rn.transition=null;try{G=1,Ic(t,e,r,n)}finally{G=a,Rn.transition=i}}function dx(t,e,r,n){var a=G,i=Rn.transition;Rn.transition=null;try{G=4,Ic(t,e,r,n)}finally{G=a,Rn.transition=i}}function Ic(t,e,r,n){if(hi){var a=Nl(t,e,r,n);if(a===null)To(t,e,n,fi,r),Gu(t,n);else if(lx(a,t,e,r,n))n.stopPropagation();else if(Gu(t,n),e&4&&-1<ox.indexOf(t)){for(;a!==null;){var i=la(a);if(i!==null&&Of(i),i=Nl(t,e,r,n),i===null&&To(t,e,n,fi,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else To(t,e,n,null,r)}}var fi=null;function Nl(t,e,r,n){if(fi=null,t=Rc(n),t=Lr(t),t!==null)if(e=en(t),e===null)t=null;else if(r=e.tag,r===13){if(t=_f(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fi=t,null}function $f(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xg()){case Ac:return 1;case Pf:return 4;case ui:case Zg:return 16;case Rf:return 536870912;default:return 16}default:return 16}}var or=null,Dc=null,Ga=null;function Uf(){if(Ga)return Ga;var t,e=Dc,r=e.length,n,a="value"in or?or.value:or.textContent,i=a.length;for(t=0;t<r&&e[t]===a[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===a[i-n];n++);return Ga=a.slice(t,1<n?1-n:void 0)}function Ja(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ja(){return!0}function Yu(){return!1}function at(t){function e(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(r=t[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ja:Yu,this.isPropagationStopped=Yu,this}return ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ja)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ja)},persist:function(){},isPersistent:ja}),e}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mc=at(Jn),oa=ue({},Jn,{view:0,detail:0}),hx=at(oa),jo,No,cs,Hi=ue({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cs&&(cs&&t.type==="mousemove"?(jo=t.screenX-cs.screenX,No=t.screenY-cs.screenY):No=jo=0,cs=t),jo)},movementY:function(t){return"movementY"in t?t.movementY:No}}),Xu=at(Hi),fx=ue({},Hi,{dataTransfer:0}),mx=at(fx),px=ue({},oa,{relatedTarget:0}),_o=at(px),gx=ue({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),xx=at(gx),vx=ue({},Jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yx=at(vx),bx=ue({},Jn,{data:0}),Zu=at(bx),wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jx[t])?!!e[t]:!1}function Lc(){return Nx}var _x=ue({},oa,{key:function(t){if(t.key){var e=wx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ja(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lc,charCode:function(t){return t.type==="keypress"?Ja(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ja(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Sx=at(_x),Ex=ue({},Hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ed=at(Ex),Cx=ue({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lc}),Px=at(Cx),Rx=ue({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ax=at(Rx),Tx=ue({},Hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ox=at(Tx),Ix=[9,13,27,32],$c=qt&&"CompositionEvent"in window,ks=null;qt&&"documentMode"in document&&(ks=document.documentMode);var Dx=qt&&"TextEvent"in window&&!ks,Bf=qt&&(!$c||ks&&8<ks&&11>=ks),td=String.fromCharCode(32),rd=!1;function Ff(t,e){switch(t){case"keyup":return Ix.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xn=!1;function Mx(t,e){switch(t){case"compositionend":return zf(e);case"keypress":return e.which!==32?null:(rd=!0,td);case"textInput":return t=e.data,t===td&&rd?null:t;default:return null}}function Lx(t,e){if(xn)return t==="compositionend"||!$c&&Ff(t,e)?(t=Uf(),Ga=Dc=or=null,xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bf&&e.locale!=="ko"?null:e.data;default:return null}}var $x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$x[t.type]:e==="textarea"}function qf(t,e,r,n){bf(n),e=mi(e,"onChange"),0<e.length&&(r=new Mc("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var js=null,$s=null;function Ux(t){em(t,0)}function Qi(t){var e=bn(t);if(ff(e))return t}function Bx(t,e){if(t==="change")return e}var Vf=!1;if(qt){var So;if(qt){var Eo="oninput"in document;if(!Eo){var sd=document.createElement("div");sd.setAttribute("oninput","return;"),Eo=typeof sd.oninput=="function"}So=Eo}else So=!1;Vf=So&&(!document.documentMode||9<document.documentMode)}function ad(){js&&(js.detachEvent("onpropertychange",Wf),$s=js=null)}function Wf(t){if(t.propertyName==="value"&&Qi($s)){var e=[];qf(e,$s,t,Rc(t)),Nf(Ux,e)}}function Fx(t,e,r){t==="focusin"?(ad(),js=e,$s=r,js.attachEvent("onpropertychange",Wf)):t==="focusout"&&ad()}function zx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qi($s)}function qx(t,e){if(t==="click")return Qi(e)}function Vx(t,e){if(t==="input"||t==="change")return Qi(e)}function Wx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:Wx;function Us(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!il.call(e,a)||!jt(t[a],e[a]))return!1}return!0}function id(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function od(t,e){var r=id(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=id(r)}}function Hf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qf(){for(var t=window,e=oi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=oi(t.document)}return e}function Uc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Hx(t){var e=Qf(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Hf(r.ownerDocument.documentElement,r)){if(n!==null&&Uc(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!t.extend&&i>n&&(a=n,n=i,i=a),a=od(r,i);var o=od(r,n);a&&o&&(t.rangeCount!==1||t.anchorNode!==a.node||t.anchorOffset!==a.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(a.node,a.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qx=qt&&"documentMode"in document&&11>=document.documentMode,vn=null,_l=null,Ns=null,Sl=!1;function ld(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sl||vn==null||vn!==oi(n)||(n=vn,"selectionStart"in n&&Uc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ns&&Us(Ns,n)||(Ns=n,n=mi(_l,"onSelect"),0<n.length&&(e=new Mc("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=vn)))}function Na(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var yn={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionend:Na("Transition","TransitionEnd")},Co={},Kf={};qt&&(Kf=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);function Ki(t){if(Co[t])return Co[t];if(!yn[t])return t;var e=yn[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Kf)return Co[t]=e[r];return t}var Gf=Ki("animationend"),Jf=Ki("animationiteration"),Yf=Ki("animationstart"),Xf=Ki("transitionend"),Zf=new Map,cd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(t,e){Zf.set(t,e),Zr(e,[t])}for(var Po=0;Po<cd.length;Po++){var Ro=cd[Po],Kx=Ro.toLowerCase(),Gx=Ro[0].toUpperCase()+Ro.slice(1);kr(Kx,"on"+Gx)}kr(Gf,"onAnimationEnd");kr(Jf,"onAnimationIteration");kr(Yf,"onAnimationStart");kr("dblclick","onDoubleClick");kr("focusin","onFocus");kr("focusout","onBlur");kr(Xf,"onTransitionEnd");Dn("onMouseEnter",["mouseout","mouseover"]);Dn("onMouseLeave",["mouseout","mouseover"]);Dn("onPointerEnter",["pointerout","pointerover"]);Dn("onPointerLeave",["pointerout","pointerover"]);Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jx=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function ud(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Kg(n,e,void 0,t),t.currentTarget=null}function em(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],a=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var c=n[o],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==i&&a.isPropagationStopped())break e;ud(a,c,u),i=l}else for(o=0;o<n.length;o++){if(c=n[o],l=c.instance,u=c.currentTarget,c=c.listener,l!==i&&a.isPropagationStopped())break e;ud(a,c,u),i=l}}}if(ci)throw t=wl,ci=!1,wl=null,t}function ee(t,e){var r=e[Al];r===void 0&&(r=e[Al]=new Set);var n=t+"__bubble";r.has(n)||(tm(e,t,2,!1),r.add(n))}function Ao(t,e,r){var n=0;e&&(n|=4),tm(r,t,n,e)}var _a="_reactListening"+Math.random().toString(36).slice(2);function Bs(t){if(!t[_a]){t[_a]=!0,lf.forEach(function(r){r!=="selectionchange"&&(Jx.has(r)||Ao(r,!1,t),Ao(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_a]||(e[_a]=!0,Ao("selectionchange",!1,e))}}function tm(t,e,r,n){switch($f(e)){case 1:var a=ux;break;case 4:a=dx;break;default:a=Ic}r=a.bind(null,e,r,t),a=void 0,!bl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),n?a!==void 0?t.addEventListener(e,r,{capture:!0,passive:a}):t.addEventListener(e,r,!0):a!==void 0?t.addEventListener(e,r,{passive:a}):t.addEventListener(e,r,!1)}function To(t,e,r,n,a){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;c!==null;){if(o=Lr(c),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}c=c.parentNode}}n=n.return}Nf(function(){var u=i,d=Rc(r),h=[];e:{var f=Zf.get(t);if(f!==void 0){var v=Mc,g=t;switch(t){case"keypress":if(Ja(r)===0)break e;case"keydown":case"keyup":v=Sx;break;case"focusin":g="focus",v=_o;break;case"focusout":g="blur",v=_o;break;case"beforeblur":case"afterblur":v=_o;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Px;break;case Gf:case Jf:case Yf:v=xx;break;case Xf:v=Ax;break;case"scroll":v=hx;break;case"wheel":v=Ox;break;case"copy":case"cut":case"paste":v=yx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ed}var b=(e&4)!==0,y=!b&&t==="scroll",m=b?f!==null?f+"Capture":null:f;b=[];for(var p=u,x;p!==null;){x=p;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,m!==null&&(k=Is(p,m),k!=null&&b.push(Fs(p,k,x)))),y)break;p=p.return}0<b.length&&(f=new v(f,g,null,r,d),h.push({event:f,listeners:b}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==vl&&(g=r.relatedTarget||r.fromElement)&&(Lr(g)||g[Vt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(g=r.relatedTarget||r.toElement,v=u,g=g?Lr(g):null,g!==null&&(y=en(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(b=Xu,k="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(b=ed,k="onPointerLeave",m="onPointerEnter",p="pointer"),y=v==null?f:bn(v),x=g==null?f:bn(g),f=new b(k,p+"leave",v,r,d),f.target=y,f.relatedTarget=x,k=null,Lr(d)===u&&(b=new b(m,p+"enter",g,r,d),b.target=x,b.relatedTarget=y,k=b),y=k,v&&g)t:{for(b=v,m=g,p=0,x=b;x;x=sn(x))p++;for(x=0,k=m;k;k=sn(k))x++;for(;0<p-x;)b=sn(b),p--;for(;0<x-p;)m=sn(m),x--;for(;p--;){if(b===m||m!==null&&b===m.alternate)break t;b=sn(b),m=sn(m)}b=null}else b=null;v!==null&&dd(h,f,v,b,!1),g!==null&&y!==null&&dd(h,y,g,b,!0)}}e:{if(f=u?bn(u):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var j=Bx;else if(nd(f))if(Vf)j=Vx;else{j=zx;var N=Fx}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=qx);if(j&&(j=j(t,u))){qf(h,j,r,d);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&fl(f,"number",f.value)}switch(N=u?bn(u):window,t){case"focusin":(nd(N)||N.contentEditable==="true")&&(vn=N,_l=u,Ns=null);break;case"focusout":Ns=_l=vn=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,ld(h,r,d);break;case"selectionchange":if(Qx)break;case"keydown":case"keyup":ld(h,r,d)}var _;if($c)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else xn?Ff(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Bf&&r.locale!=="ko"&&(xn||S!=="onCompositionStart"?S==="onCompositionEnd"&&xn&&(_=Uf()):(or=d,Dc="value"in or?or.value:or.textContent,xn=!0)),N=mi(u,S),0<N.length&&(S=new Zu(S,t,null,r,d),h.push({event:S,listeners:N}),_?S.data=_:(_=zf(r),_!==null&&(S.data=_)))),(_=Dx?Mx(t,r):Lx(t,r))&&(u=mi(u,"onBeforeInput"),0<u.length&&(d=new Zu("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=_))}em(h,e)})}function Fs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function mi(t,e){for(var r=e+"Capture",n=[];t!==null;){var a=t,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Is(t,r),i!=null&&n.unshift(Fs(t,i,a)),i=Is(t,e),i!=null&&n.push(Fs(t,i,a))),t=t.return}return n}function sn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dd(t,e,r,n,a){for(var i=e._reactName,o=[];r!==null&&r!==n;){var c=r,l=c.alternate,u=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&u!==null&&(c=u,a?(l=Is(r,i),l!=null&&o.unshift(Fs(r,l,c))):a||(l=Is(r,i),l!=null&&o.push(Fs(r,l,c)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Yx=/\r\n?/g,Xx=/\u0000|\uFFFD/g;function hd(t){return(typeof t=="string"?t:""+t).replace(Yx,`
`).replace(Xx,"")}function Sa(t,e,r){if(e=hd(e),hd(t)!==e&&r)throw Error(C(425))}function pi(){}var El=null,Cl=null;function Pl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rl=typeof setTimeout=="function"?setTimeout:void 0,Zx=typeof clearTimeout=="function"?clearTimeout:void 0,fd=typeof Promise=="function"?Promise:void 0,ev=typeof queueMicrotask=="function"?queueMicrotask:typeof fd<"u"?function(t){return fd.resolve(null).then(t).catch(tv)}:Rl;function tv(t){setTimeout(function(){throw t})}function Oo(t,e){var r=e,n=0;do{var a=r.nextSibling;if(t.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){t.removeChild(a),Ls(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ls(e)}function fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function md(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Yn,zs="__reactProps$"+Yn,Vt="__reactContainer$"+Yn,Al="__reactEvents$"+Yn,rv="__reactListeners$"+Yn,nv="__reactHandles$"+Yn;function Lr(t){var e=t[Pt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Vt]||r[Pt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=md(t);t!==null;){if(r=t[Pt])return r;t=md(t)}return e}t=r,r=t.parentNode}return null}function la(t){return t=t[Pt]||t[Vt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function Gi(t){return t[zs]||null}var Tl=[],wn=-1;function jr(t){return{current:t}}function te(t){0>wn||(t.current=Tl[wn],Tl[wn]=null,wn--)}function Z(t,e){wn++,Tl[wn]=t.current,t.current=e}var br={},Ie=jr(br),He=jr(!1),Wr=br;function Mn(t,e){var r=t.type.contextTypes;if(!r)return br;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=a),a}function Qe(t){return t=t.childContextTypes,t!=null}function gi(){te(He),te(Ie)}function pd(t,e,r){if(Ie.current!==br)throw Error(C(168));Z(Ie,e),Z(He,r)}function rm(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in e))throw Error(C(108,Fg(t)||"Unknown",a));return ue({},r,n)}function xi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||br,Wr=Ie.current,Z(Ie,t),Z(He,He.current),!0}function gd(t,e,r){var n=t.stateNode;if(!n)throw Error(C(169));r?(t=rm(t,e,Wr),n.__reactInternalMemoizedMergedChildContext=t,te(He),te(Ie),Z(Ie,t)):te(He),Z(He,r)}var Lt=null,Ji=!1,Io=!1;function nm(t){Lt===null?Lt=[t]:Lt.push(t)}function sv(t){Ji=!0,nm(t)}function Nr(){if(!Io&&Lt!==null){Io=!0;var t=0,e=G;try{var r=Lt;for(G=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Lt=null,Ji=!1}catch(a){throw Lt!==null&&(Lt=Lt.slice(t+1)),Cf(Ac,Nr),a}finally{G=e,Io=!1}}return null}var kn=[],jn=0,vi=null,yi=0,lt=[],ct=0,Hr=null,$t=1,Ut="";function Ar(t,e){kn[jn++]=yi,kn[jn++]=vi,vi=t,yi=e}function sm(t,e,r){lt[ct++]=$t,lt[ct++]=Ut,lt[ct++]=Hr,Hr=t;var n=$t;t=Ut;var a=32-wt(n)-1;n&=~(1<<a),r+=1;var i=32-wt(e)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,$t=1<<32-wt(e)+a|r<<a|n,Ut=i+t}else $t=1<<i|r<<a|n,Ut=t}function Bc(t){t.return!==null&&(Ar(t,1),sm(t,1,0))}function Fc(t){for(;t===vi;)vi=kn[--jn],kn[jn]=null,yi=kn[--jn],kn[jn]=null;for(;t===Hr;)Hr=lt[--ct],lt[ct]=null,Ut=lt[--ct],lt[ct]=null,$t=lt[--ct],lt[ct]=null}var rt=null,tt=null,ae=!1,bt=null;function am(t,e){var r=ut(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function xd(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rt=t,tt=fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rt=t,tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Hr!==null?{id:$t,overflow:Ut}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ut(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,rt=t,tt=null,!0):!1;default:return!1}}function Ol(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Il(t){if(ae){var e=tt;if(e){var r=e;if(!xd(t,e)){if(Ol(t))throw Error(C(418));e=fr(r.nextSibling);var n=rt;e&&xd(t,e)?am(n,r):(t.flags=t.flags&-4097|2,ae=!1,rt=t)}}else{if(Ol(t))throw Error(C(418));t.flags=t.flags&-4097|2,ae=!1,rt=t}}}function vd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rt=t}function Ea(t){if(t!==rt)return!1;if(!ae)return vd(t),ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pl(t.type,t.memoizedProps)),e&&(e=tt)){if(Ol(t))throw im(),Error(C(418));for(;e;)am(t,e),e=fr(e.nextSibling)}if(vd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){tt=fr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}tt=null}}else tt=rt?fr(t.stateNode.nextSibling):null;return!0}function im(){for(var t=tt;t;)t=fr(t.nextSibling)}function Ln(){tt=rt=null,ae=!1}function zc(t){bt===null?bt=[t]:bt.push(t)}var av=Kt.ReactCurrentBatchConfig;function us(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,t));var a=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var c=a.refs;o===null?delete c[i]:c[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,t))}return t}function Ca(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yd(t){var e=t._init;return e(t._payload)}function om(t){function e(m,p){if(t){var x=m.deletions;x===null?(m.deletions=[p],m.flags|=16):x.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function a(m,p){return m=xr(m,p),m.index=0,m.sibling=null,m}function i(m,p,x){return m.index=x,t?(x=m.alternate,x!==null?(x=x.index,x<p?(m.flags|=2,p):x):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function c(m,p,x,k){return p===null||p.tag!==6?(p=Fo(x,m.mode,k),p.return=m,p):(p=a(p,x),p.return=m,p)}function l(m,p,x,k){var j=x.type;return j===gn?d(m,p,x.props.children,k,x.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===tr&&yd(j)===p.type)?(k=a(p,x.props),k.ref=us(m,p,x),k.return=m,k):(k=ni(x.type,x.key,x.props,null,m.mode,k),k.ref=us(m,p,x),k.return=m,k)}function u(m,p,x,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==x.containerInfo||p.stateNode.implementation!==x.implementation?(p=zo(x,m.mode,k),p.return=m,p):(p=a(p,x.children||[]),p.return=m,p)}function d(m,p,x,k,j){return p===null||p.tag!==7?(p=qr(x,m.mode,k,j),p.return=m,p):(p=a(p,x),p.return=m,p)}function h(m,p,x){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Fo(""+p,m.mode,x),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case xa:return x=ni(p.type,p.key,p.props,null,m.mode,x),x.ref=us(m,null,p),x.return=m,x;case pn:return p=zo(p,m.mode,x),p.return=m,p;case tr:var k=p._init;return h(m,k(p._payload),x)}if(ms(p)||as(p))return p=qr(p,m.mode,x,null),p.return=m,p;Ca(m,p)}return null}function f(m,p,x,k){var j=p!==null?p.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:c(m,p,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case xa:return x.key===j?l(m,p,x,k):null;case pn:return x.key===j?u(m,p,x,k):null;case tr:return j=x._init,f(m,p,j(x._payload),k)}if(ms(x)||as(x))return j!==null?null:d(m,p,x,k,null);Ca(m,x)}return null}function v(m,p,x,k,j){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(x)||null,c(p,m,""+k,j);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case xa:return m=m.get(k.key===null?x:k.key)||null,l(p,m,k,j);case pn:return m=m.get(k.key===null?x:k.key)||null,u(p,m,k,j);case tr:var N=k._init;return v(m,p,x,N(k._payload),j)}if(ms(k)||as(k))return m=m.get(x)||null,d(p,m,k,j,null);Ca(p,k)}return null}function g(m,p,x,k){for(var j=null,N=null,_=p,S=p=0,P=null;_!==null&&S<x.length;S++){_.index>S?(P=_,_=null):P=_.sibling;var E=f(m,_,x[S],k);if(E===null){_===null&&(_=P);break}t&&_&&E.alternate===null&&e(m,_),p=i(E,p,S),N===null?j=E:N.sibling=E,N=E,_=P}if(S===x.length)return r(m,_),ae&&Ar(m,S),j;if(_===null){for(;S<x.length;S++)_=h(m,x[S],k),_!==null&&(p=i(_,p,S),N===null?j=_:N.sibling=_,N=_);return ae&&Ar(m,S),j}for(_=n(m,_);S<x.length;S++)P=v(_,m,S,x[S],k),P!==null&&(t&&P.alternate!==null&&_.delete(P.key===null?S:P.key),p=i(P,p,S),N===null?j=P:N.sibling=P,N=P);return t&&_.forEach(function(R){return e(m,R)}),ae&&Ar(m,S),j}function b(m,p,x,k){var j=as(x);if(typeof j!="function")throw Error(C(150));if(x=j.call(x),x==null)throw Error(C(151));for(var N=j=null,_=p,S=p=0,P=null,E=x.next();_!==null&&!E.done;S++,E=x.next()){_.index>S?(P=_,_=null):P=_.sibling;var R=f(m,_,E.value,k);if(R===null){_===null&&(_=P);break}t&&_&&R.alternate===null&&e(m,_),p=i(R,p,S),N===null?j=R:N.sibling=R,N=R,_=P}if(E.done)return r(m,_),ae&&Ar(m,S),j;if(_===null){for(;!E.done;S++,E=x.next())E=h(m,E.value,k),E!==null&&(p=i(E,p,S),N===null?j=E:N.sibling=E,N=E);return ae&&Ar(m,S),j}for(_=n(m,_);!E.done;S++,E=x.next())E=v(_,m,S,E.value,k),E!==null&&(t&&E.alternate!==null&&_.delete(E.key===null?S:E.key),p=i(E,p,S),N===null?j=E:N.sibling=E,N=E);return t&&_.forEach(function(T){return e(m,T)}),ae&&Ar(m,S),j}function y(m,p,x,k){if(typeof x=="object"&&x!==null&&x.type===gn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case xa:e:{for(var j=x.key,N=p;N!==null;){if(N.key===j){if(j=x.type,j===gn){if(N.tag===7){r(m,N.sibling),p=a(N,x.props.children),p.return=m,m=p;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===tr&&yd(j)===N.type){r(m,N.sibling),p=a(N,x.props),p.ref=us(m,N,x),p.return=m,m=p;break e}r(m,N);break}else e(m,N);N=N.sibling}x.type===gn?(p=qr(x.props.children,m.mode,k,x.key),p.return=m,m=p):(k=ni(x.type,x.key,x.props,null,m.mode,k),k.ref=us(m,p,x),k.return=m,m=k)}return o(m);case pn:e:{for(N=x.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===x.containerInfo&&p.stateNode.implementation===x.implementation){r(m,p.sibling),p=a(p,x.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=zo(x,m.mode,k),p.return=m,m=p}return o(m);case tr:return N=x._init,y(m,p,N(x._payload),k)}if(ms(x))return g(m,p,x,k);if(as(x))return b(m,p,x,k);Ca(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,p!==null&&p.tag===6?(r(m,p.sibling),p=a(p,x),p.return=m,m=p):(r(m,p),p=Fo(x,m.mode,k),p.return=m,m=p),o(m)):r(m,p)}return y}var $n=om(!0),lm=om(!1),bi=jr(null),wi=null,Nn=null,qc=null;function Vc(){qc=Nn=wi=null}function Wc(t){var e=bi.current;te(bi),t._currentValue=e}function Dl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function An(t,e){wi=t,qc=Nn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(We=!0),t.firstContext=null)}function ht(t){var e=t._currentValue;if(qc!==t)if(t={context:t,memoizedValue:e,next:null},Nn===null){if(wi===null)throw Error(C(308));Nn=t,wi.dependencies={lanes:0,firstContext:t}}else Nn=Nn.next=t;return e}var $r=null;function Hc(t){$r===null?$r=[t]:$r.push(t)}function cm(t,e,r,n){var a=e.interleaved;return a===null?(r.next=r,Hc(e)):(r.next=a.next,a.next=r),e.interleaved=r,Wt(t,n)}function Wt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var rr=!1;function Qc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function um(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Q&2){var a=n.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),n.pending=e,Wt(t,r)}return a=n.interleaved,a===null?(e.next=e,Hc(n)):(e.next=a.next,a.next=e),n.interleaved=e,Wt(t,r)}function Ya(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tc(t,r)}}function bd(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=e:i=i.next=e}else a=i=e;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ki(t,e,r,n){var a=t.updateQueue;rr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var l=c,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==o&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=a.baseState;o=0,d=u=l=null,c=i;do{var f=c.lane,v=c.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=t,b=c;switch(f=e,v=r,b.tag){case 1:if(g=b.payload,typeof g=="function"){h=g.call(v,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,f=typeof g=="function"?g.call(v,h,f):g,f==null)break e;h=ue({},h,f);break e;case 2:rr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,f=a.effects,f===null?a.effects=[c]:f.push(c))}else v={eventTime:v,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=v,l=h):d=d.next=v,o|=f;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;f=c,c=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(1);if(d===null&&(l=h),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,e=a.shared.interleaved,e!==null){a=e;do o|=a.lane,a=a.next;while(a!==e)}else i===null&&(a.shared.lanes=0);Kr|=o,t.lanes=o,t.memoizedState=h}}function wd(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(C(191,a));a.call(n)}}}var ca={},Tt=jr(ca),qs=jr(ca),Vs=jr(ca);function Ur(t){if(t===ca)throw Error(C(174));return t}function Kc(t,e){switch(Z(Vs,e),Z(qs,t),Z(Tt,ca),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pl(e,t)}te(Tt),Z(Tt,e)}function Un(){te(Tt),te(qs),te(Vs)}function dm(t){Ur(Vs.current);var e=Ur(Tt.current),r=pl(e,t.type);e!==r&&(Z(qs,t),Z(Tt,r))}function Gc(t){qs.current===t&&(te(Tt),te(qs))}var le=jr(0);function ji(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Do=[];function Jc(){for(var t=0;t<Do.length;t++)Do[t]._workInProgressVersionPrimary=null;Do.length=0}var Xa=Kt.ReactCurrentDispatcher,Mo=Kt.ReactCurrentBatchConfig,Qr=0,ce=null,we=null,_e=null,Ni=!1,_s=!1,Ws=0,iv=0;function Ae(){throw Error(C(321))}function Yc(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!jt(t[r],e[r]))return!1;return!0}function Xc(t,e,r,n,a,i){if(Qr=i,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xa.current=t===null||t.memoizedState===null?uv:dv,t=r(n,a),_s){i=0;do{if(_s=!1,Ws=0,25<=i)throw Error(C(301));i+=1,_e=we=null,e.updateQueue=null,Xa.current=hv,t=r(n,a)}while(_s)}if(Xa.current=_i,e=we!==null&&we.next!==null,Qr=0,_e=we=ce=null,Ni=!1,e)throw Error(C(300));return t}function Zc(){var t=Ws!==0;return Ws=0,t}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ce.memoizedState=_e=t:_e=_e.next=t,_e}function ft(){if(we===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=_e===null?ce.memoizedState:_e.next;if(e!==null)_e=e,we=t;else{if(t===null)throw Error(C(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},_e===null?ce.memoizedState=_e=t:_e=_e.next=t}return _e}function Hs(t,e){return typeof e=="function"?e(t):e}function Lo(t){var e=ft(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=we,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var c=o=null,l=null,u=i;do{var d=u.lane;if((Qr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=h,o=n):l=l.next=h,ce.lanes|=d,Kr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=c,jt(n,e.memoizedState)||(We=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){a=t;do i=a.lane,ce.lanes|=i,Kr|=i,a=a.next;while(a!==t)}else a===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function $o(t){var e=ft(),r=e.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=t;var n=r.dispatch,a=r.pending,i=e.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=t(i,o.action),o=o.next;while(o!==a);jt(i,e.memoizedState)||(We=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function hm(){}function fm(t,e){var r=ce,n=ft(),a=e(),i=!jt(n.memoizedState,a);if(i&&(n.memoizedState=a,We=!0),n=n.queue,eu(gm.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||_e!==null&&_e.memoizedState.tag&1){if(r.flags|=2048,Qs(9,pm.bind(null,r,n,a,e),void 0,null),Se===null)throw Error(C(349));Qr&30||mm(r,e,a)}return a}function mm(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function pm(t,e,r,n){e.value=r,e.getSnapshot=n,xm(e)&&vm(t)}function gm(t,e,r){return r(function(){xm(e)&&vm(t)})}function xm(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!jt(t,r)}catch{return!0}}function vm(t){var e=Wt(t,1);e!==null&&kt(e,t,1,-1)}function kd(t){var e=Ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:t},e.queue=t,t=t.dispatch=cv.bind(null,ce,t),[e.memoizedState,t]}function Qs(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function ym(){return ft().memoizedState}function Za(t,e,r,n){var a=Ct();ce.flags|=t,a.memoizedState=Qs(1|e,r,void 0,n===void 0?null:n)}function Yi(t,e,r,n){var a=ft();n=n===void 0?null:n;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,n!==null&&Yc(n,o.deps)){a.memoizedState=Qs(e,r,i,n);return}}ce.flags|=t,a.memoizedState=Qs(1|e,r,i,n)}function jd(t,e){return Za(8390656,8,t,e)}function eu(t,e){return Yi(2048,8,t,e)}function bm(t,e){return Yi(4,2,t,e)}function wm(t,e){return Yi(4,4,t,e)}function km(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jm(t,e,r){return r=r!=null?r.concat([t]):null,Yi(4,4,km.bind(null,e,t),r)}function tu(){}function Nm(t,e){var r=ft();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yc(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function _m(t,e){var r=ft();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yc(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Sm(t,e,r){return Qr&21?(jt(r,e)||(r=Af(),ce.lanes|=r,Kr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,We=!0),t.memoizedState=r)}function ov(t,e){var r=G;G=r!==0&&4>r?r:4,t(!0);var n=Mo.transition;Mo.transition={};try{t(!1),e()}finally{G=r,Mo.transition=n}}function Em(){return ft().memoizedState}function lv(t,e,r){var n=gr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Cm(t))Pm(e,r);else if(r=cm(t,e,r,n),r!==null){var a=$e();kt(r,t,n,a),Rm(r,e,n)}}function cv(t,e,r){var n=gr(t),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Cm(t))Pm(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,c=i(o,r);if(a.hasEagerState=!0,a.eagerState=c,jt(c,o)){var l=e.interleaved;l===null?(a.next=a,Hc(e)):(a.next=l.next,l.next=a),e.interleaved=a;return}}catch{}finally{}r=cm(t,e,a,n),r!==null&&(a=$e(),kt(r,t,n,a),Rm(r,e,n))}}function Cm(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function Pm(t,e){_s=Ni=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Rm(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tc(t,r)}}var _i={readContext:ht,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},uv={readContext:ht,useCallback:function(t,e){return Ct().memoizedState=[t,e===void 0?null:e],t},useContext:ht,useEffect:jd,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Za(4194308,4,km.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Za(4194308,4,t,e)},useInsertionEffect:function(t,e){return Za(4,2,t,e)},useMemo:function(t,e){var r=Ct();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Ct();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=lv.bind(null,ce,t),[n.memoizedState,t]},useRef:function(t){var e=Ct();return t={current:t},e.memoizedState=t},useState:kd,useDebugValue:tu,useDeferredValue:function(t){return Ct().memoizedState=t},useTransition:function(){var t=kd(!1),e=t[0];return t=ov.bind(null,t[1]),Ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ce,a=Ct();if(ae){if(r===void 0)throw Error(C(407));r=r()}else{if(r=e(),Se===null)throw Error(C(349));Qr&30||mm(n,e,r)}a.memoizedState=r;var i={value:r,getSnapshot:e};return a.queue=i,jd(gm.bind(null,n,i,t),[t]),n.flags|=2048,Qs(9,pm.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Ct(),e=Se.identifierPrefix;if(ae){var r=Ut,n=$t;r=(n&~(1<<32-wt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ws++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=iv++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dv={readContext:ht,useCallback:Nm,useContext:ht,useEffect:eu,useImperativeHandle:jm,useInsertionEffect:bm,useLayoutEffect:wm,useMemo:_m,useReducer:Lo,useRef:ym,useState:function(){return Lo(Hs)},useDebugValue:tu,useDeferredValue:function(t){var e=ft();return Sm(e,we.memoizedState,t)},useTransition:function(){var t=Lo(Hs)[0],e=ft().memoizedState;return[t,e]},useMutableSource:hm,useSyncExternalStore:fm,useId:Em,unstable_isNewReconciler:!1},hv={readContext:ht,useCallback:Nm,useContext:ht,useEffect:eu,useImperativeHandle:jm,useInsertionEffect:bm,useLayoutEffect:wm,useMemo:_m,useReducer:$o,useRef:ym,useState:function(){return $o(Hs)},useDebugValue:tu,useDeferredValue:function(t){var e=ft();return we===null?e.memoizedState=t:Sm(e,we.memoizedState,t)},useTransition:function(){var t=$o(Hs)[0],e=ft().memoizedState;return[t,e]},useMutableSource:hm,useSyncExternalStore:fm,useId:Em,unstable_isNewReconciler:!1};function xt(t,e){if(t&&t.defaultProps){e=ue({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ml(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ue({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Xi={isMounted:function(t){return(t=t._reactInternals)?en(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=$e(),a=gr(t),i=Bt(n,a);i.payload=e,r!=null&&(i.callback=r),e=mr(t,i,a),e!==null&&(kt(e,t,a,n),Ya(e,t,a))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=$e(),a=gr(t),i=Bt(n,a);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=mr(t,i,a),e!==null&&(kt(e,t,a,n),Ya(e,t,a))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=$e(),n=gr(t),a=Bt(r,n);a.tag=2,e!=null&&(a.callback=e),e=mr(t,a,n),e!==null&&(kt(e,t,n,r),Ya(e,t,n))}};function Nd(t,e,r,n,a,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Us(r,n)||!Us(a,i):!0}function Am(t,e,r){var n=!1,a=br,i=e.contextType;return typeof i=="object"&&i!==null?i=ht(i):(a=Qe(e)?Wr:Ie.current,n=e.contextTypes,i=(n=n!=null)?Mn(t,a):br),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=a,t.__reactInternalMemoizedMaskedChildContext=i),e}function _d(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Xi.enqueueReplaceState(e,e.state,null)}function Ll(t,e,r,n){var a=t.stateNode;a.props=r,a.state=t.memoizedState,a.refs={},Qc(t);var i=e.contextType;typeof i=="object"&&i!==null?a.context=ht(i):(i=Qe(e)?Wr:Ie.current,a.context=Mn(t,i)),a.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ml(t,e,i,r),a.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(e=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),e!==a.state&&Xi.enqueueReplaceState(a,a.state,null),ki(t,r,a,n),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308)}function Bn(t,e){try{var r="",n=e;do r+=Bg(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:a,digest:null}}function Uo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function $l(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var fv=typeof WeakMap=="function"?WeakMap:Map;function Tm(t,e,r){r=Bt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ei||(Ei=!0,Kl=n),$l(t,e)},r}function Om(t,e,r){r=Bt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var a=e.value;r.payload=function(){return n(a)},r.callback=function(){$l(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$l(t,e),typeof n!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Sd(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new fv;var a=new Set;n.set(e,a)}else a=n.get(e),a===void 0&&(a=new Set,n.set(e,a));a.has(r)||(a.add(r),t=Ev.bind(null,t,e,r),e.then(t,t))}function Ed(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Cd(t,e,r,n,a){return t.mode&1?(t.flags|=65536,t.lanes=a,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Bt(-1,1),e.tag=2,mr(r,e,1))),r.lanes|=1),t)}var mv=Kt.ReactCurrentOwner,We=!1;function Me(t,e,r,n){e.child=t===null?lm(e,null,r,n):$n(e,t.child,r,n)}function Pd(t,e,r,n,a){r=r.render;var i=e.ref;return An(e,a),n=Xc(t,e,r,n,i,a),r=Zc(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ht(t,e,a)):(ae&&r&&Bc(e),e.flags|=1,Me(t,e,n,a),e.child)}function Rd(t,e,r,n,a){if(t===null){var i=r.type;return typeof i=="function"&&!cu(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Im(t,e,i,n,a)):(t=ni(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Us,r(o,n)&&t.ref===e.ref)return Ht(t,e,a)}return e.flags|=1,t=xr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Im(t,e,r,n,a){if(t!==null){var i=t.memoizedProps;if(Us(i,n)&&t.ref===e.ref)if(We=!1,e.pendingProps=n=i,(t.lanes&a)!==0)t.flags&131072&&(We=!0);else return e.lanes=t.lanes,Ht(t,e,a)}return Ul(t,e,r,n,a)}function Dm(t,e,r){var n=e.pendingProps,a=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Sn,Xe),Xe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(Sn,Xe),Xe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Z(Sn,Xe),Xe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Z(Sn,Xe),Xe|=n;return Me(t,e,a,r),e.child}function Mm(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ul(t,e,r,n,a){var i=Qe(r)?Wr:Ie.current;return i=Mn(e,i),An(e,a),r=Xc(t,e,r,n,i,a),n=Zc(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~a,Ht(t,e,a)):(ae&&n&&Bc(e),e.flags|=1,Me(t,e,r,a),e.child)}function Ad(t,e,r,n,a){if(Qe(r)){var i=!0;xi(e)}else i=!1;if(An(e,a),e.stateNode===null)ei(t,e),Am(e,r,n),Ll(e,r,n,a),n=!0;else if(t===null){var o=e.stateNode,c=e.memoizedProps;o.props=c;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Qe(r)?Wr:Ie.current,u=Mn(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||l!==u)&&_d(e,o,n,u),rr=!1;var f=e.memoizedState;o.state=f,ki(e,n,o,a),l=e.memoizedState,c!==n||f!==l||He.current||rr?(typeof d=="function"&&(Ml(e,r,d,n),l=e.memoizedState),(c=rr||Nd(e,r,c,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,um(t,e),c=e.memoizedProps,u=e.type===e.elementType?c:xt(e.type,c),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ht(l):(l=Qe(r)?Wr:Ie.current,l=Mn(e,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==h||f!==l)&&_d(e,o,n,l),rr=!1,f=e.memoizedState,o.state=f,ki(e,n,o,a);var g=e.memoizedState;c!==h||f!==g||He.current||rr?(typeof v=="function"&&(Ml(e,r,v,n),g=e.memoizedState),(u=rr||Nd(e,r,u,n,f,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Bl(t,e,r,n,i,a)}function Bl(t,e,r,n,a,i){Mm(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return a&&gd(e,r,!1),Ht(t,e,i);n=e.stateNode,mv.current=e;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=$n(e,t.child,null,i),e.child=$n(e,null,c,i)):Me(t,e,c,i),e.memoizedState=n.state,a&&gd(e,r,!0),e.child}function Lm(t){var e=t.stateNode;e.pendingContext?pd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pd(t,e.context,!1),Kc(t,e.containerInfo)}function Td(t,e,r,n,a){return Ln(),zc(a),e.flags|=256,Me(t,e,r,n),e.child}var Fl={dehydrated:null,treeContext:null,retryLane:0};function zl(t){return{baseLanes:t,cachePool:null,transitions:null}}function $m(t,e,r){var n=e.pendingProps,a=le.current,i=!1,o=(e.flags&128)!==0,c;if((c=o)||(c=t!==null&&t.memoizedState===null?!1:(a&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(a|=1),Z(le,a&1),t===null)return Il(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=to(o,n,0,null),t=qr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=zl(r),e.memoizedState=Fl,t):ru(e,o));if(a=t.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return pv(t,e,o,n,c,a,r);if(i){i=n.fallback,o=e.mode,a=t.child,c=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==a?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=xr(a,l),n.subtreeFlags=a.subtreeFlags&14680064),c!==null?i=xr(c,i):(i=qr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?zl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Fl,n}return i=t.child,t=i.sibling,n=xr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ru(t,e){return e=to({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pa(t,e,r,n){return n!==null&&zc(n),$n(e,t.child,null,r),t=ru(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pv(t,e,r,n,a,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Uo(Error(C(422))),Pa(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,a=e.mode,n=to({mode:"visible",children:n.children},a,0,null),i=qr(i,a,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&$n(e,t.child,null,o),e.child.memoizedState=zl(o),e.memoizedState=Fl,i);if(!(e.mode&1))return Pa(t,e,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var c=n.dgst;return n=c,i=Error(C(419)),n=Uo(i,n,void 0),Pa(t,e,o,n)}if(c=(o&t.childLanes)!==0,We||c){if(n=Se,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Wt(t,a),kt(n,t,a,-1))}return lu(),n=Uo(Error(C(421))),Pa(t,e,o,n)}return a.data==="$?"?(e.flags|=128,e.child=t.child,e=Cv.bind(null,t),a._reactRetry=e,null):(t=i.treeContext,tt=fr(a.nextSibling),rt=e,ae=!0,bt=null,t!==null&&(lt[ct++]=$t,lt[ct++]=Ut,lt[ct++]=Hr,$t=t.id,Ut=t.overflow,Hr=e),e=ru(e,n.children),e.flags|=4096,e)}function Od(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Dl(t.return,e,r)}function Bo(t,e,r,n,a){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function Um(t,e,r){var n=e.pendingProps,a=n.revealOrder,i=n.tail;if(Me(t,e,n.children,r),n=le.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Od(t,r,e);else if(t.tag===19)Od(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Z(le,n),!(e.mode&1))e.memoizedState=null;else switch(a){case"forwards":for(r=e.child,a=null;r!==null;)t=r.alternate,t!==null&&ji(t)===null&&(a=r),r=r.sibling;r=a,r===null?(a=e.child,e.child=null):(a=r.sibling,r.sibling=null),Bo(e,!1,a,r,i);break;case"backwards":for(r=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&ji(t)===null){e.child=a;break}t=a.sibling,a.sibling=r,r=a,a=t}Bo(e,!0,r,null,i);break;case"together":Bo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ei(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ht(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Kr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,r=xr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=xr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function gv(t,e,r){switch(e.tag){case 3:Lm(e),Ln();break;case 5:dm(e);break;case 1:Qe(e.type)&&xi(e);break;case 4:Kc(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,a=e.memoizedProps.value;Z(bi,n._currentValue),n._currentValue=a;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Z(le,le.current&1),e.flags|=128,null):r&e.child.childLanes?$m(t,e,r):(Z(le,le.current&1),t=Ht(t,e,r),t!==null?t.sibling:null);Z(le,le.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Um(t,e,r);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Z(le,le.current),n)break;return null;case 22:case 23:return e.lanes=0,Dm(t,e,r)}return Ht(t,e,r)}var Bm,ql,Fm,zm;Bm=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ql=function(){};Fm=function(t,e,r,n){var a=t.memoizedProps;if(a!==n){t=e.stateNode,Ur(Tt.current);var i=null;switch(r){case"input":a=dl(t,a),n=dl(t,n),i=[];break;case"select":a=ue({},a,{value:void 0}),n=ue({},n,{value:void 0}),i=[];break;case"textarea":a=ml(t,a),n=ml(t,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=pi)}gl(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var c=a[u];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ts.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(c=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ts.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ee("scroll",t),i||c===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};zm=function(t,e,r,n){r!==n&&(e.flags|=4)};function ds(t,e){if(!ae)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Te(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function xv(t,e,r){var n=e.pendingProps;switch(Fc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(e),null;case 1:return Qe(e.type)&&gi(),Te(e),null;case 3:return n=e.stateNode,Un(),te(He),te(Ie),Jc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ea(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(Yl(bt),bt=null))),ql(t,e),Te(e),null;case 5:Gc(e);var a=Ur(Vs.current);if(r=e.type,t!==null&&e.stateNode!=null)Fm(t,e,r,n,a),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(C(166));return Te(e),null}if(t=Ur(Tt.current),Ea(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Pt]=e,n[zs]=i,t=(e.mode&1)!==0,r){case"dialog":ee("cancel",n),ee("close",n);break;case"iframe":case"object":case"embed":ee("load",n);break;case"video":case"audio":for(a=0;a<gs.length;a++)ee(gs[a],n);break;case"source":ee("error",n);break;case"img":case"image":case"link":ee("error",n),ee("load",n);break;case"details":ee("toggle",n);break;case"input":zu(n,i),ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ee("invalid",n);break;case"textarea":Vu(n,i),ee("invalid",n)}gl(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var c=i[o];o==="children"?typeof c=="string"?n.textContent!==c&&(i.suppressHydrationWarning!==!0&&Sa(n.textContent,c,t),a=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&Sa(n.textContent,c,t),a=["children",""+c]):Ts.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&ee("scroll",n)}switch(r){case"input":va(n),qu(n,i,!0);break;case"textarea":va(n),Wu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=pi)}n=a,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Pt]=e,t[zs]=n,Bm(t,e,!1,!1),e.stateNode=t;e:{switch(o=xl(r,n),r){case"dialog":ee("cancel",t),ee("close",t),a=n;break;case"iframe":case"object":case"embed":ee("load",t),a=n;break;case"video":case"audio":for(a=0;a<gs.length;a++)ee(gs[a],t);a=n;break;case"source":ee("error",t),a=n;break;case"img":case"image":case"link":ee("error",t),ee("load",t),a=n;break;case"details":ee("toggle",t),a=n;break;case"input":zu(t,n),a=dl(t,n),ee("invalid",t);break;case"option":a=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},a=ue({},n,{value:void 0}),ee("invalid",t);break;case"textarea":Vu(t,n),a=ml(t,n),ee("invalid",t);break;default:a=n}gl(r,a),c=a;for(i in c)if(c.hasOwnProperty(i)){var l=c[i];i==="style"?yf(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xf(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Os(t,l):typeof l=="number"&&Os(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ts.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ee("scroll",t):l!=null&&Sc(t,i,l,o))}switch(r){case"input":va(t),qu(t,n,!1);break;case"textarea":va(t),Wu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+yr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?En(t,!!n.multiple,i,!1):n.defaultValue!=null&&En(t,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(t.onclick=pi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Te(e),null;case 6:if(t&&e.stateNode!=null)zm(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(C(166));if(r=Ur(Vs.current),Ur(Tt.current),Ea(e)){if(n=e.stateNode,r=e.memoizedProps,n[Pt]=e,(i=n.nodeValue!==r)&&(t=rt,t!==null))switch(t.tag){case 3:Sa(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sa(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pt]=e,e.stateNode=n}return Te(e),null;case 13:if(te(le),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ae&&tt!==null&&e.mode&1&&!(e.flags&128))im(),Ln(),e.flags|=98560,i=!1;else if(i=Ea(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(C(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Pt]=e}else Ln(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Te(e),i=!1}else bt!==null&&(Yl(bt),bt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?ke===0&&(ke=3):lu())),e.updateQueue!==null&&(e.flags|=4),Te(e),null);case 4:return Un(),ql(t,e),t===null&&Bs(e.stateNode.containerInfo),Te(e),null;case 10:return Wc(e.type._context),Te(e),null;case 17:return Qe(e.type)&&gi(),Te(e),null;case 19:if(te(le),i=e.memoizedState,i===null)return Te(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)ds(i,!1);else{if(ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ji(t),o!==null){for(e.flags|=128,ds(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Z(le,le.current&1|2),e.child}t=t.sibling}i.tail!==null&&me()>Fn&&(e.flags|=128,n=!0,ds(i,!1),e.lanes=4194304)}else{if(!n)if(t=ji(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ds(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ae)return Te(e),null}else 2*me()-i.renderingStartTime>Fn&&r!==1073741824&&(e.flags|=128,n=!0,ds(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=me(),e.sibling=null,r=le.current,Z(le,n?r&1|2:r&1),e):(Te(e),null);case 22:case 23:return ou(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Xe&1073741824&&(Te(e),e.subtreeFlags&6&&(e.flags|=8192)):Te(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function vv(t,e){switch(Fc(e),e.tag){case 1:return Qe(e.type)&&gi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Un(),te(He),te(Ie),Jc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gc(e),null;case 13:if(te(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Ln()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(le),null;case 4:return Un(),null;case 10:return Wc(e.type._context),null;case 22:case 23:return ou(),null;case 24:return null;default:return null}}var Ra=!1,Oe=!1,yv=typeof WeakSet=="function"?WeakSet:Set,D=null;function _n(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){de(t,e,n)}else r.current=null}function Vl(t,e,r){try{r()}catch(n){de(t,e,n)}}var Id=!1;function bv(t,e){if(El=hi,t=Qf(),Uc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,c=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==r||a!==0&&h.nodeType!==3||(c=o+a),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===r&&++u===a&&(c=o),f===i&&++d===n&&(l=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=c===-1||l===-1?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cl={focusedElem:t,selectionRange:r},hi=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,y=g.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?b:xt(e.type,b),y);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(k){de(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return g=Id,Id=!1,g}function Ss(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&t)===t){var i=a.destroy;a.destroy=void 0,i!==void 0&&Vl(e,r,i)}a=a.next}while(a!==n)}}function Zi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Wl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function qm(t){var e=t.alternate;e!==null&&(t.alternate=null,qm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pt],delete e[zs],delete e[Al],delete e[rv],delete e[nv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Vm(t){return t.tag===5||t.tag===3||t.tag===4}function Dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=pi));else if(n!==4&&(t=t.child,t!==null))for(Hl(t,e,r),t=t.sibling;t!==null;)Hl(t,e,r),t=t.sibling}function Ql(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ql(t,e,r),t=t.sibling;t!==null;)Ql(t,e,r),t=t.sibling}var Ce=null,yt=!1;function Xt(t,e,r){for(r=r.child;r!==null;)Wm(t,e,r),r=r.sibling}function Wm(t,e,r){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Wi,r)}catch{}switch(r.tag){case 5:Oe||_n(r,e);case 6:var n=Ce,a=yt;Ce=null,Xt(t,e,r),Ce=n,yt=a,Ce!==null&&(yt?(t=Ce,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ce.removeChild(r.stateNode));break;case 18:Ce!==null&&(yt?(t=Ce,r=r.stateNode,t.nodeType===8?Oo(t.parentNode,r):t.nodeType===1&&Oo(t,r),Ls(t)):Oo(Ce,r.stateNode));break;case 4:n=Ce,a=yt,Ce=r.stateNode.containerInfo,yt=!0,Xt(t,e,r),Ce=n,yt=a;break;case 0:case 11:case 14:case 15:if(!Oe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vl(r,e,o),a=a.next}while(a!==n)}Xt(t,e,r);break;case 1:if(!Oe&&(_n(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){de(r,e,c)}Xt(t,e,r);break;case 21:Xt(t,e,r);break;case 22:r.mode&1?(Oe=(n=Oe)||r.memoizedState!==null,Xt(t,e,r),Oe=n):Xt(t,e,r);break;default:Xt(t,e,r)}}function Md(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new yv),e.forEach(function(n){var a=Pv.bind(null,t,n);r.has(n)||(r.add(n),n.then(a,a))})}}function pt(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=t,o=e,c=o;e:for(;c!==null;){switch(c.tag){case 5:Ce=c.stateNode,yt=!1;break e;case 3:Ce=c.stateNode.containerInfo,yt=!0;break e;case 4:Ce=c.stateNode.containerInfo,yt=!0;break e}c=c.return}if(Ce===null)throw Error(C(160));Wm(i,o,a),Ce=null,yt=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){de(a,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hm(e,t),e=e.sibling}function Hm(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pt(e,t),St(t),n&4){try{Ss(3,t,t.return),Zi(3,t)}catch(b){de(t,t.return,b)}try{Ss(5,t,t.return)}catch(b){de(t,t.return,b)}}break;case 1:pt(e,t),St(t),n&512&&r!==null&&_n(r,r.return);break;case 5:if(pt(e,t),St(t),n&512&&r!==null&&_n(r,r.return),t.flags&32){var a=t.stateNode;try{Os(a,"")}catch(b){de(t,t.return,b)}}if(n&4&&(a=t.stateNode,a!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,c=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&mf(a,i),xl(c,o);var u=xl(c,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?yf(a,h):d==="dangerouslySetInnerHTML"?xf(a,h):d==="children"?Os(a,h):Sc(a,d,h,u)}switch(c){case"input":hl(a,i);break;case"textarea":pf(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?En(a,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?En(a,!!i.multiple,i.defaultValue,!0):En(a,!!i.multiple,i.multiple?[]:"",!1))}a[zs]=i}catch(b){de(t,t.return,b)}}break;case 6:if(pt(e,t),St(t),n&4){if(t.stateNode===null)throw Error(C(162));a=t.stateNode,i=t.memoizedProps;try{a.nodeValue=i}catch(b){de(t,t.return,b)}}break;case 3:if(pt(e,t),St(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ls(e.containerInfo)}catch(b){de(t,t.return,b)}break;case 4:pt(e,t),St(t);break;case 13:pt(e,t),St(t),a=t.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(au=me())),n&4&&Md(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Oe=(u=Oe)||d,pt(e,t),Oe=u):pt(e,t),St(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(D=t,d=t.child;d!==null;){for(h=D=d;D!==null;){switch(f=D,v=f.child,f.tag){case 0:case 11:case 14:case 15:Ss(4,f,f.return);break;case 1:_n(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(b){de(n,r,b)}}break;case 5:_n(f,f.return);break;case 22:if(f.memoizedState!==null){$d(h);continue}}v!==null?(v.return=f,D=v):$d(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{a=h.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=vf("display",o))}catch(b){de(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(b){de(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pt(e,t),St(t),n&4&&Md(t);break;case 21:break;default:pt(e,t),St(t)}}function St(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Vm(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Os(a,""),n.flags&=-33);var i=Dd(t);Ql(t,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,c=Dd(t);Hl(t,c,o);break;default:throw Error(C(161))}}catch(l){de(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wv(t,e,r){D=t,Qm(t)}function Qm(t,e,r){for(var n=(t.mode&1)!==0;D!==null;){var a=D,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Ra;if(!o){var c=a.alternate,l=c!==null&&c.memoizedState!==null||Oe;c=Ra;var u=Oe;if(Ra=o,(Oe=l)&&!u)for(D=a;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Ud(a):l!==null?(l.return=o,D=l):Ud(a);for(;i!==null;)D=i,Qm(i),i=i.sibling;D=a,Ra=c,Oe=u}Ld(t)}else a.subtreeFlags&8772&&i!==null?(i.return=a,D=i):Ld(t)}}function Ld(t){for(;D!==null;){var e=D;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Oe||Zi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Oe)if(r===null)n.componentDidMount();else{var a=e.elementType===e.type?r.memoizedProps:xt(e.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&wd(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}wd(e,o,r)}break;case 5:var c=e.stateNode;if(r===null&&e.flags&4){r=c;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ls(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Oe||e.flags&512&&Wl(e)}catch(f){de(e,e.return,f)}}if(e===t){D=null;break}if(r=e.sibling,r!==null){r.return=e.return,D=r;break}D=e.return}}function $d(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var r=e.sibling;if(r!==null){r.return=e.return,D=r;break}D=e.return}}function Ud(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Zi(4,e)}catch(l){de(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var a=e.return;try{n.componentDidMount()}catch(l){de(e,a,l)}}var i=e.return;try{Wl(e)}catch(l){de(e,i,l)}break;case 5:var o=e.return;try{Wl(e)}catch(l){de(e,o,l)}}}catch(l){de(e,e.return,l)}if(e===t){D=null;break}var c=e.sibling;if(c!==null){c.return=e.return,D=c;break}D=e.return}}var kv=Math.ceil,Si=Kt.ReactCurrentDispatcher,nu=Kt.ReactCurrentOwner,dt=Kt.ReactCurrentBatchConfig,Q=0,Se=null,ve=null,Pe=0,Xe=0,Sn=jr(0),ke=0,Ks=null,Kr=0,eo=0,su=0,Es=null,Ve=null,au=0,Fn=1/0,Dt=null,Ei=!1,Kl=null,pr=null,Aa=!1,lr=null,Ci=0,Cs=0,Gl=null,ti=-1,ri=0;function $e(){return Q&6?me():ti!==-1?ti:ti=me()}function gr(t){return t.mode&1?Q&2&&Pe!==0?Pe&-Pe:av.transition!==null?(ri===0&&(ri=Af()),ri):(t=G,t!==0||(t=window.event,t=t===void 0?16:$f(t.type)),t):1}function kt(t,e,r,n){if(50<Cs)throw Cs=0,Gl=null,Error(C(185));ia(t,r,n),(!(Q&2)||t!==Se)&&(t===Se&&(!(Q&2)&&(eo|=r),ke===4&&ar(t,Pe)),Ke(t,n),r===1&&Q===0&&!(e.mode&1)&&(Fn=me()+500,Ji&&Nr()))}function Ke(t,e){var r=t.callbackNode;ax(t,e);var n=di(t,t===Se?Pe:0);if(n===0)r!==null&&Ku(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Ku(r),e===1)t.tag===0?sv(Bd.bind(null,t)):nm(Bd.bind(null,t)),ev(function(){!(Q&6)&&Nr()}),r=null;else{switch(Tf(n)){case 1:r=Ac;break;case 4:r=Pf;break;case 16:r=ui;break;case 536870912:r=Rf;break;default:r=ui}r=tp(r,Km.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Km(t,e){if(ti=-1,ri=0,Q&6)throw Error(C(327));var r=t.callbackNode;if(Tn()&&t.callbackNode!==r)return null;var n=di(t,t===Se?Pe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Pi(t,n);else{e=n;var a=Q;Q|=2;var i=Jm();(Se!==t||Pe!==e)&&(Dt=null,Fn=me()+500,zr(t,e));do try{_v();break}catch(c){Gm(t,c)}while(1);Vc(),Si.current=i,Q=a,ve!==null?e=0:(Se=null,Pe=0,e=ke)}if(e!==0){if(e===2&&(a=kl(t),a!==0&&(n=a,e=Jl(t,a))),e===1)throw r=Ks,zr(t,0),ar(t,n),Ke(t,me()),r;if(e===6)ar(t,n);else{if(a=t.current.alternate,!(n&30)&&!jv(a)&&(e=Pi(t,n),e===2&&(i=kl(t),i!==0&&(n=i,e=Jl(t,i))),e===1))throw r=Ks,zr(t,0),ar(t,n),Ke(t,me()),r;switch(t.finishedWork=a,t.finishedLanes=n,e){case 0:case 1:throw Error(C(345));case 2:Tr(t,Ve,Dt);break;case 3:if(ar(t,n),(n&130023424)===n&&(e=au+500-me(),10<e)){if(di(t,0)!==0)break;if(a=t.suspendedLanes,(a&n)!==n){$e(),t.pingedLanes|=t.suspendedLanes&a;break}t.timeoutHandle=Rl(Tr.bind(null,t,Ve,Dt),e);break}Tr(t,Ve,Dt);break;case 4:if(ar(t,n),(n&4194240)===n)break;for(e=t.eventTimes,a=-1;0<n;){var o=31-wt(n);i=1<<o,o=e[o],o>a&&(a=o),n&=~i}if(n=a,n=me()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kv(n/1960))-n,10<n){t.timeoutHandle=Rl(Tr.bind(null,t,Ve,Dt),n);break}Tr(t,Ve,Dt);break;case 5:Tr(t,Ve,Dt);break;default:throw Error(C(329))}}}return Ke(t,me()),t.callbackNode===r?Km.bind(null,t):null}function Jl(t,e){var r=Es;return t.current.memoizedState.isDehydrated&&(zr(t,e).flags|=256),t=Pi(t,e),t!==2&&(e=Ve,Ve=r,e!==null&&Yl(e)),t}function Yl(t){Ve===null?Ve=t:Ve.push.apply(Ve,t)}function jv(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!jt(i(),a))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ar(t,e){for(e&=~su,e&=~eo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-wt(e),n=1<<r;t[r]=-1,e&=~n}}function Bd(t){if(Q&6)throw Error(C(327));Tn();var e=di(t,0);if(!(e&1))return Ke(t,me()),null;var r=Pi(t,e);if(t.tag!==0&&r===2){var n=kl(t);n!==0&&(e=n,r=Jl(t,n))}if(r===1)throw r=Ks,zr(t,0),ar(t,e),Ke(t,me()),r;if(r===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tr(t,Ve,Dt),Ke(t,me()),null}function iu(t,e){var r=Q;Q|=1;try{return t(e)}finally{Q=r,Q===0&&(Fn=me()+500,Ji&&Nr())}}function Gr(t){lr!==null&&lr.tag===0&&!(Q&6)&&Tn();var e=Q;Q|=1;var r=dt.transition,n=G;try{if(dt.transition=null,G=1,t)return t()}finally{G=n,dt.transition=r,Q=e,!(Q&6)&&Nr()}}function ou(){Xe=Sn.current,te(Sn)}function zr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Zx(r)),ve!==null)for(r=ve.return;r!==null;){var n=r;switch(Fc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gi();break;case 3:Un(),te(He),te(Ie),Jc();break;case 5:Gc(n);break;case 4:Un();break;case 13:te(le);break;case 19:te(le);break;case 10:Wc(n.type._context);break;case 22:case 23:ou()}r=r.return}if(Se=t,ve=t=xr(t.current,null),Pe=Xe=e,ke=0,Ks=null,su=eo=Kr=0,Ve=Es=null,$r!==null){for(e=0;e<$r.length;e++)if(r=$r[e],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}$r=null}return t}function Gm(t,e){do{var r=ve;try{if(Vc(),Xa.current=_i,Ni){for(var n=ce.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ni=!1}if(Qr=0,_e=we=ce=null,_s=!1,Ws=0,nu.current=null,r===null||r.return===null){ke=1,Ks=e,ve=null;break}e:{var i=t,o=r.return,c=r,l=e;if(e=Pe,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=c,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Ed(o);if(v!==null){v.flags&=-257,Cd(v,o,c,i,e),v.mode&1&&Sd(i,u,e),e=v,l=u;var g=e.updateQueue;if(g===null){var b=new Set;b.add(l),e.updateQueue=b}else g.add(l);break e}else{if(!(e&1)){Sd(i,u,e),lu();break e}l=Error(C(426))}}else if(ae&&c.mode&1){var y=Ed(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Cd(y,o,c,i,e),zc(Bn(l,c));break e}}i=l=Bn(l,c),ke!==4&&(ke=2),Es===null?Es=[i]:Es.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Tm(i,l,e);bd(i,m);break e;case 1:c=l;var p=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(pr===null||!pr.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=Om(i,c,e);bd(i,k);break e}}i=i.return}while(i!==null)}Xm(r)}catch(j){e=j,ve===r&&r!==null&&(ve=r=r.return);continue}break}while(1)}function Jm(){var t=Si.current;return Si.current=_i,t===null?_i:t}function lu(){(ke===0||ke===3||ke===2)&&(ke=4),Se===null||!(Kr&268435455)&&!(eo&268435455)||ar(Se,Pe)}function Pi(t,e){var r=Q;Q|=2;var n=Jm();(Se!==t||Pe!==e)&&(Dt=null,zr(t,e));do try{Nv();break}catch(a){Gm(t,a)}while(1);if(Vc(),Q=r,Si.current=n,ve!==null)throw Error(C(261));return Se=null,Pe=0,ke}function Nv(){for(;ve!==null;)Ym(ve)}function _v(){for(;ve!==null&&!Jg();)Ym(ve)}function Ym(t){var e=ep(t.alternate,t,Xe);t.memoizedProps=t.pendingProps,e===null?Xm(t):ve=e,nu.current=null}function Xm(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=vv(r,e),r!==null){r.flags&=32767,ve=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ke=6,ve=null;return}}else if(r=xv(r,e,Xe),r!==null){ve=r;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);ke===0&&(ke=5)}function Tr(t,e,r){var n=G,a=dt.transition;try{dt.transition=null,G=1,Sv(t,e,r,n)}finally{dt.transition=a,G=n}return null}function Sv(t,e,r,n){do Tn();while(lr!==null);if(Q&6)throw Error(C(327));r=t.finishedWork;var a=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(ix(t,i),t===Se&&(ve=Se=null,Pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Aa||(Aa=!0,tp(ui,function(){return Tn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var o=G;G=1;var c=Q;Q|=4,nu.current=null,bv(t,r),Hm(r,t),Hx(Cl),hi=!!El,Cl=El=null,t.current=r,wv(r),Yg(),Q=c,G=o,dt.transition=i}else t.current=r;if(Aa&&(Aa=!1,lr=t,Ci=a),i=t.pendingLanes,i===0&&(pr=null),ex(r.stateNode),Ke(t,me()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)a=e[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ei)throw Ei=!1,t=Kl,Kl=null,t;return Ci&1&&t.tag!==0&&Tn(),i=t.pendingLanes,i&1?t===Gl?Cs++:(Cs=0,Gl=t):Cs=0,Nr(),null}function Tn(){if(lr!==null){var t=Tf(Ci),e=dt.transition,r=G;try{if(dt.transition=null,G=16>t?16:t,lr===null)var n=!1;else{if(t=lr,lr=null,Ci=0,Q&6)throw Error(C(331));var a=Q;for(Q|=4,D=t.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var c=i.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:Ss(8,d,i)}var h=d.child;if(h!==null)h.return=d,D=h;else for(;D!==null;){d=D;var f=d.sibling,v=d.return;if(qm(d),d===u){D=null;break}if(f!==null){f.return=v,D=f;break}D=v}}}var g=i.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ss(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,D=m;break e}D=i.return}}var p=t.current;for(D=p;D!==null;){o=D;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,D=x;else e:for(o=p;D!==null;){if(c=D,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Zi(9,c)}}catch(j){de(c,c.return,j)}if(c===o){D=null;break e}var k=c.sibling;if(k!==null){k.return=c.return,D=k;break e}D=c.return}}if(Q=a,Nr(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Wi,t)}catch{}n=!0}return n}finally{G=r,dt.transition=e}}return!1}function Fd(t,e,r){e=Bn(r,e),e=Tm(t,e,1),t=mr(t,e,1),e=$e(),t!==null&&(ia(t,1,e),Ke(t,e))}function de(t,e,r){if(t.tag===3)Fd(t,t,r);else for(;e!==null;){if(e.tag===3){Fd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pr===null||!pr.has(n))){t=Bn(r,t),t=Om(e,t,1),e=mr(e,t,1),t=$e(),e!==null&&(ia(e,1,t),Ke(e,t));break}}e=e.return}}function Ev(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=$e(),t.pingedLanes|=t.suspendedLanes&r,Se===t&&(Pe&r)===r&&(ke===4||ke===3&&(Pe&130023424)===Pe&&500>me()-au?zr(t,0):su|=r),Ke(t,e)}function Zm(t,e){e===0&&(t.mode&1?(e=wa,wa<<=1,!(wa&130023424)&&(wa=4194304)):e=1);var r=$e();t=Wt(t,e),t!==null&&(ia(t,e,r),Ke(t,r))}function Cv(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Zm(t,r)}function Pv(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,a=t.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(e),Zm(t,r)}var ep;ep=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||He.current)We=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return We=!1,gv(t,e,r);We=!!(t.flags&131072)}else We=!1,ae&&e.flags&1048576&&sm(e,yi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ei(t,e),t=e.pendingProps;var a=Mn(e,Ie.current);An(e,r),a=Xc(null,e,n,t,a,r);var i=Zc();return e.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qe(n)?(i=!0,xi(e)):i=!1,e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Qc(e),a.updater=Xi,e.stateNode=a,a._reactInternals=e,Ll(e,n,t,r),e=Bl(null,e,n,!0,i,r)):(e.tag=0,ae&&i&&Bc(e),Me(null,e,a,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ei(t,e),t=e.pendingProps,a=n._init,n=a(n._payload),e.type=n,a=e.tag=Av(n),t=xt(n,t),a){case 0:e=Ul(null,e,n,t,r);break e;case 1:e=Ad(null,e,n,t,r);break e;case 11:e=Pd(null,e,n,t,r);break e;case 14:e=Rd(null,e,n,xt(n.type,t),r);break e}throw Error(C(306,n,""))}return e;case 0:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:xt(n,a),Ul(t,e,n,a,r);case 1:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:xt(n,a),Ad(t,e,n,a,r);case 3:e:{if(Lm(e),t===null)throw Error(C(387));n=e.pendingProps,i=e.memoizedState,a=i.element,um(t,e),ki(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){a=Bn(Error(C(423)),e),e=Td(t,e,n,r,a);break e}else if(n!==a){a=Bn(Error(C(424)),e),e=Td(t,e,n,r,a);break e}else for(tt=fr(e.stateNode.containerInfo.firstChild),rt=e,ae=!0,bt=null,r=lm(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ln(),n===a){e=Ht(t,e,r);break e}Me(t,e,n,r)}e=e.child}return e;case 5:return dm(e),t===null&&Il(e),n=e.type,a=e.pendingProps,i=t!==null?t.memoizedProps:null,o=a.children,Pl(n,a)?o=null:i!==null&&Pl(n,i)&&(e.flags|=32),Mm(t,e),Me(t,e,o,r),e.child;case 6:return t===null&&Il(e),null;case 13:return $m(t,e,r);case 4:return Kc(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=$n(e,null,n,r):Me(t,e,n,r),e.child;case 11:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:xt(n,a),Pd(t,e,n,a,r);case 7:return Me(t,e,e.pendingProps,r),e.child;case 8:return Me(t,e,e.pendingProps.children,r),e.child;case 12:return Me(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,a=e.pendingProps,i=e.memoizedProps,o=a.value,Z(bi,n._currentValue),n._currentValue=o,i!==null)if(jt(i.value,o)){if(i.children===a.children&&!He.current){e=Ht(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){o=i.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Bt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Dl(i.return,r,e),c.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Dl(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Me(t,e,a.children,r),e=e.child}return e;case 9:return a=e.type,n=e.pendingProps.children,An(e,r),a=ht(a),n=n(a),e.flags|=1,Me(t,e,n,r),e.child;case 14:return n=e.type,a=xt(n,e.pendingProps),a=xt(n.type,a),Rd(t,e,n,a,r);case 15:return Im(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,a=e.pendingProps,a=e.elementType===n?a:xt(n,a),ei(t,e),e.tag=1,Qe(n)?(t=!0,xi(e)):t=!1,An(e,r),Am(e,n,a),Ll(e,n,a,r),Bl(null,e,n,!0,t,r);case 19:return Um(t,e,r);case 22:return Dm(t,e,r)}throw Error(C(156,e.tag))};function tp(t,e){return Cf(t,e)}function Rv(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(t,e,r,n){return new Rv(t,e,r,n)}function cu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Av(t){if(typeof t=="function")return cu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cc)return 11;if(t===Pc)return 14}return 2}function xr(t,e){var r=t.alternate;return r===null?(r=ut(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ni(t,e,r,n,a,i){var o=2;if(n=t,typeof t=="function")cu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gn:return qr(r.children,a,i,e);case Ec:o=8,a|=8;break;case ol:return t=ut(12,r,e,a|2),t.elementType=ol,t.lanes=i,t;case ll:return t=ut(13,r,e,a),t.elementType=ll,t.lanes=i,t;case cl:return t=ut(19,r,e,a),t.elementType=cl,t.lanes=i,t;case df:return to(r,a,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cf:o=10;break e;case uf:o=9;break e;case Cc:o=11;break e;case Pc:o=14;break e;case tr:o=16,n=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=ut(o,r,e,a),e.elementType=t,e.type=n,e.lanes=i,e}function qr(t,e,r,n){return t=ut(7,t,n,e),t.lanes=r,t}function to(t,e,r,n){return t=ut(22,t,n,e),t.elementType=df,t.lanes=r,t.stateNode={isHidden:!1},t}function Fo(t,e,r){return t=ut(6,t,null,e),t.lanes=r,t}function zo(t,e,r){return e=ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Tv(t,e,r,n,a){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function uu(t,e,r,n,a,i,o,c,l){return t=new Tv(t,e,r,c,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ut(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qc(i),t}function Ov(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function rp(t){if(!t)return br;t=t._reactInternals;e:{if(en(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var r=t.type;if(Qe(r))return rm(t,r,e)}return e}function np(t,e,r,n,a,i,o,c,l){return t=uu(r,n,!0,t,a,i,o,c,l),t.context=rp(null),r=t.current,n=$e(),a=gr(r),i=Bt(n,a),i.callback=e??null,mr(r,i,a),t.current.lanes=a,ia(t,a,n),Ke(t,n),t}function ro(t,e,r,n){var a=e.current,i=$e(),o=gr(a);return r=rp(r),e.context===null?e.context=r:e.pendingContext=r,e=Bt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=mr(a,e,o),t!==null&&(kt(t,a,o,i),Ya(t,a,o)),o}function Ri(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function du(t,e){zd(t,e),(t=t.alternate)&&zd(t,e)}function Iv(){return null}var sp=typeof reportError=="function"?reportError:function(t){console.error(t)};function hu(t){this._internalRoot=t}no.prototype.render=hu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));ro(t,e,null,null)};no.prototype.unmount=hu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gr(function(){ro(null,t,null,null)}),e[Vt]=null}};function no(t){this._internalRoot=t}no.prototype.unstable_scheduleHydration=function(t){if(t){var e=Df();t={blockedOn:null,target:t,priority:e};for(var r=0;r<sr.length&&e!==0&&e<sr[r].priority;r++);sr.splice(r,0,t),r===0&&Lf(t)}};function fu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function so(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qd(){}function Dv(t,e,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Ri(o);i.call(u)}}var o=np(e,n,t,0,null,!1,!1,"",qd);return t._reactRootContainer=o,t[Vt]=o.current,Bs(t.nodeType===8?t.parentNode:t),Gr(),o}for(;a=t.lastChild;)t.removeChild(a);if(typeof n=="function"){var c=n;n=function(){var u=Ri(l);c.call(u)}}var l=uu(t,0,!1,null,null,!1,!1,"",qd);return t._reactRootContainer=l,t[Vt]=l.current,Bs(t.nodeType===8?t.parentNode:t),Gr(function(){ro(e,l,r,n)}),l}function ao(t,e,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var c=a;a=function(){var l=Ri(o);c.call(l)}}ro(e,o,t,a)}else o=Dv(r,e,t,a,n);return Ri(o)}Of=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ps(e.pendingLanes);r!==0&&(Tc(e,r|1),Ke(e,me()),!(Q&6)&&(Fn=me()+500,Nr()))}break;case 13:Gr(function(){var n=Wt(t,1);if(n!==null){var a=$e();kt(n,t,1,a)}}),du(t,1)}};Oc=function(t){if(t.tag===13){var e=Wt(t,134217728);if(e!==null){var r=$e();kt(e,t,134217728,r)}du(t,134217728)}};If=function(t){if(t.tag===13){var e=gr(t),r=Wt(t,e);if(r!==null){var n=$e();kt(r,t,e,n)}du(t,e)}};Df=function(){return G};Mf=function(t,e){var r=G;try{return G=t,e()}finally{G=r}};yl=function(t,e,r){switch(e){case"input":if(hl(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var a=Gi(n);if(!a)throw Error(C(90));ff(n),hl(n,a)}}}break;case"textarea":pf(t,r);break;case"select":e=r.value,e!=null&&En(t,!!r.multiple,e,!1)}};kf=iu;jf=Gr;var Mv={usingClientEntryPoint:!1,Events:[la,bn,Gi,bf,wf,iu]},hs={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lv={bundleType:hs.bundleType,version:hs.version,rendererPackageName:hs.rendererPackageName,rendererConfig:hs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sf(t),t===null?null:t.stateNode},findFiberByHostInstance:hs.findFiberByHostInstance||Iv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{Wi=Ta.inject(Lv),At=Ta}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mv;st.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fu(e))throw Error(C(200));return Ov(t,e,null,r)};st.createRoot=function(t,e){if(!fu(t))throw Error(C(299));var r=!1,n="",a=sp;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=uu(t,1,!1,null,null,r,!1,n,a),t[Vt]=e.current,Bs(t.nodeType===8?t.parentNode:t),new hu(e)};st.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=Sf(e),t=t===null?null:t.stateNode,t};st.flushSync=function(t){return Gr(t)};st.hydrate=function(t,e,r){if(!so(e))throw Error(C(200));return ao(null,t,e,!0,r)};st.hydrateRoot=function(t,e,r){if(!fu(t))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=sp;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=np(e,null,t,1,r??null,a,!1,i,o),t[Vt]=e.current,Bs(t),n)for(t=0;t<n.length;t++)r=n[t],a=r._getVersion,a=a(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,a]:e.mutableSourceEagerHydrationData.push(r,a);return new no(e)};st.render=function(t,e,r){if(!so(e))throw Error(C(200));return ao(null,t,e,!1,r)};st.unmountComponentAtNode=function(t){if(!so(t))throw Error(C(40));return t._reactRootContainer?(Gr(function(){ao(null,null,t,!1,function(){t._reactRootContainer=null,t[Vt]=null})}),!0):!1};st.unstable_batchedUpdates=iu;st.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!so(r))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return ao(t,e,r,!1,n)};st.version="18.3.1-next-f1338f8080-20240426";function ap(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ap)}catch(t){console.error(t)}}ap(),sf.exports=st;var Nt=sf.exports,Vd=Nt;al.createRoot=Vd.createRoot,al.hydrateRoot=Vd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gs.apply(this,arguments)}var cr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(cr||(cr={}));const Wd="popstate";function $v(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:o,hash:c}=n.location;return Xl("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ai(a)}return Bv(e,r,null,t)}function pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ip(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Uv(){return Math.random().toString(36).substr(2,8)}function Hd(t,e){return{usr:t.state,key:t.key,idx:e}}function Xl(t,e,r,n){return r===void 0&&(r=null),Gs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xn(e):e,{state:r,key:e&&e.key||n||Uv()})}function Ai(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Bv(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,c=cr.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(Gs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){c=cr.Pop;let y=d(),m=y==null?null:y-u;u=y,l&&l({action:c,location:b.location,delta:m})}function f(y,m){c=cr.Push;let p=Xl(b.location,y,m);r&&r(p,y),u=d()+1;let x=Hd(p,u),k=b.createHref(p);try{o.pushState(x,"",k)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(k)}i&&l&&l({action:c,location:b.location,delta:1})}function v(y,m){c=cr.Replace;let p=Xl(b.location,y,m);r&&r(p,y),u=d();let x=Hd(p,u),k=b.createHref(p);o.replaceState(x,"",k),i&&l&&l({action:c,location:b.location,delta:0})}function g(y){let m=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof y=="string"?y:Ai(y);return p=p.replace(/ $/,"%20"),pe(m,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,m)}let b={get action(){return c},get location(){return t(a,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Wd,h),l=y,()=>{a.removeEventListener(Wd,h),l=null}},createHref(y){return e(a,y)},createURL:g,encodeLocation(y){let m=g(y);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:v,go(y){return o.go(y)}};return b}var Qd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qd||(Qd={}));function Fv(t,e,r){return r===void 0&&(r="/"),zv(t,e,r,!1)}function zv(t,e,r,n){let a=typeof e=="string"?Xn(e):e,i=mu(a.pathname||"/",r);if(i==null)return null;let o=op(t);qv(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let u=ey(i);c=Xv(o[l],u,n)}return c}function op(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,c)=>{let l={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(pe(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=vr([n,l.relativePath]),d=r.concat(l);i.children&&i.children.length>0&&(pe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),op(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Jv(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,o);else for(let l of lp(i.path))a(i,o,l)}),e}function lp(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=lp(n.join("/")),c=[];return c.push(...o.map(l=>l===""?i:[i,l].join("/"))),a&&c.push(...o),c.map(l=>t.startsWith("/")&&l===""?"/":l)}function qv(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Yv(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Vv=/^:[\w-]+$/,Wv=3,Hv=2,Qv=1,Kv=10,Gv=-2,Kd=t=>t==="*";function Jv(t,e){let r=t.split("/"),n=r.length;return r.some(Kd)&&(n+=Gv),e&&(n+=Hv),r.filter(a=>!Kd(a)).reduce((a,i)=>a+(Vv.test(i)?Wv:i===""?Qv:Kv),n)}function Yv(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function Xv(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,a={},i="/",o=[];for(let c=0;c<n.length;++c){let l=n[c],u=c===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Gd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=Gd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:vr([i,h.pathname]),pathnameBase:sy(vr([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=vr([i,h.pathnameBase]))}return o}function Gd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Zv(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let b=c[h]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=c[h];return v&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function Zv(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ip(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function ey(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ip(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ty(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Xn(t):t;return{pathname:r?r.startsWith("/")?r:ry(r,e):e,search:ay(n),hash:iy(a)}}function ry(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function qo(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ny(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function pu(t,e){let r=ny(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gu(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Xn(t):(a=Gs({},t),pe(!a.pathname||!a.pathname.includes("?"),qo("?","pathname","search",a)),pe(!a.pathname||!a.pathname.includes("#"),qo("#","pathname","hash",a)),pe(!a.search||!a.search.includes("#"),qo("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;a.pathname=f.join("/")}c=h>=0?e[h]:"/"}let l=ty(a,c),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const vr=t=>t.join("/").replace(/\/\/+/g,"/"),sy=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ay=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iy=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function oy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cp=["post","put","patch","delete"];new Set(cp);const ly=["get",...cp];new Set(ly);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Js.apply(this,arguments)}const xu=w.createContext(null),cy=w.createContext(null),_r=w.createContext(null),io=w.createContext(null),Gt=w.createContext({outlet:null,matches:[],isDataRoute:!1}),up=w.createContext(null);function uy(t,e){let{relative:r}=e===void 0?{}:e;Zn()||pe(!1);let{basename:n,navigator:a}=w.useContext(_r),{hash:i,pathname:o,search:c}=hp(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:vr([n,o])),a.createHref({pathname:l,search:c,hash:i})}function Zn(){return w.useContext(io)!=null}function Jt(){return Zn()||pe(!1),w.useContext(io).location}function dp(t){w.useContext(_r).static||w.useLayoutEffect(t)}function ze(){let{isDataRoute:t}=w.useContext(Gt);return t?Ny():dy()}function dy(){Zn()||pe(!1);let t=w.useContext(xu),{basename:e,future:r,navigator:n}=w.useContext(_r),{matches:a}=w.useContext(Gt),{pathname:i}=Jt(),o=JSON.stringify(pu(a,r.v7_relativeSplatPath)),c=w.useRef(!1);return dp(()=>{c.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let h=gu(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:vr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}function hy(){let{matches:t}=w.useContext(Gt),e=t[t.length-1];return e?e.params:{}}function hp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(_r),{matches:a}=w.useContext(Gt),{pathname:i}=Jt(),o=JSON.stringify(pu(a,n.v7_relativeSplatPath));return w.useMemo(()=>gu(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function fy(t,e){return my(t,e)}function my(t,e,r,n){Zn()||pe(!1);let{navigator:a}=w.useContext(_r),{matches:i}=w.useContext(Gt),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Jt(),d;if(e){var h;let y=typeof e=="string"?Xn(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||pe(!1),d=y}else d=u;let f=d.pathname||"/",v=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=Fv(t,{pathname:v}),b=yy(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:vr([l,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:vr([l,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return e&&b?w.createElement(io.Provider,{value:{location:Js({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:cr.Pop}},b):b}function py(){let t=jy(),e=oy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:a},r):null,i)}const gy=w.createElement(py,null);class xy extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(Gt.Provider,{value:this.props.routeContext},w.createElement(up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vy(t){let{routeContext:e,match:r,children:n}=t,a=w.useContext(xu);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(Gt.Provider,{value:e},n)}function yy(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,c=(a=r)==null?void 0:a.errors;if(c!=null){let d=o.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);d>=0||pe(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:v}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,g=!1,b=null,y=null;r&&(v=c&&h.route.id?c[h.route.id]:void 0,b=h.route.errorElement||gy,l&&(u<0&&f===0?(_y("route-fallback",!1),g=!0,y=null):u===f&&(g=!0,y=h.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,f+1)),p=()=>{let x;return v?x=b:g?x=y:h.route.Component?x=w.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,w.createElement(vy,{match:h,routeContext:{outlet:d,matches:m,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(xy,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):p()},null)}var fp=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fp||{}),Ti=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ti||{});function by(t){let e=w.useContext(xu);return e||pe(!1),e}function wy(t){let e=w.useContext(cy);return e||pe(!1),e}function ky(t){let e=w.useContext(Gt);return e||pe(!1),e}function mp(t){let e=ky(),r=e.matches[e.matches.length-1];return r.route.id||pe(!1),r.route.id}function jy(){var t;let e=w.useContext(up),r=wy(Ti.UseRouteError),n=mp(Ti.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Ny(){let{router:t}=by(fp.UseNavigateStable),e=mp(Ti.UseNavigateStable),r=w.useRef(!1);return dp(()=>{r.current=!0}),w.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Js({fromRouteId:e},i)))},[t,e])}const Jd={};function _y(t,e,r){!e&&!Jd[t]&&(Jd[t]=!0)}function Sy(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Ey(t){let{to:e,replace:r,state:n,relative:a}=t;Zn()||pe(!1);let{future:i,static:o}=w.useContext(_r),{matches:c}=w.useContext(Gt),{pathname:l}=Jt(),u=ze(),d=gu(e,pu(c,i.v7_relativeSplatPath),l,a==="path"),h=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:a}),[u,h,a,r,n]),null}function fe(t){pe(!1)}function Cy(t){let{basename:e="/",children:r=null,location:n,navigationType:a=cr.Pop,navigator:i,static:o=!1,future:c}=t;Zn()&&pe(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:i,static:o,future:Js({v7_relativeSplatPath:!1},c)}),[l,c,i,o]);typeof n=="string"&&(n=Xn(n));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:g="default"}=n,b=w.useMemo(()=>{let y=mu(d,l);return y==null?null:{location:{pathname:y,search:h,hash:f,state:v,key:g},navigationType:a}},[l,d,h,f,v,g,a]);return b==null?null:w.createElement(_r.Provider,{value:u},w.createElement(io.Provider,{children:r,value:b}))}function Py(t){let{children:e,location:r}=t;return fy(Zl(e),r)}new Promise(()=>{});function Zl(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,a)=>{if(!w.isValidElement(n))return;let i=[...e,a];if(n.type===w.Fragment){r.push.apply(r,Zl(n.props.children,i));return}n.type!==fe&&pe(!1),!n.props.index||!n.props.children||pe(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Zl(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ec.apply(this,arguments)}function Ry(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Ay(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ty(t,e){return t.button===0&&(!e||e==="_self")&&!Ay(t)}function tc(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Oy(t,e){let r=tc(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Iy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Dy="6";try{window.__reactRouterVersion=Dy}catch{}const My="startTransition",Yd=Eg[My];function Ly(t){let{basename:e,children:r,future:n,window:a}=t,i=w.useRef();i.current==null&&(i.current=$v({window:a,v5Compat:!0}));let o=i.current,[c,l]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=w.useCallback(h=>{u&&Yd?Yd(()=>l(h)):l(h)},[l,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.useEffect(()=>Sy(n),[n]),w.createElement(Cy,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:o,future:n})}const $y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=w.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:c,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=Ry(e,Iy),{basename:v}=w.useContext(_r),g,b=!1;if(typeof u=="string"&&Uy.test(u)&&(g=u,$y))try{let x=new URL(window.location.href),k=u.startsWith("//")?new URL(x.protocol+u):new URL(u),j=mu(k.pathname,v);k.origin===x.origin&&j!=null?u=j+k.search+k.hash:b=!0}catch{}let y=uy(u,{relative:a}),m=By(u,{replace:o,state:c,target:l,preventScrollReset:d,relative:a,viewTransition:h});function p(x){n&&n(x),x.defaultPrevented||m(x)}return w.createElement("a",ec({},f,{href:g||y,onClick:b||i?n:p,ref:r,target:l}))});var Xd;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xd||(Xd={}));var Zd;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zd||(Zd={}));function By(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:c}=e===void 0?{}:e,l=ze(),u=Jt(),d=hp(t,{relative:o});return w.useCallback(h=>{if(Ty(h,r)){h.preventDefault();let f=n!==void 0?n:Ai(u)===Ai(d);l(t,{replace:f,state:a,preventScrollReset:i,relative:o,viewTransition:c})}},[u,l,d,n,a,r,t,i,o,c])}function pp(t){let e=w.useRef(tc(t)),r=w.useRef(!1),n=Jt(),a=w.useMemo(()=>Oy(n.search,r.current?null:e.current),[n.search]),i=ze(),o=w.useCallback((c,l)=>{const u=tc(typeof c=="function"?c(a):c);r.current=!0,i("?"+u,l)},[i,a]);return[a,o]}class ua{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const r={listener:e};return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Ys=typeof window>"u"||"Deno"in window;function it(){}function Fy(t,e){return typeof t=="function"?t(e):t}function rc(t){return typeof t=="number"&&t>=0&&t!==1/0}function gp(t,e){return Math.max(t+(e||0)-Date.now(),0)}function xs(t,e,r){return oo(t)?typeof e=="function"?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function nr(t,e,r){return oo(t)?[{...e,queryKey:t},r]:[t||{},e]}function eh(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:c}=t;if(oo(o)){if(n){if(e.queryHash!==vu(o,e.options))return!1}else if(!Oi(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||typeof a<"u"&&a!==e.state.fetchStatus||i&&!i(e))}function th(t,e){const{exact:r,fetching:n,predicate:a,mutationKey:i}=t;if(oo(i)){if(!e.options.mutationKey)return!1;if(r){if(Br(e.options.mutationKey)!==Br(i))return!1}else if(!Oi(e.options.mutationKey,i))return!1}return!(typeof n=="boolean"&&e.state.status==="loading"!==n||a&&!a(e))}function vu(t,e){return((e==null?void 0:e.queryKeyHashFn)||Br)(t)}function Br(t){return JSON.stringify(t,(e,r)=>sc(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Oi(t,e){return xp(t,e)}function xp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!xp(t[r],e[r])):!1}function vp(t,e){if(t===e)return t;const r=rh(t)&&rh(e);if(r||sc(t)&&sc(e)){const n=r?t.length:Object.keys(t).length,a=r?e:Object.keys(e),i=a.length,o=r?[]:{};let c=0;for(let l=0;l<i;l++){const u=r?l:a[l];o[u]=vp(t[u],e[u]),o[u]===t[u]&&c++}return n===i&&c===n?t:o}return e}function nc(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function rh(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sc(t){if(!nh(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!nh(r)||!r.hasOwnProperty("isPrototypeOf"))}function nh(t){return Object.prototype.toString.call(t)==="[object Object]"}function oo(t){return Array.isArray(t)}function yp(t){return new Promise(e=>{setTimeout(e,t)})}function sh(t){yp(0).then(t)}function zy(){if(typeof AbortController=="function")return new AbortController}function ac(t,e,r){return r.isDataEqual!=null&&r.isDataEqual(t,e)?t:typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?vp(t,e):e}class qy extends ua{constructor(){super(),this.setup=e=>{if(!Ys&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),window.addEventListener("focus",r,!1),()=>{window.removeEventListener("visibilitychange",r),window.removeEventListener("focus",r)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Ii=new qy,ah=["online","offline"];class Vy extends ua{constructor(){super(),this.setup=e=>{if(!Ys&&window.addEventListener){const r=()=>e();return ah.forEach(n=>{window.addEventListener(n,r,!1)}),()=>{ah.forEach(n=>{window.removeEventListener(n,r)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var r;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(n=>{typeof n=="boolean"?this.setOnline(n):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const Di=new Vy;function Wy(t){return Math.min(1e3*2**t,3e4)}function lo(t){return(t??"online")==="online"?Di.isOnline():!0}class bp{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function si(t){return t instanceof bp}function wp(t){let e=!1,r=0,n=!1,a,i,o;const c=new Promise((y,m)=>{i=y,o=m}),l=y=>{n||(v(new bp(y)),t.abort==null||t.abort())},u=()=>{e=!0},d=()=>{e=!1},h=()=>!Ii.isFocused()||t.networkMode!=="always"&&!Di.isOnline(),f=y=>{n||(n=!0,t.onSuccess==null||t.onSuccess(y),a==null||a(),i(y))},v=y=>{n||(n=!0,t.onError==null||t.onError(y),a==null||a(),o(y))},g=()=>new Promise(y=>{a=m=>{const p=n||!h();return p&&y(m),p},t.onPause==null||t.onPause()}).then(()=>{a=void 0,n||t.onContinue==null||t.onContinue()}),b=()=>{if(n)return;let y;try{y=t.fn()}catch(m){y=Promise.reject(m)}Promise.resolve(y).then(f).catch(m=>{var p,x;if(n)return;const k=(p=t.retry)!=null?p:3,j=(x=t.retryDelay)!=null?x:Wy,N=typeof j=="function"?j(r,m):j,_=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,m);if(e||!_){v(m);return}r++,t.onFail==null||t.onFail(r,m),yp(N).then(()=>{if(h())return g()}).then(()=>{e?v(m):b()})})};return lo(t.networkMode)?b():g().then(b),{promise:c,cancel:l,continue:()=>(a==null?void 0:a())?c:Promise.resolve(),cancelRetry:u,continueRetry:d}}const yu=console;function Hy(){let t=[],e=0,r=d=>{d()},n=d=>{d()};const a=d=>{let h;e++;try{h=d()}finally{e--,e||c()}return h},i=d=>{e?t.push(d):sh(()=>{r(d)})},o=d=>(...h)=>{i(()=>{d(...h)})},c=()=>{const d=t;t=[],d.length&&sh(()=>{n(()=>{d.forEach(h=>{r(h)})})})};return{batch:a,batchCalls:o,schedule:i,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d}}}const xe=Hy();class kp{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rc(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Ys?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Qy extends kp{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||yu,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Ky(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,r){const n=ac(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){this.dispatch({type:"setState",state:e,setStateOptions:r})}cancel(e){var r;const n=this.promise;return(r=this.retryer)==null||r.cancel(e),n?n.then(it).catch(it):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!gp(this.state.dataUpdatedAt,e)}onFocus(){var e;const r=this.observers.find(n=>n.shouldFetchOnWindowFocus());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const r=this.observers.find(n=>n.shouldFetchOnReconnect());r&&r.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,r){var n,a;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&r!=null&&r.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(g=>g.options.queryFn);v&&this.setOptions(v.options)}const o=zy(),c={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(c);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(c)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),d={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(l(d),(n=this.options.behavior)==null||n.onFetch(d),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((a=d.fetchOptions)==null?void 0:a.meta)){var h;this.dispatch({type:"fetch",meta:(h=d.fetchOptions)==null?void 0:h.meta})}const f=v=>{if(si(v)&&v.silent||this.dispatch({type:"error",error:v}),!si(v)){var g,b,y,m;(g=(b=this.cache.config).onError)==null||g.call(b,v,this),(y=(m=this.cache.config).onSettled)==null||y.call(m,this.state.data,v,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=wp({fn:d.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:v=>{var g,b,y,m;if(typeof v>"u"){f(new Error(this.queryHash+" data is undefined"));return}this.setData(v),(g=(b=this.cache.config).onSuccess)==null||g.call(b,v,this),(y=(m=this.cache.config).onSettled)==null||y.call(m,v,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:f,onFail:(v,g)=>{this.dispatch({type:"failed",failureCount:v,error:g})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const r=n=>{var a,i;switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(a=e.meta)!=null?a:null,fetchStatus:lo(this.options.networkMode)?"fetching":"paused",...!n.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return si(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...n,error:o,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),xe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function Ky(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof e<"u",n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}class Gy extends ua{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,r,n){var a;const i=r.queryKey,o=(a=r.queryHash)!=null?a:vu(i,r);let c=this.get(o);return c||(c=new Qy({cache:this,logger:e.getLogger(),queryKey:i,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(c)),c}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(n=>n!==e),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){xe.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,r){const[n]=nr(e,r);return typeof n.exact>"u"&&(n.exact=!0),this.queries.find(a=>eh(n,a))}findAll(e,r){const[n]=nr(e,r);return Object.keys(n).length>0?this.queries.filter(a=>eh(n,a)):this.queries}notify(e){xe.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}onFocus(){xe.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){xe.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class Jy extends kp{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||yu,this.observers=[],this.state=e.state||Yy(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(r=>r!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,r;return(e=(r=this.retryer)==null?void 0:r.continue())!=null?e:this.execute()}async execute(){const e=()=>{var _;return this.retryer=wp({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(S,P)=>{this.dispatch({type:"failed",failureCount:S,error:P})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(_=this.options.retry)!=null?_:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},r=this.state.status==="loading";try{var n,a,i,o,c,l,u,d;if(!r){var h,f,v,g;this.dispatch({type:"loading",variables:this.options.variables}),await((h=(f=this.mutationCache.config).onMutate)==null?void 0:h.call(f,this.state.variables,this));const S=await((v=(g=this.options).onMutate)==null?void 0:v.call(g,this.state.variables));S!==this.state.context&&this.dispatch({type:"loading",context:S,variables:this.state.variables})}const _=await e();return await((n=(a=this.mutationCache.config).onSuccess)==null?void 0:n.call(a,_,this.state.variables,this.state.context,this)),await((i=(o=this.options).onSuccess)==null?void 0:i.call(o,_,this.state.variables,this.state.context)),await((c=(l=this.mutationCache.config).onSettled)==null?void 0:c.call(l,_,null,this.state.variables,this.state.context,this)),await((u=(d=this.options).onSettled)==null?void 0:u.call(d,_,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:_}),_}catch(_){try{var b,y,m,p,x,k,j,N;throw await((b=(y=this.mutationCache.config).onError)==null?void 0:b.call(y,_,this.state.variables,this.state.context,this)),await((m=(p=this.options).onError)==null?void 0:m.call(p,_,this.state.variables,this.state.context)),await((x=(k=this.mutationCache.config).onSettled)==null?void 0:x.call(k,void 0,_,this.state.variables,this.state.context,this)),await((j=(N=this.options).onSettled)==null?void 0:j.call(N,void 0,_,this.state.variables,this.state.context)),_}finally{this.dispatch({type:"error",error:_})}}}dispatch(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"loading":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!lo(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...n,...e.state}}};this.state=r(this.state),xe.batch(()=>{this.observers.forEach(n=>{n.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function Yy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Xy extends ua{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,r,n){const a=new Jy({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:n,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0});return this.add(a),a}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(r=>r!==e),this.notify({type:"removed",mutation:e})}clear(){xe.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(r=>th(e,r))}findAll(e){return this.mutations.filter(r=>th(e,r))}notify(e){xe.batch(()=>{this.listeners.forEach(({listener:r})=>{r(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const r=this.mutations.filter(n=>n.state.isPaused);return xe.batch(()=>r.reduce((n,a)=>n.then(()=>a.continue().catch(it)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Zy(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,n,a,i,o;const c=(e=t.fetchOptions)==null||(r=e.meta)==null?void 0:r.refetchPage,l=(n=t.fetchOptions)==null||(a=n.meta)==null?void 0:a.fetchMore,u=l==null?void 0:l.pageParam,d=(l==null?void 0:l.direction)==="forward",h=(l==null?void 0:l.direction)==="backward",f=((i=t.state.data)==null?void 0:i.pages)||[],v=((o=t.state.data)==null?void 0:o.pageParams)||[];let g=v,b=!1;const y=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>{var _;if((_=t.signal)!=null&&_.aborted)b=!0;else{var S;(S=t.signal)==null||S.addEventListener("abort",()=>{b=!0})}return t.signal}})},m=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),p=(N,_,S,P)=>(g=P?[_,...g]:[...g,_],P?[S,...N]:[...N,S]),x=(N,_,S,P)=>{if(b)return Promise.reject("Cancelled");if(typeof S>"u"&&!_&&N.length)return Promise.resolve(N);const E={queryKey:t.queryKey,pageParam:S,meta:t.options.meta};y(E);const R=m(E);return Promise.resolve(R).then(q=>p(N,S,q,P))};let k;if(!f.length)k=x([]);else if(d){const N=typeof u<"u",_=N?u:ih(t.options,f);k=x(f,N,_)}else if(h){const N=typeof u<"u",_=N?u:eb(t.options,f);k=x(f,N,_,!0)}else{g=[];const N=typeof t.options.getNextPageParam>"u";k=(c&&f[0]?c(f[0],0,f):!0)?x([],N,v[0]):Promise.resolve(p([],v[0],f[0]));for(let S=1;S<f.length;S++)k=k.then(P=>{if(c&&f[S]?c(f[S],S,f):!0){const R=N?v[S]:ih(t.options,P);return x(P,N,R)}return Promise.resolve(p(P,v[S],f[S]))})}return k.then(N=>({pages:N,pageParams:g}))}}}}function ih(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function eb(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class tb{constructor(e={}){this.queryCache=e.queryCache||new Gy,this.mutationCache=e.mutationCache||new Xy,this.logger=e.logger||yu,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Ii.subscribe(()=>{Ii.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=Di.subscribe(()=>{Di.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,r;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(r=this.unsubscribeOnline)==null||r.call(this),this.unsubscribeOnline=void 0)}isFetching(e,r){const[n]=nr(e,r);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state.data}ensureQueryData(e,r,n){const a=xs(e,r,n),i=this.getQueryData(a.queryKey);return i?Promise.resolve(i):this.fetchQuery(a)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:r,state:n})=>{const a=n.data;return[r,a]})}setQueryData(e,r,n){const a=this.queryCache.find(e),i=a==null?void 0:a.state.data,o=Fy(r,i);if(typeof o>"u")return;const c=xs(e),l=this.defaultQueryOptions(c);return this.queryCache.build(this,l).setData(o,{...n,manual:!0})}setQueriesData(e,r,n){return xe.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,r,n)]))}getQueryState(e,r){var n;return(n=this.queryCache.find(e,r))==null?void 0:n.state}removeQueries(e,r){const[n]=nr(e,r),a=this.queryCache;xe.batch(()=>{a.findAll(n).forEach(i=>{a.remove(i)})})}resetQueries(e,r,n){const[a,i]=nr(e,r,n),o=this.queryCache,c={type:"active",...a};return xe.batch(()=>(o.findAll(a).forEach(l=>{l.reset()}),this.refetchQueries(c,i)))}cancelQueries(e,r,n){const[a,i={}]=nr(e,r,n);typeof i.revert>"u"&&(i.revert=!0);const o=xe.batch(()=>this.queryCache.findAll(a).map(c=>c.cancel(i)));return Promise.all(o).then(it).catch(it)}invalidateQueries(e,r,n){const[a,i]=nr(e,r,n);return xe.batch(()=>{var o,c;if(this.queryCache.findAll(a).forEach(u=>{u.invalidate()}),a.refetchType==="none")return Promise.resolve();const l={...a,type:(o=(c=a.refetchType)!=null?c:a.type)!=null?o:"active"};return this.refetchQueries(l,i)})}refetchQueries(e,r,n){const[a,i]=nr(e,r,n),o=xe.batch(()=>this.queryCache.findAll(a).filter(l=>!l.isDisabled()).map(l=>{var u;return l.fetch(void 0,{...i,cancelRefetch:(u=i==null?void 0:i.cancelRefetch)!=null?u:!0,meta:{refetchPage:a.refetchPage}})}));let c=Promise.all(o).then(it);return i!=null&&i.throwOnError||(c=c.catch(it)),c}fetchQuery(e,r,n){const a=xs(e,r,n),i=this.defaultQueryOptions(a);typeof i.retry>"u"&&(i.retry=!1);const o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(e,r,n){return this.fetchQuery(e,r,n).then(it).catch(it)}fetchInfiniteQuery(e,r,n){const a=xs(e,r,n);return a.behavior=Zy(),this.fetchQuery(a)}prefetchInfiniteQuery(e,r,n){return this.fetchInfiniteQuery(e,r,n).then(it).catch(it)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,r){const n=this.queryDefaults.find(a=>Br(e)===Br(a.queryKey));n?n.defaultOptions=r:this.queryDefaults.push({queryKey:e,defaultOptions:r})}getQueryDefaults(e){if(!e)return;const r=this.queryDefaults.find(n=>Oi(e,n.queryKey));return r==null?void 0:r.defaultOptions}setMutationDefaults(e,r){const n=this.mutationDefaults.find(a=>Br(e)===Br(a.mutationKey));n?n.defaultOptions=r:this.mutationDefaults.push({mutationKey:e,defaultOptions:r})}getMutationDefaults(e){if(!e)return;const r=this.mutationDefaults.find(n=>Oi(e,n.mutationKey));return r==null?void 0:r.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const r={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!r.queryHash&&r.queryKey&&(r.queryHash=vu(r.queryKey,r)),typeof r.refetchOnReconnect>"u"&&(r.refetchOnReconnect=r.networkMode!=="always"),typeof r.useErrorBoundary>"u"&&(r.useErrorBoundary=!!r.suspense),r}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class rb extends ua{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),oh(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ic(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ic(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const n=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),nc(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const i=this.hasListeners();i&&lh(this.currentQuery,a,this.options,n)&&this.executeFetch(),this.updateResult(r),i&&(this.currentQuery!==a||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();i&&(this.currentQuery!==a||this.options.enabled!==n.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e),n=this.createResult(r,e);return sb(this,n,e)&&(this.currentResult=n,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),n}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),e[n])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),n=this.client.getQueryCache().build(this.client,r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(it)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),Ys||this.currentResult.isStale||!rc(this.options.staleTime))return;const r=gp(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Ys||this.options.enabled===!1||!rc(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Ii.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const n=this.currentQuery,a=this.options,i=this.currentResult,o=this.currentResultState,c=this.currentResultOptions,l=e!==n,u=l?e.state:this.currentQueryInitialState,d=l?this.currentResult:this.previousQueryResult,{state:h}=e;let{dataUpdatedAt:f,error:v,errorUpdatedAt:g,fetchStatus:b,status:y}=h,m=!1,p=!1,x;if(r._optimisticResults){const S=this.hasListeners(),P=!S&&oh(e,r),E=S&&lh(e,n,r,a);(P||E)&&(b=lo(e.options.networkMode)?"fetching":"paused",f||(y="loading")),r._optimisticResults==="isRestoring"&&(b="idle")}if(r.keepPreviousData&&!h.dataUpdatedAt&&d!=null&&d.isSuccess&&y!=="error")x=d.data,f=d.dataUpdatedAt,y=d.status,m=!0;else if(r.select&&typeof h.data<"u")if(i&&h.data===(o==null?void 0:o.data)&&r.select===this.selectFn)x=this.selectResult;else try{this.selectFn=r.select,x=r.select(h.data),x=ac(i==null?void 0:i.data,x,r),this.selectResult=x,this.selectError=null}catch(S){this.selectError=S}else x=h.data;if(typeof r.placeholderData<"u"&&typeof x>"u"&&y==="loading"){let S;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData))S=i.data;else if(S=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof S<"u")try{S=r.select(S),this.selectError=null}catch(P){this.selectError=P}typeof S<"u"&&(y="success",x=ac(i==null?void 0:i.data,S,r),p=!0)}this.selectError&&(v=this.selectError,x=this.selectResult,g=Date.now(),y="error");const k=b==="fetching",j=y==="loading",N=y==="error";return{status:y,fetchStatus:b,isLoading:j,isSuccess:y==="success",isError:N,isInitialLoading:j&&k,data:x,dataUpdatedAt:f,error:v,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:k,isRefetching:k&&!j,isLoadingError:N&&h.dataUpdatedAt===0,isPaused:b==="paused",isPlaceholderData:p,isPreviousData:m,isRefetchError:N&&h.dataUpdatedAt!==0,isStale:bu(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,nc(n,r))return;this.currentResult=n;const a={cache:!0},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,c=typeof o=="function"?o():o;if(c==="all"||!c&&!this.trackedProps.size)return!0;const l=new Set(c??this.trackedProps);return this.options.useErrorBoundary&&l.add("error"),Object.keys(this.currentResult).some(u=>{const d=u;return this.currentResult[d]!==r[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(a.listeners=!0),this.notify({...a,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!si(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){xe.batch(()=>{if(e.onSuccess){var r,n,a,i;(r=(n=this.options).onSuccess)==null||r.call(n,this.currentResult.data),(a=(i=this.options).onSettled)==null||a.call(i,this.currentResult.data,null)}else if(e.onError){var o,c,l,u;(o=(c=this.options).onError)==null||o.call(c,this.currentResult.error),(l=(u=this.options).onSettled)==null||l.call(u,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function nb(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function oh(t,e){return nb(t,e)||t.state.dataUpdatedAt>0&&ic(t,e,e.refetchOnMount)}function ic(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&bu(t,e)}return!1}function lh(t,e,r,n){return r.enabled!==!1&&(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&bu(t,r)}function bu(t,e){return t.isStaleByTime(e.staleTime)}function sb(t,e,r){return r.keepPreviousData?!1:r.placeholderData!==void 0?e.isPlaceholderData:!nc(t.getCurrentResult(),e)}var jp={exports:{}},Np={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zn=w;function ab(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ib=typeof Object.is=="function"?Object.is:ab,ob=zn.useState,lb=zn.useEffect,cb=zn.useLayoutEffect,ub=zn.useDebugValue;function db(t,e){var r=e(),n=ob({inst:{value:r,getSnapshot:e}}),a=n[0].inst,i=n[1];return cb(function(){a.value=r,a.getSnapshot=e,Vo(a)&&i({inst:a})},[t,r,e]),lb(function(){return Vo(a)&&i({inst:a}),t(function(){Vo(a)&&i({inst:a})})},[t]),ub(r),r}function Vo(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ib(t,r)}catch{return!0}}function hb(t,e){return e()}var fb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hb:db;Np.useSyncExternalStore=zn.useSyncExternalStore!==void 0?zn.useSyncExternalStore:fb;jp.exports=Np;var mb=jp.exports;const pb=mb.useSyncExternalStore,ch=w.createContext(void 0),_p=w.createContext(!1);function Sp(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ch),window.ReactQueryClientContext):ch)}const gb=({context:t}={})=>{const e=w.useContext(Sp(t,w.useContext(_p)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},xb=({client:t,children:e,context:r,contextSharing:n=!1})=>{w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const a=Sp(r,n);return w.createElement(_p.Provider,{value:!r&&n},w.createElement(a.Provider,{value:t},e))},Ep=w.createContext(!1),vb=()=>w.useContext(Ep);Ep.Provider;function yb(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const bb=w.createContext(yb()),wb=()=>w.useContext(bb);function kb(t,e){return typeof t=="function"?t(...e):!!t}const jb=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Nb=t=>{w.useEffect(()=>{t.clearReset()},[t])},_b=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&kb(r,[t.error,n]),Sb=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.cacheTime=="number"&&(t.cacheTime=Math.max(t.cacheTime,1e3)))},Eb=(t,e)=>t.isLoading&&t.isFetching&&!e,Cb=(t,e,r)=>(t==null?void 0:t.suspense)&&Eb(e,r),Pb=(t,e,r)=>e.fetchOptimistic(t).then(({data:n})=>{t.onSuccess==null||t.onSuccess(n),t.onSettled==null||t.onSettled(n,null)}).catch(n=>{r.clearReset(),t.onError==null||t.onError(n),t.onSettled==null||t.onSettled(void 0,n)});function Rb(t,e){const r=gb({context:t.context}),n=vb(),a=wb(),i=r.defaultQueryOptions(t);i._optimisticResults=n?"isRestoring":"optimistic",i.onError&&(i.onError=xe.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=xe.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=xe.batchCalls(i.onSettled)),Sb(i),jb(i,a),Nb(a);const[o]=w.useState(()=>new e(r,i)),c=o.getOptimisticResult(i);if(pb(w.useCallback(l=>{const u=n?()=>{}:o.subscribe(xe.batchCalls(l));return o.updateResult(),u},[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),w.useEffect(()=>{o.setOptions(i,{listeners:!1})},[i,o]),Cb(i,c,n))throw Pb(i,o,a);if(_b({result:c,errorResetBoundary:a,useErrorBoundary:i.useErrorBoundary,query:o.getCurrentQuery()}))throw c.error;return i.notifyOnChangeProps?c:o.trackResult(c)}function Ab(t,e,r){const n=xs(t,e,r);return Rb(n,rb)}var oc=function(t,e){return oc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},oc(t,e)};function Cp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");oc(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Mi=function(){return Mi=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Mi.apply(this,arguments)};function es(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Pp(t,e,r,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i}function Rp(t,e){return function(r,n){e(r,n,t)}}function Ap(t,e,r,n,a,i){function o(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var c=n.kind,l=c==="getter"?"get":c==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,f=!1,v=r.length-1;v>=0;v--){var g={};for(var b in n)g[b]=b==="access"?{}:n[b];for(var b in n.access)g.access[b]=n.access[b];g.addInitializer=function(m){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(m||null))};var y=(0,r[v])(c==="accessor"?{get:d.get,set:d.set}:d[l],g);if(c==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(h=o(y.get))&&(d.get=h),(h=o(y.set))&&(d.set=h),(h=o(y.init))&&a.unshift(h)}else(h=o(y))&&(c==="field"?a.unshift(h):d[l]=h)}u&&Object.defineProperty(u,n.name,d),f=!0}function Tp(t,e,r){for(var n=arguments.length>2,a=0;a<e.length;a++)r=n?e[a].call(t,r):e[a].call(t);return n?r:void 0}function Op(t){return typeof t=="symbol"?t:"".concat(t)}function Ip(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Dp(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function M(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(d){try{u(n.next(d))}catch(h){o(h)}}function l(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):a(d.value).then(c,l)}u((n=n.apply(t,e||[])).next())})}function Mp(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var co=Object.create?function(t,e,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(e,r);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,a)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Lp(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&co(e,t,r)}function Li(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(c){o={error:c}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function $p(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(wu(arguments[e]));return t}function Up(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<r;e++)for(var i=arguments[e],o=0,c=i.length;o<c;o++,a++)n[a]=i[o];return n}function Bp(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function qn(t){return this instanceof qn?(this.v=t,this):new qn(t)}function Fp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(v){return function(g){return Promise.resolve(g).then(v,h)}}function c(v,g){n[v]&&(a[v]=function(b){return new Promise(function(y,m){i.push([v,b,y,m])>1||l(v,b)})},g&&(a[v]=g(a[v])))}function l(v,g){try{u(n[v](g))}catch(b){f(i[0][3],b)}}function u(v){v.value instanceof qn?Promise.resolve(v.value.v).then(d,h):f(i[0][2],v)}function d(v){l("next",v)}function h(v){l("throw",v)}function f(v,g){v(g),i.shift(),i.length&&l(i[0][0],i[0][1])}}function zp(t){var e,r;return e={},n("next"),n("throw",function(a){throw a}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(a,i){e[a]=t[a]?function(o){return(r=!r)?{value:qn(t[a](o)),done:!1}:i?i(o):o}:i}}function qp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Li=="function"?Li(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(c,l){o=t[i](o),a(c,l,o.done,o.value)})}}function a(i,o,c,l){Promise.resolve(l).then(function(u){i({value:u,done:c})},o)}}function Vp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Tb=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},lc=function(t){return lc=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},lc(t)};function Wp(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=lc(t),n=0;n<r.length;n++)r[n]!=="default"&&co(e,t,r[n]);return Tb(e,t),e}function Hp(t){return t&&t.__esModule?t:{default:t}}function Qp(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Kp(t,e,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,r):a?a.value=r:e.set(t,r),r}function Gp(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Jp(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Ob=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Yp(t){function e(i){t.error=t.hasError?new Ob(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function a(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return e(o),a()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return a()}function Xp(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?e?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):t}const Ib={__extends:Cp,__assign:Mi,__rest:es,__decorate:Pp,__param:Rp,__esDecorate:Ap,__runInitializers:Tp,__propKey:Op,__setFunctionName:Ip,__metadata:Dp,__awaiter:M,__generator:Mp,__createBinding:co,__exportStar:Lp,__values:Li,__read:wu,__spread:$p,__spreadArrays:Up,__spreadArray:Bp,__await:qn,__asyncGenerator:Fp,__asyncDelegator:zp,__asyncValues:qp,__makeTemplateObject:Vp,__importStar:Wp,__importDefault:Hp,__classPrivateFieldGet:Qp,__classPrivateFieldSet:Kp,__classPrivateFieldIn:Gp,__addDisposableResource:Jp,__disposeResources:Yp,__rewriteRelativeImportExtension:Xp},Db=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Jp,get __assign(){return Mi},__asyncDelegator:zp,__asyncGenerator:Fp,__asyncValues:qp,__await:qn,__awaiter:M,__classPrivateFieldGet:Qp,__classPrivateFieldIn:Gp,__classPrivateFieldSet:Kp,__createBinding:co,__decorate:Pp,__disposeResources:Yp,__esDecorate:Ap,__exportStar:Lp,__extends:Cp,__generator:Mp,__importDefault:Hp,__importStar:Wp,__makeTemplateObject:Vp,__metadata:Dp,__param:Rp,__propKey:Op,__read:wu,__rest:es,__rewriteRelativeImportExtension:Xp,__runInitializers:Tp,__setFunctionName:Ip,__spread:$p,__spreadArray:Bp,__spreadArrays:Up,__values:Li,default:Ib},Symbol.toStringTag,{value:"Module"})),Mb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class ku extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Lb extends ku{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uh extends ku{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dh extends ku{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cc||(cc={}));class $b{constructor(e,{headers:r={},customFetch:n,region:a=cc.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Mb(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return M(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:c,method:l,body:u,signal:d,timeout:h}=n;let f={},{region:v}=n;v||(v=this.region);const g=new URL(`${this.url}/${r}`);v&&v!=="any"&&(f["x-region"]=v,g.searchParams.set("forceFunctionRegion",v));let b;u&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(f["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(f["Content-Type"]="application/json",b=JSON.stringify(u)):b=u;let y=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const m=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),c),body:b,signal:y}).catch(j=>{throw new Lb(j)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new uh(m);if(!m.ok)throw new dh(m);let x=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return x==="application/json"?k=yield m.json():x==="application/octet-stream"||x==="application/pdf"?k=yield m.blob():x==="text/event-stream"?k=m:x==="multipart/form-data"?k=yield m.formData():k=yield m.text(),{data:k,error:null,response:m}}catch(c){return{data:null,error:c,response:c instanceof dh||c instanceof uh?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var Le={};const ts=dg(Db);var Oa={},Ia={},Da={},Ma={},La={},$a={},hh;function Zp(){if(hh)return $a;hh=1,Object.defineProperty($a,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return $a.default=t,$a}var fh;function e0(){if(fh)return La;fh=1,Object.defineProperty(La,"__esModule",{value:!0});const e=ts.__importDefault(Zp());class r{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,h,f;let v=null,g=null,b=null,y=l.status,m=l.statusText;if(l.ok){if(this.method!=="HEAD"){const j=await l.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=j:g=JSON.parse(j))}const x=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),k=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&k&&k.length>1&&(b=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(v={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,b=null,y=406,m="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await l.text();try{v=JSON.parse(x),Array.isArray(v)&&l.status===404&&(g=[],v=null,y=200,m="OK")}catch{l.status===404&&x===""?(y=204,m="No Content"):v={message:x}}if(v&&this.isMaybeSingle&&(!((f=v==null?void 0:v.details)===null||f===void 0)&&f.includes("0 rows"))&&(v=null,y=200,m="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:g,count:b,status:y,statusText:m}});return this.shouldThrowOnError||(c=c.catch(l=>{var u,d,h,f,v,g;let b="";const y=l==null?void 0:l.cause;if(y){const m=(u=y==null?void 0:y.message)!==null&&u!==void 0?u:"",p=(d=y==null?void 0:y.code)!==null&&d!==void 0?d:"";b=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,b+=`

Caused by: ${(f=y==null?void 0:y.name)!==null&&f!==void 0?f:"Error"}: ${m}`,p&&(b+=` (${p})`),y!=null&&y.stack&&(b+=`
${y.stack}`)}else b=(v=l==null?void 0:l.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"FetchError"}: ${l==null?void 0:l.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(a,i)}returns(){return this}overrideTypes(){return this}}return La.default=r,La}var mh;function t0(){if(mh)return Ma;mh=1,Object.defineProperty(Ma,"__esModule",{value:!0});const e=ts.__importDefault(e0());class r extends e.default{select(a){let i=!1;const o=(a??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:c,referencedTable:l=c}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:c=o}={}){const l=typeof c>"u"?"offset":`${c}.offset`,u=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:c=!1,wal:l=!1,format:u="text"}={}){var d;const h=[a?"analyze":null,i?"verbose":null,o?"settings":null,c?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Ma.default=r,Ma}var ph;function ju(){if(ph)return Da;ph=1,Object.defineProperty(Da,"__esModule",{value:!0});const e=ts.__importDefault(t0()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const l=c?`${c}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return Da.default=n,Da}var gh;function r0(){if(gh)return Ia;gh=1,Object.defineProperty(Ia,"__esModule",{value:!0});const e=ts.__importDefault(ju());class r{constructor(a,{headers:i={},schema:o,fetch:c}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=c}select(a,i){const{head:o=!1,count:c}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var c;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:c,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const h=a.reduce((f,v)=>f.concat(Object.keys(v)),[]);if(h.length>0){const f=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ia.default=r,Ia}var xh;function Ub(){if(xh)return Oa;xh=1,Object.defineProperty(Oa,"__esModule",{value:!0});const t=ts,e=t.__importDefault(r0()),r=t.__importDefault(ju());class n{constructor(i,{headers:o={},schema:c,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=c,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:c=!1,get:l=!1,count:u}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let v;c||l?(h=c?"HEAD":"GET",Object.entries(o).filter(([b,y])=>y!==void 0).map(([b,y])=>[b,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([b,y])=>{f.searchParams.append(b,y)})):(h="POST",v=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:h,url:f,headers:g,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Oa.default=n,Oa}Object.defineProperty(Le,"__esModule",{value:!0});var n0=Le.PostgrestError=f0=Le.PostgrestBuilder=d0=Le.PostgrestTransformBuilder=c0=Le.PostgrestFilterBuilder=o0=Le.PostgrestQueryBuilder=a0=Le.PostgrestClient=void 0;const rs=ts,s0=rs.__importDefault(Ub());var a0=Le.PostgrestClient=s0.default;const i0=rs.__importDefault(r0());var o0=Le.PostgrestQueryBuilder=i0.default;const l0=rs.__importDefault(ju());var c0=Le.PostgrestFilterBuilder=l0.default;const u0=rs.__importDefault(t0());var d0=Le.PostgrestTransformBuilder=u0.default;const h0=rs.__importDefault(e0());var f0=Le.PostgrestBuilder=h0.default;const m0=rs.__importDefault(Zp());n0=Le.PostgrestError=m0.default;var p0=Le.default={PostgrestClient:s0.default,PostgrestQueryBuilder:i0.default,PostgrestFilterBuilder:l0.default,PostgrestTransformBuilder:u0.default,PostgrestBuilder:h0.default,PostgrestError:m0.default};const Bb=Hh({__proto__:null,get PostgrestBuilder(){return f0},get PostgrestClient(){return a0},get PostgrestError(){return n0},get PostgrestFilterBuilder(){return c0},get PostgrestQueryBuilder(){return o0},get PostgrestTransformBuilder(){return d0},default:p0},[Le]),{PostgrestClient:Fb,PostgrestQueryBuilder:vN,PostgrestFilterBuilder:yN,PostgrestTransformBuilder:bN,PostgrestBuilder:wN,PostgrestError:kN}=p0||Bb;class zb{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qb="2.83.0",Vb=`realtime-js/${qb}`,g0="1.0.0",Wb="2.0.0",vh=g0,uc=1e4,Hb=1e3,Qb=100;var Ir;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ir||(Ir={}));var be;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(be||(be={}));var ot;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ot||(ot={}));var dc;(function(t){t.websocket="websocket"})(dc||(dc={}));var Dr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Dr||(Dr={}));class Kb{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){var r,n;const{event:a,topic:i,payload:o}=e,c=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",u=this.META_LENGTH+l.length+c.length+i.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let h=new DataView(d),f=0;h.setUint8(f++,this.KINDS.push),h.setUint8(f++,l.length),h.setUint8(f++,c.length),h.setUint8(f++,i.length),h.setUint8(f++,a.length),Array.from(l,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(c,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(i,g=>h.setUint8(f++,g.charCodeAt(0))),Array.from(a,g=>h.setUint8(f++,g.charCodeAt(0)));var v=new Uint8Array(d.byteLength+o.byteLength);return v.set(new Uint8Array(d),0),v.set(new Uint8Array(o),d.byteLength),v.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n,a,i;const o=e.topic,c=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",u=e.payload.event,d=(i=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:new ArrayBuffer(0),h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+c.length+o.length+u.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let v=new DataView(f),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,l.length),v.setUint8(g++,c.length),v.setUint8(g++,o.length),v.setUint8(g++,u.length),v.setUint8(g++,this.BINARY_ENCODING),Array.from(l,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(c,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(g++,y.charCodeAt(0)));var b=new Uint8Array(f.byteLength+d.byteLength);return b.set(new Uint8Array(f),0),b.set(new Uint8Array(d),f.byteLength),b.buffer}_encodeJsonUserBroadcastPush(e){var r,n,a,i;const o=e.topic,c=(r=e.ref)!==null&&r!==void 0?r:"",l=(n=e.join_ref)!==null&&n!==void 0?n:"",u=e.payload.event,d=(i=(a=e.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer,v=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+c.length+o.length+u.length,g=new ArrayBuffer(this.HEADER_LENGTH+v);let b=new DataView(g),y=0;b.setUint8(y++,this.KINDS.userBroadcastPush),b.setUint8(y++,l.length),b.setUint8(y++,c.length),b.setUint8(y++,o.length),b.setUint8(y++,u.length),b.setUint8(y++,this.JSON_ENCODING),Array.from(l,p=>b.setUint8(y++,p.charCodeAt(0))),Array.from(c,p=>b.setUint8(y++,p.charCodeAt(0))),Array.from(o,p=>b.setUint8(y++,p.charCodeAt(0))),Array.from(u,p=>b.setUint8(y++,p.charCodeAt(0)));var m=new Uint8Array(g.byteLength+f.byteLength);return m.set(new Uint8Array(g),0),m.set(new Uint8Array(f),g.byteLength),m.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,i,o,c,l]=n;return r({join_ref:a,ref:i,topic:o,event:c,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,a);case this.KINDS.reply:return this._decodeReply(e,r,a);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodePush(e,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(c,c+a));c=c+a;const u=n.decode(e.slice(c,c+i));c=c+i;const d=n.decode(e.slice(c,c+o));c=c+o;const h=JSON.parse(n.decode(e.slice(c,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:d,payload:h}}_decodeReply(e,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(e.slice(l,l+a));l=l+a;const d=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+o));l=l+o;const f=n.decode(e.slice(l,l+c));l=l+c;const v=JSON.parse(n.decode(e.slice(l,e.byteLength))),g={status:f,response:v};return{join_ref:u,ref:d,topic:h,event:ot.reply,payload:g}}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const c=n.decode(e.slice(o,o+a));o=o+a;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:c,event:l,payload:u}}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+a));l=l+a;const d=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),v=c===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,g={type:this.BROADCAST,event:d,payload:v};return o>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class x0{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const yh=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Gb(o,t,e,a),i),{}):{}},Gb=(t,e,r,n)=>{const a=e.find(c=>c.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!n.includes(i)?v0(i,o):hc(o)},v0=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Zb(e,r)}switch(t){case X.bool:return Jb(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Yb(e);case X.json:case X.jsonb:return Xb(e);case X.timestamp:return ew(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return hc(e);default:return hc(e)}},hc=t=>t,Jb=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Yb=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Xb=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Zb=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>v0(e,c))}return t},ew=t=>typeof t=="string"?t.replace(" ","T"):t,y0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Wo{constructor(e,r,n={},a=uc){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var bh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(bh||(bh={}));class Ps{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ps.syncState(this.state,a,i,o),this.pendingDiffs.forEach(l=>{this.state=Ps.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ps.syncDiff(this.state,a,i,o),c())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),c={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(y=>y.presence_ref),v=h.map(y=>y.presence_ref),g=d.filter(y=>v.indexOf(y.presence_ref)<0),b=h.filter(y=>f.indexOf(y.presence_ref)<0);g.length>0&&(c[u]=g),b.length>0&&(l[u]=b)}else c[u]=d}),this.syncDiff(i,{joins:c,leaves:l},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(c,l)=>{var u;const d=(u=e[c])!==null&&u!==void 0?u:[];if(e[c]=this.cloneDeep(l),d.length>0){const h=e[c].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[c].unshift(...f)}n(c,d,l)}),this.map(o,(c,l)=>{let u=e[c];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[c]=u,a(c,u,l),u.length===0&&delete e[c]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wh;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wh||(wh={}));var Rs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Rs||(Rs={}));var Mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Mt||(Mt={}));class Nu{constructor(e,r={config:{}},n){var a,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Wo(this,ot.join,this.params,this.timeout),this.rejoinTimer=new x0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=be.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Ps(this),this.broadcastEndpointURL=y0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==be.closed){const{config:{broadcast:o,presence:c,private:l}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Rs.PRESENCE]&&this.bindings[Rs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Mt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Mt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var g;if(this.socket.setAuth(),v===void 0){e==null||e(Mt.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(g=b==null?void 0:b.length)!==null&&g!==void 0?g:0,m=[];for(let p=0;p<y;p++){const x=b[p],{filter:{event:k,schema:j,table:N,filter:_}}=x,S=v&&v[p];if(S&&S.event===k&&S.schema===j&&S.table===N&&S.filter===_)m.push(Object.assign(Object.assign({},x),{id:S.id}));else{this.unsubscribe(),this.state=be.errored,e==null||e(Mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Mt.SUBSCRIBED);return}}).receive("error",v=>{this.state=be.errored,e==null||e(Mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===be.joined&&e===Rs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let l=c.statusText;try{const u=await c.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=be.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Wo(this,ot.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=be.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Wo(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Qb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:c,error:l,leave:u,join:d}=ot;if(n&&[c,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var g,b,y;return((g=v.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(b=v.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var g,b,y,m,p,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const k=v.id,j=(g=v.filter)===null||g===void 0?void 0:g.event;return k&&((b=r.ids)===null||b===void 0?void 0:b.includes(k))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const k=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return k==="*"||k===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:b,table:y,commit_timestamp:m,type:p,errors:x}=g;f=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:m,eventType:p,new:{},old:{},errors:x}),this._getPayloadRecords(g))}v.callback(f,n)})}_isClosed(){return this.state===be.closed}_isJoined(){return this.state===be.joined}_isJoining(){return this.state===be.joining}_isLeaving(){return this.state===be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Nu.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ot.close,{},e)}_onError(e){this._on(ot.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=yh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=yh(e.columns,e.old_record)),r}}const Ho=()=>{},Ua={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tw=[1e3,2e3,5e3,1e4],rw=1e4,nw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sw{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=uc,this.transport=null,this.heartbeatIntervalMs=Ua.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ho,this.ref=0,this.reconnectTimer=null,this.vsn=vh,this.logger=Ho,this.conn=null,this.sendBuffer=[],this.serializer=new Kb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${dc.websocket}`,this.httpEndpoint=y0(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zb.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ir.connecting:return Dr.Connecting;case Ir.open:return Dr.Open;case Ir.closing:return Dr.Closing;default:return Dr.Closed}}isConnected(){return this.connectionState()===Dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Nu(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Hb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ua.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,c=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${a} ${c}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ir.open||this.conn.readyState===Ir.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ot.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([nw],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:Vb};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(ot.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new x0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ua.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,i,o,c,l,u,d,h,f,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:uc,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Ua.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e==null?void 0:e.heartbeatCallback)!==null&&c!==void 0?c:Ho,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:vh,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:g=>tw[g-1]||rw,this.vsn){case g0:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(g,b)=>b(JSON.stringify(g)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(g,b)=>b(JSON.parse(g));break;case Wb:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class _u extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class aw extends _u{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fc extends _u{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Su=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),iw=()=>Response,mc=t=>{if(Array.isArray(t))return t.map(r=>mc(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=mc(n)}),e},ow=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Qo=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},lw=(t,e,r)=>M(void 0,void 0,void 0,function*(){const n=yield iw();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{const i=t.status||500,o=(a==null?void 0:a.statusCode)||i+"";e(new aw(Qo(a),i,o))}).catch(a=>{e(new fc(Qo(a),a))}):e(new fc(Qo(t),t))}),cw=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(ow(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),r))};function da(t,e,r,n,a,i){return M(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(r,cw(e,n,a,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>lw(l,c,n))})})}function Xs(t,e,r,n){return M(this,void 0,void 0,function*(){return da(t,"GET",e,r,n)})}function vt(t,e,r,n,a){return M(this,void 0,void 0,function*(){return da(t,"POST",e,n,a,r)})}function pc(t,e,r,n,a){return M(this,void 0,void 0,function*(){return da(t,"PUT",e,n,a,r)})}function uw(t,e,r,n){return M(this,void 0,void 0,function*(){return da(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Eu(t,e,r,n,a){return M(this,void 0,void 0,function*(){return da(t,"DELETE",e,n,a,r)})}class dw{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return M(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oe(e))return{data:null,error:e};throw e}})}}var b0;class hw{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[b0]="BlobDownloadBuilder",this.promise=null}asStream(){return new dw(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return M(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oe(e))return{data:null,error:e};throw e}})}}b0=Symbol.toStringTag;const fw=hw,mw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class pw{constructor(e,r={},n,a){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Su(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,a){return M(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},kh),a);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a!=null&&a.headers&&(c=Object.assign(Object.assign({},c),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?pc:vt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:c},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oe(i))return{data:null,error:i};throw i}})}upload(e,r,n){return M(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return M(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:kh.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield pc(this.fetch,c.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return M(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield vt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new _u("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}update(e,r,n){return M(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return M(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(oe(a))return{data:null,error:a};throw a}})}copy(e,r,n){return M(this,void 0,void 0,function*(){try{return{data:{path:(yield vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(oe(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return M(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield vt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(oe(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return M(this,void 0,void 0,function*(){try{const a=yield vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(oe(a))return{data:null,error:a};throw a}})}download(e,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",c=this._getFinalPath(e),l=()=>Xs(this.fetch,`${this.url}/${a}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new fw(l,this.shouldThrowOnError)}info(e){return M(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Xs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:mc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}exists(e){return M(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield uw(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n)&&n instanceof fc){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${u}`)}}}remove(e){return M(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}list(e,r,n){return M(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},mw),r),{prefix:e||""});return{data:yield vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(oe(a))return{data:null,error:a};throw a}})}listV2(e,r){return M(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield vt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const w0="2.83.0",k0={"X-Client-Info":`storage-js/${w0}`};class gw{constructor(e,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k0),r),this.fetch=Su(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return M(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Xs(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}getBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}createBucket(e){return M(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield vt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(oe(a))return{data:null,error:a};throw a}})}updateBucket(e,r){return M(this,void 0,void 0,function*(){try{return{data:yield pc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class xw{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},k0),r),this.fetch=Su(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}listBuckets(e){return M(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Xs(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield Eu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oe(r))return{data:null,error:r};throw r}})}}const Cu={"X-Client-Info":`storage-js/${w0}`,"Content-Type":"application/json"};class j0 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ze(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ko extends j0{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vw extends j0{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var jh;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(jh||(jh={}));const Pu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Nh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bw=(t,e,r)=>M(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const a=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";e(new Ko(Nh(o),a,c))}).catch(()=>{const o=a+"",c=i.statusText||`HTTP ${a} error`;e(new Ko(c,a,o))});else{const o=a+"",c=i.statusText||`HTTP ${a} error`;e(new Ko(c,a,o))}}else e(new vw(Nh(t),t))}),ww=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(yw(n)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r))};function kw(t,e,r,n,a,i){return M(this,void 0,void 0,function*(){return new Promise((o,c)=>{t(r,ww(e,n,a,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>bw(l,c,n))})})}function et(t,e,r,n,a){return M(this,void 0,void 0,function*(){return kw(t,"POST",e,n,a,r)})}class jw{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cu),r),this.fetch=Pu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return M(this,void 0,void 0,function*(){try{return{data:(yield et(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}getIndex(e,r){return M(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}listIndexes(e){return M(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return M(this,void 0,void 0,function*(){try{return{data:(yield et(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ze(n))return{data:null,error:n};throw n}})}}class Nw{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cu),r),this.fetch=Pu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return M(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield et(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}getVectors(e){return M(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}listVectors(e){return M(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield et(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}queryVectors(e){return M(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}deleteVectors(e){return M(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield et(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}}class _w{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cu),r),this.fetch=Pu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return M(this,void 0,void 0,function*(){try{return{data:(yield et(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}getBucket(e){return M(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}listBuckets(){return M(this,arguments,void 0,function*(e={}){try{return{data:yield et(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}deleteBucket(e){return M(this,void 0,void 0,function*(){try{return{data:(yield et(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ze(r))return{data:null,error:r};throw r}})}}class Sw extends _w{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Ew(this.url,this.headers,e,this.fetch)}}class Ew extends jw{constructor(e,r,n,a){super(e,r,a),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return M(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return M(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return M(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return M(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Cw(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Cw extends Nw{constructor(e,r,n,a,i){super(e,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return M(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return M(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return M(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return M(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return M(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Pw extends gw{constructor(e,r={},n,a){super(e,r,n,a)}from(e){return new pw(this.url,this.headers,e,this.fetch)}get vectors(){return new Sw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xw(this.url+"/iceberg",this.headers,this.fetch)}}const Rw="2.83.0";let vs="";typeof Deno<"u"?vs="deno":typeof document<"u"?vs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?vs="react-native":vs="node";const Aw={"X-Client-Info":`supabase-js-${vs}/${Rw}`},Tw={headers:Aw},Ow={schema:"public"},Iw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dw={},Mw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Lw=()=>Headers,$w=(t,e,r)=>{const n=Mw(r),a=Lw();return async(i,o)=>{var c;const l=(c=await e())!==null&&c!==void 0?c:t;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function Uw(t){return t.endsWith("/")?t:t+"/"}function Bw(t,e){var r,n;const{db:a,auth:i,realtime:o,global:c}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),c),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Fw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Uw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const N0="2.83.0",hn=30*1e3,gc=3,Go=gc*hn,zw="http://localhost:9999",qw="supabase.auth.token",Vw={"X-Client-Info":`gotrue-js/${N0}`},xc="X-Supabase-Api-Version",_0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ww=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hw=10*60*1e3;class Zs extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Qw extends Zs{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Kw(t){return $(t)&&t.name==="AuthApiError"}class Mr extends Zs{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Sr extends Zs{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Ye extends Sr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gw(t){return $(t)&&t.name==="AuthSessionMissingError"}class an extends Sr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ba extends Sr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fa extends Sr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jw(t){return $(t)&&t.name==="AuthImplicitGrantRedirectError"}class _h extends Sr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vc extends Sr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Jo(t){return $(t)&&t.name==="AuthRetryableFetchError"}class Sh extends Sr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yc extends Sr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Eh=` 	
\r=`.split(""),Yw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Eh.length;e+=1)t[Eh[e].charCodeAt(0)]=-2;for(let e=0;e<$i.length;e+=1)t[$i[e].charCodeAt(0)]=e;return t})();function Ch(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r($i[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r($i[n]),e.queuedBits-=6}}function S0(t,e,r){const n=Yw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ph(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{ek(o,n,r)};for(let o=0;o<t.length;o+=1)S0(t.charCodeAt(o),a,i);return e.join("")}function Xw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Zw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Xw(n,e)}}function ek(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function On(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)S0(t.charCodeAt(a),r,n);return new Uint8Array(e)}function tk(t){const e=[];return Zw(t,r=>e.push(r)),new Uint8Array(e)}function Fr(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>Ch(a,r,n)),Ch(null,r,n),e.join("")}function rk(t){return Math.round(Date.now()/1e3)+t}function nk(){return Symbol("auth-callback")}const Ee=()=>typeof window<"u"&&typeof document<"u",Pr={tested:!1,writable:!1},E0=()=>{if(!Ee())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pr.tested)return Pr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Pr.tested=!0,Pr.writable=!0}catch{Pr.tested=!0,Pr.writable=!1}return Pr.writable};function sk(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const C0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ak=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",fn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Rr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zt=async(t,e)=>{await t.removeItem(e)};class uo{constructor(){this.promise=new uo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}uo.promiseConstructor=Promise;function Yo(t){const e=t.split(".");if(e.length!==3)throw new yc("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Ww.test(e[n]))throw new yc("JWT not in base64url format");return{header:JSON.parse(Ph(e[0])),payload:JSON.parse(Ph(e[1])),signature:On(e[2]),raw:{header:e[0],payload:e[1]}}}async function ik(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ok(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function lk(t){return("0"+t.toString(16)).substr(-2)}function ck(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,lk).join("")}async function uk(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function dk(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await uk(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function on(t,e,r=!1){const n=ck();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await fn(t,`${e}-code-verifier`,a);const i=await dk(n);return[i,n===i?"plain":"s256"]}const hk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fk(t){const e=t.headers.get(xc);if(!e||!e.match(hk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ln(t){if(!gk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xk(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function Rh(t){return JSON.parse(JSON.stringify(t))}const Or=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vk=[502,503,504];async function Ah(t){var e;if(!ak(t))throw new vc(Or(t),0);if(vk.includes(t.status))throw new vc(Or(t),t.status);let r;try{r=await t.json()}catch(i){throw new Mr(Or(i),i)}let n;const a=fk(t);if(a&&a.getTime()>=_0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Sh(Or(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ye}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Sh(Or(r),t.status,r.weak_password.reasons);throw new Qw(Or(r),t.status||500,n)}const yk=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function B(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[xc]||(i[xc]=_0["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await bk(t,e,r+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function bk(t,e,r,n,a,i){const o=yk(e,n,a,i);let c;try{c=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new vc(Or(l),0)}if(c.ok||await Ah(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(l){await Ah(l)}}function gt(t){var e;let r=null;jk(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=rk(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Th(t){const e=gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ir(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wk(t){return{data:t,error:null}}function kk(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=es(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},l=Object.assign({},o);return{data:{properties:c,user:l},error:null}}function Oh(t){return t}function jk(t){return t.access_token&&t.refresh_token&&t.expires_in}const Zo=["global","local","others"];class Nk{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=C0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Zo[0]){if(Zo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zo.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if($(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ir})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=es(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:kk,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if($(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ir})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,c,l;try{const u={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Oh});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ln(e);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ir})}catch(r){if($(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ln(e);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ir})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ln(e);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ir})}catch(n){if($(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ln(e.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if($(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ln(e.userId),ln(e.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,i,o,c,l;try{const u={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Oh});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if($(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await B(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await B(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if($(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await B(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if($(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await B(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if($(r))return{data:null,error:r};throw r}}}function Ih(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const cn={debug:!!(globalThis&&E0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class P0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class _k extends P0{}async function Sk(t,e,r){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new _k(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Ek(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function R0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Ck(t){return parseInt(t,16)}function Pk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Rk(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:c,requestId:l,resources:u,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=R0(t.address),g=d?`${d}://${n}`:n,b=t.statement?`${t.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${v}

${b}`;let m=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(m+=`
Expiration Time: ${a.toISOString()}`),c&&(m+=`
Not Before: ${c.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);p+=`
- ${x}`}m+=p}return`${y}
${m}`}class ge extends Error{constructor({message:e,code:r,cause:n,name:a}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ui extends ge{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Ak({error:t,options:e}){var r,n,a;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new ge({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(A0(o)){if(i.rp.id!==o)return new ge({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Tk({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new ge({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(A0(n)){if(r.rpId!==n)return new ge({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Ok{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ik=new Ok;function Dk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=es(t,["challenge","user","excludeCredentials"]),i=On(e).buffer,o=Object.assign(Object.assign({},r),{id:On(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];c.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:On(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return c}function Mk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=es(t,["challenge","allowCredentials"]),a=On(e).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},c),{id:On(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function Lk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Fr(new Uint8Array(t.response.attestationObject)),clientDataJSON:Fr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $k(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Fr(new Uint8Array(a.authenticatorData)),clientDataJSON:Fr(new Uint8Array(a.clientDataJSON)),signature:Fr(new Uint8Array(a.signature)),userHandle:a.userHandle?Fr(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function A0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Dh(){var t,e;return!!(Ee()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Uk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ui("Browser returned unexpected credential type",e)}:{data:null,error:new Ui("Empty credential response",e)}}catch(e){return{data:null,error:Ak({error:e,options:t})}}}async function Bk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ui("Browser returned unexpected credential type",e)}:{data:null,error:new Ui("Empty credential response",e)}}catch(e){return{data:null,error:Tk({error:e,options:t})}}}const Fk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},zk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bi(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const c=n[i];e(c)?n[i]=Bi(c,o):n[i]=Bi(o)}else n[i]=o}return n}function qk(t,e){return Bi(Fk,t,e||{})}function Vk(t,e){return Bi(zk,t,e||{})}class Wk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:c};const l=a??Ik.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=qk(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await Uk({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Vk(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await Bk(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new Mr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Zs("rpId is required for WebAuthn authentication")};try{if(!Dh())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:c};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new Mr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Zs("rpId is required for WebAuthn registration")};try{if(!Dh())return{data:null,error:new Mr("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:c};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return $(o)?{data:null,error:o}:{data:null,error:new Mr("Unexpected error in register",o)}}}}Ek();const Hk={url:zw,storageKey:qw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Mh(t,e,r){return await r()}const un={};class ea{get jwks(){var e,r;return(r=(e=un[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){un[this.storageKey]=Object.assign(Object.assign({},un[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=un[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){un[this.storageKey]=Object.assign(Object.assign({},un[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Hk),e);if(this.storageKey=i.storageKey,this.instanceID=(r=ea.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ea.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ee()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Nk({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=C0(i.fetch),this.lock=i.lock||Mh,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ee()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Sk:this.lock=Mh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:E0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ih(this.memoryStorage)),Ee()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${N0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ee()&&(r=sk(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ee()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Jw(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $(r)?this._returnResult({error:r}):this._returnResult({error:new Mr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:gt}),{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,g=null;this.flowType==="pkce"&&([v,g]=await on(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:g},xform:gt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:gt})}else throw new Ba("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:c}=e;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Th})}else if("phone"in e){const{phone:i,password:o,options:c}=e;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Th})}else throw new Ba("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new an;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,i,o,c,l,u,d,h,f;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:b,wallet:y,statement:m,options:p}=e;let x;if(Ee())if(typeof y=="object")x=y;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")x=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const k=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),j=await x.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=R0(j[0]);let _=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!_){const P=await x.request({method:"eth_chainId"});_=Ck(P)}const S={domain:k.host,address:N,statement:m,uri:k.href,version:"1",chainId:_,nonce:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=Rk(S),g=await x.request({method:"personal_sign",params:[Pk(v),N]})}try{const{data:b,error:y}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:gt});if(y)throw y;if(!b||!b.session||!b.user){const m=new an;return this._returnResult({data:{user:null,session:null},error:m})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if($(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var r,n,a,i,o,c,l,u,d,h,f,v;let g,b;if("message"in e)g=e.message,b=e.signature;else{const{chain:y,wallet:m,statement:p,options:x}=e;let k;if(Ee())if(typeof m=="object")k=m;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))k=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=m}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const N=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let _;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")_=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)_=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)g=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),b=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const N=await k.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=N}}try{const{data:y,error:m}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Fr(b)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gt});if(m)throw m;if(!y||!y.session||!y.user){const p=new an;return this._returnResult({data:{user:null,session:null},error:p})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:m})}catch(y){if($(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const r=await Rr(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gt});if(await Zt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const c=new an;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if($(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,c=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:gt}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new an;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:c,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await on(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:c,options:l}=e,{data:u,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ba("You must provide either an email or phone number.")}catch(c){if($(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:gt});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if($(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,n,a,i,o;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await on(this.storage,this.storageKey));const u=await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:wk});return!((i=u.data)===null||i===void 0)&&i.url&&Ee()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if($(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ye;const{error:a}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if($(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:c}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c})}throw new Ba("You must provide either an email or phone number and a type")}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Go:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Rr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Xo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=xk(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ir}):await this._useSession(async r=>{var n,a,i;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ye}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:ir})})}catch(r){if($(r))return Gw(r)&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Ye;const o=a.session;let c=null,l=null;this.flowType==="pkce"&&e.email!=null&&([c,l]=await on(this.storage,this.storageKey));const{data:u,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:l}),jwt:o.access_token,xform:ir});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if($(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ye;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Yo(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:c,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if($(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:c}=r;if(c)throw c;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ye;const{data:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if($(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ee())throw new Fa("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fa(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _h("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fa("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _h("No code detected.");const{data:p,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:c,expires_at:l,token_type:u}=e;if(!i||!c||!o||!u)throw new Fa("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(c);let f=d+h;l&&(f=parseInt(l));const v=f-d;v*1e3<=hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:b,error:y}=await this._getUser(i);if(y)throw y;const m={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(n){if($(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Rr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(Kw(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=nk(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await on(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if($(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,c,l,u,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Ee()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if($(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:c,token:l,access_token:u,nonce:d}=e,h=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:gt}),{data:f,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new an}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:v}))}catch(a){if($(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ok(async a=>(a>0&&await ik(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gt})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Jo(i)&&Date.now()+o-n<hn})}catch(n){if(this._debug(r,"error",n),$(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ee()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Rr(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await fn(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Xo()}else if(a&&!a.user&&!a.user){const o=await Rr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Zt(this.storage,this.storageKey+"-user"),await fn(this.storage,this.storageKey,a)):a.user=Xo()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Go;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Go}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Jo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(a.access_token);!c&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ye;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new uo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ye;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(a,"error",i),$(i)){const o={data:null,error:i};return Jo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fn(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=Rh(a);await fn(this.storage,this.storageKey,i)}else{const a=Rh(r);await fn(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Zt(this.storage,this.storageKey),await Zt(this.storage,this.storageKey+"-code-verifier"),await Zt(this.storage,this.storageKey+"-user"),this.userStorage&&await Zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ee()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),hn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${hn}ms, refresh threshold is ${gc} ticks`),a<=gc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof P0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ee()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await on(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await B(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Lk(e.webauthn.credential_response):$k(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:l}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Dk(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Mk(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Yo(n.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await B(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ye})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ye});const o=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ee()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Ye});const o=await B(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ee()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await B(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ye})})}catch(e){if($(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await B(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new Ye})})}catch(r){if($(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(c=>c.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===e),n&&this.jwks_cached_at+Hw>a)return n;const{data:i,error:o}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(c=>c.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:g}=await this.getSession();if(g||!v.session)return this._returnResult({data:null,error:g});n=v.session.access_token}const{header:a,payload:i,signature:o,raw:{header:c,payload:l}}=Yo(n);r!=null&&r.allowExpired||mk(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:a,signature:o},error:null}}const d=pk(a.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,tk(`${c}.${l}`)))throw new yc("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if($(n))return this._returnResult({data:null,error:n});throw n}}}ea.nextInstanceID={};const Qk=ea;class Kk extends Qk{constructor(e){super(e)}}class Gk{constructor(e,r,n){var a,i,o;this.supabaseUrl=e,this.supabaseKey=r;const c=Fw(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:Ow,realtime:Dw,auth:Object.assign(Object.assign({},Iw),{storageKey:l}),global:Tw},d=Bw(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=$w(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Fb(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Pw(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new $b(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:c,lock:l,debug:u,throwOnError:d},h,f){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kk({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:c,lock:l,debug:u,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new sw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jk=(t,e,r)=>new Gk(t,e,r);function Yk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Yk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xk="https://kejkoohxxwuzmabawdmx.supabase.co",Zk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imtlamtvb2h4eHd1em1hYmF3ZG14Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg2ODg5MzIsImV4cCI6MjA3NDI2NDkzMn0.RBN3WwjpC29SVWq5eY-Ysj3j-ktk69MYfSFgchm5FBw",I=Jk(Xk,Zk,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),ej="x88-image-cache",tj=1,Vn="images",rj=7*24*60*60*1e3,ai=new Map;let za=null;const T0=()=>za||(za=new Promise((t,e)=>{const r=indexedDB.open(ej,tj);r.onerror=()=>e(r.error),r.onsuccess=()=>t(r.result),r.onupgradeneeded=n=>{const a=n.target.result;a.objectStoreNames.contains(Vn)||a.createObjectStore(Vn,{keyPath:"url"})}}),za),O0=t=>{let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);e=(e<<5)-e+n,e=e&e}return`img_${Math.abs(e)}`},nj=async t=>{try{const n=(await T0()).transaction(Vn,"readonly").objectStore(Vn),a=O0(t);return new Promise(i=>{const o=n.get(a);o.onsuccess=()=>{const c=o.result;c&&Date.now()-c.timestamp<rj?i(URL.createObjectURL(c.blob)):i(null)},o.onerror=()=>i(null)})}catch{return null}},sj=async(t,e)=>{try{const a=(await T0()).transaction(Vn,"readwrite").objectStore(Vn),o={url:O0(t),blob:e,timestamp:Date.now()};a.put(o)}catch(r){console.warn("Erro ao cachear imagem:",r)}},Ru=async t=>{if(!t)return"";const e=ai.get(t);if(e)return e;const r=await nj(t);if(r)return ai.set(t,r),r;try{const a=await(await fetch(t)).blob();await sj(t,a);const i=URL.createObjectURL(a);return ai.set(t,i),i}catch{return t}},I0=t=>ai.get(t)||null,D0=async t=>{await Promise.all(t.map(e=>Ru(e)))},M0=w.createContext(void 0),je=()=>{const t=w.useContext(M0);if(!t)throw new Error("useAuth deve ser usado dentro de AuthProvider");return t},aj=({children:t})=>{const[e,r]=w.useState(null),[n,a]=w.useState(!0),[i,o]=w.useState(!1);w.useEffect(()=>{i||(c(),o(!0));const{data:{subscription:m}}=I.auth.onAuthStateChange((p,x)=>{p==="SIGNED_OUT"?(r(null),a(!1)):x!=null&&x.user&&p==="SIGNED_IN"&&l(x.user.id).catch(k=>{console.error("Erro ao carregar dados no AuthStateChange:",k)})});return()=>m.unsubscribe()},[i]),w.useEffect(()=>{if(!e)return;const m=I.channel("status-check").on("postgres_changes",{event:"UPDATE",schema:"public",table:"colaboradores",filter:`usuario_id=eq.${e.id}`},async p=>{p.new.status==="inativo"&&(await h(),window.location.href="/auth/login")}).subscribe();return()=>{I.removeChannel(m)}},[e]);const c=async()=>{try{const m=new Promise((x,k)=>setTimeout(()=>k(new Error("Timeout")),1e4)),p=async()=>{const{data:{session:x}}=await I.auth.getSession();x!=null&&x.user&&await l(x.user.id)};await Promise.race([p(),m])}catch(m){console.error("Erro ao verificar usurio:",m)}finally{a(!1)}},l=async m=>{try{const{data:p,error:x}=await I.from("usuarios").select("*").eq("id",m).single();if(x)throw x;const{data:k,error:j}=await I.from("colaboradores").select("*").eq("usuario_id",m).single();if(j&&console.log("Usurio no  colaborador ou dados ainda no criados"),(k==null?void 0:k.status)==="inativo"){let _="Conta inativa. Entre em contato com o suporte.";try{const{data:S}=await I.from("configuracoes_globais").select("whatsapp_suporte").limit(1).maybeSingle();S!=null&&S.whatsapp_suporte&&(_+=`|WHATSAPP:${S.whatsapp_suporte}`)}catch(S){console.error("Erro ao buscar WhatsApp global:",S)}throw await I.auth.signOut(),r(null),new Error(_)}const N={id:p.id,name:p.nome,email:p.email,phone:p.telefone,nif:p.nif,interestRate:(k==null?void 0:k.taxa_juros)||10,status:(k==null?void 0:k.status)||"pendente",avatarUrl:p.foto_perfil||null,bankDetails:{iban:(k==null?void 0:k.iban)||"",bankHolderName:(k==null?void 0:k.nome_titular_banco)||p.nome,swiftBic:(k==null?void 0:k.swift_bic)||"",mbwayPhone:(k==null?void 0:k.telefone_mbway)||p.telefone,preferredMethod:(k==null?void 0:k.metodo_pagamento_preferido)||"mbway",wallet:(k==null?void 0:k.carteira_lightning)||""},preferences:p.preferencias||{notifications:{email:!0,push:!0,sms:!1,types:{approved:!0,rejected:!0,payment:!0,promotions:!1},sound:!0},security:{twoFactor:!1,biometrics:!0,loginNotify:!0}}};r(N)}catch(p){throw console.error("Erro ao carregar dados do usurio:",p),p}},u=async(m,p)=>{try{const{data:x,error:k}=await I.auth.signInWithPassword({email:m,password:p});return k?{success:!1,error:k.message}:x.user?(await l(x.user.id),I.from("banners").select("imagem_url").eq("ativo",!0).then(({data:j})=>{if(j){const N=j.map(_=>_.imagem_url).filter(Boolean);D0(N)}}),{success:!0}):{success:!1,error:"Usurio no encontrado"}}catch(x){return console.error("Erro no login:",x),{success:!1,error:x.message||"Erro ao fazer login"}}},d=async(m,p,x,k,j)=>{try{const{data:N,error:_}=await I.auth.signUp({email:p,password:j});if(_)return{success:!1,error:_.message};if(!N.user)return{success:!1,error:"Erro ao criar usurio"};const{error:S}=await I.from("usuarios").insert([{id:N.user.id,nome:m,email:p,telefone:x,nif:k,senha_hash:"gerenciado-pelo-supabase-auth",tipo_usuario:"colaborador",ativo:!0}]);if(S)return console.error("Erro ao criar registro na tabela usuarios:",S),await I.auth.signOut(),{success:!1,error:"Erro ao registrar dados do usurio"};const{error:P}=await I.from("colaboradores").insert([{usuario_id:N.user.id,status:"ativo",limite_total:1e3,limite_disponivel:1e3,taxa_juros:10,total_adiantamentos:0,data_registro:new Date().toISOString(),telefone_mbway:x,metodo_pagamento_preferido:"mbway"}]);return P&&console.error("Erro ao criar registro de colaborador:",P),await l(N.user.id),{success:!0}}catch(N){return console.error("Erro no registro:",N),{success:!1,error:"Erro ao registrar usurio"}}},h=async()=>{try{await I.auth.signOut(),r(null)}catch(m){console.error("Erro ao fazer logout:",m)}},f=async m=>{if(!e)return{success:!1,error:"Usurio no autenticado"};try{const{error:p}=await I.from("colaboradores").update({iban:m.iban,nome_titular_banco:m.bankHolderName,swift_bic:m.swiftBic,telefone_mbway:m.mbwayPhone,metodo_pagamento_preferido:m.preferredMethod,carteira_lightning:m.wallet}).eq("usuario_id",e.id);if(p)throw p;const x={...e,bankDetails:m};return r(x),{success:!0}}catch(p){return console.error("Erro ao atualizar dados bancrios:",p),{success:!1,error:p.message}}},v=async m=>{if(!e)return{success:!1,error:"Usurio no autenticado"};try{const p={};m.name&&(p.nome=m.name),m.email&&(p.email=m.email),m.phone&&(p.telefone=m.phone),m.nif&&(p.nif=m.nif);const{error:x}=await I.from("usuarios").update(p).eq("id",e.id);if(x)throw x;if(m.email&&m.email!==e.email){const{error:k}=await I.auth.updateUser({email:m.email});k&&console.error("Erro ao atualizar email de auth:",k)}return r({...e,...m}),{success:!0}}catch(p){return console.error("Erro ao atualizar dados pessoais:",p),{success:!1,error:p.message}}},g=async m=>{if(!e)return{success:!1,error:"Usurio no autenticado"};try{const p={...e.preferences,...m};m.notifications&&(p.notifications={...e.preferences.notifications,...m.notifications,types:{...e.preferences.notifications.types,...m.notifications.types||{}}}),m.security&&(p.security={...e.preferences.security,...m.security});const{error:x}=await I.from("usuarios").update({preferencias:p}).eq("id",e.id);if(x)throw x;return r({...e,preferences:p}),{success:!0}}catch(p){return console.error("Erro ao atualizar preferncias:",p),{success:!1,error:p.message}}},b=async m=>{try{const{error:p}=await I.auth.updateUser({password:m});if(p)throw p;return{success:!0}}catch(p){return console.error("Erro ao atualizar senha:",p),{success:!1,error:p.message}}},y=async m=>{if(!e)return{success:!1,error:"Usurio no autenticado"};try{if(await I.storage.from("avatars").remove([`${e.id}/avatar.jpg`,`${e.id}/avatar.png`,`${e.id}/avatar.jpeg`,`${e.id}/avatar.webp`]),!m){const{error:_}=await I.from("usuarios").update({foto_perfil:null}).eq("id",e.id);if(_)throw _;return r({...e,avatarUrl:void 0}),{success:!0}}const p=m.name.split(".").pop(),x=`${e.id}/avatar.${p}`,{error:k}=await I.storage.from("avatars").upload(x,m,{upsert:!0});if(k)throw k;const{data:{publicUrl:j}}=I.storage.from("avatars").getPublicUrl(x),{error:N}=await I.from("usuarios").update({foto_perfil:j}).eq("id",e.id);if(N)throw N;return r({...e,avatarUrl:j}),{success:!0,url:j}}catch(p){return console.error("Erro ao atualizar avatar:",p),{success:!1,error:p.message}}};return s.jsx(M0.Provider,{value:{user:e,isAuthenticated:!!e,isLoading:n,login:u,register:d,logout:h,updateBankDetails:f,updatePersonalData:v,updatePreferences:g,updatePassword:b,updateAvatar:y},children:t})},L0=w.createContext(void 0),ij=({children:t})=>{const[e,r]=w.useState([]),n=w.useCallback((i,o,c=5e3)=>{const l=Date.now().toString();r(u=>[...u,{id:l,message:i,type:o,duration:c}])},[]),a=w.useCallback(i=>{r(o=>o.filter(c=>c.id!==i))},[]);return s.jsx(L0.Provider,{value:{toasts:e,showToast:n,removeToast:a},children:t})},ha=()=>{const t=w.useContext(L0);if(!t)throw new Error("useToast deve ser usado dentro de ToastProvider");return t},$0=w.createContext(void 0),oj=({children:t})=>{const{user:e}=je(),{showToast:r}=ha(),[n,a]=w.useState([]);w.useEffect(()=>{if(e){i();const h=I.channel("notificacoes-changes").on("postgres_changes",{event:"*",schema:"public",table:"notificacoes",filter:`usuario_id=eq.${e.id}`},f=>{if(f.eventType==="INSERT"){const v=f.new,g=v.tipo==="warning"?"info":v.tipo;r(v.mensagem,g)}i()}).subscribe();return()=>{I.removeChannel(h)}}},[e]);const i=async()=>{if(e)try{const{data:h,error:f}=await I.from("notificacoes").select("*").eq("usuario_id",e.id).order("data_criacao",{ascending:!1});if(f){console.error("Erro ao carregar notificaes:",f);return}const v=(h||[]).map(g=>({id:g.id,title:g.titulo,message:g.mensagem,type:g.tipo,read:g.lida,timestamp:g.data_criacao,requestId:g.solicitacao_id}));a(v)}catch(h){console.error("Erro ao carregar notificaes:",h)}},o=async h=>{if(e)try{const{data:f,error:v}=await I.from("notificacoes").insert([{usuario_id:e.id,titulo:h.title,mensagem:h.message,tipo:h.type,solicitacao_id:h.requestId,lida:!1,data_criacao:new Date().toISOString()}]).select().single();if(v){console.error("Erro ao adicionar notificao:",v);return}const g={id:f.id,title:h.title,message:h.message,type:h.type,read:!1,timestamp:f.data_criacao,requestId:h.requestId};a(b=>[g,...b])}catch(f){console.error("Erro ao adicionar notificao:",f)}},c=async h=>{try{const{error:f}=await I.from("notificacoes").update({lida:!0}).eq("id",h);if(f){console.error("Erro ao marcar notificao como lida:",f);return}a(v=>v.map(g=>g.id===h?{...g,read:!0}:g))}catch(f){console.error("Erro ao marcar notificao como lida:",f)}},l=async()=>{if(e)try{const{error:h}=await I.from("notificacoes").update({lida:!0}).eq("usuario_id",e.id).eq("lida",!1);if(h){console.error("Erro ao marcar todas como lidas:",h);return}a(f=>f.map(v=>({...v,read:!0})))}catch(h){console.error("Erro ao marcar todas como lidas:",h)}},u=async()=>{if(e)try{const{error:h}=await I.from("notificacoes").delete().eq("usuario_id",e.id);if(h){console.error("Erro ao limpar notificaes:",h);return}a([])}catch(h){console.error("Erro ao limpar notificaes:",h)}},d=n.filter(h=>!h.read).length;return s.jsx($0.Provider,{value:{notifications:n,unreadCount:d,addNotification:o,markAsRead:c,markAllAsRead:l,clearAll:u},children:t})},ns=()=>{const t=w.useContext($0);if(!t)throw new Error("useNotifications must be used within NotificationsProvider");return t},U0=w.createContext(void 0),lj=t=>{const e=t.toLowerCase();return e==="pendente"?"pending":e==="aprovado"?"approved":e==="pago"?"paid":e==="rejeitado"?"rejected":e==="cancelado"?"canceled":e==="processando"?"processing":e==="verificando"?"verifying":e},cj=t=>t==="pending"?"pendente":t==="approved"?"aprovado":t==="paid"?"pago":t==="rejected"?"rejeitado":t==="canceled"?"cancelado":t==="processing"?"processando":t==="verifying"?"verificando":t;function uj({children:t}){ns();const{user:e}=je(),[r,n]=w.useState([]),[a,i]=w.useState(!0),[o,c]=w.useState(!1),{data:l=[],isLoading:u,refetch:d}=Ab(["banners"],async()=>{console.log("Buscando banners do Supabase...");const{data:m,error:p}=await I.from("banners").select("*").eq("ativo",!0).eq("tipo","carousel").order("ordem",{ascending:!0});if(p)throw console.error("Erro ao buscar banners:",p),p;return console.log("Banners encontrados:",(m==null?void 0:m.length)||0),m&&m.length>0&&m.forEach(x=>{if(x.imagem_url){const k=new Image;k.src=x.imagem_url}}),m},{staleTime:0,cacheTime:1e3*60*5,refetchOnWindowFocus:!0,refetchOnMount:"always",retry:3,retryDelay:1e3});w.useEffect(()=>{e&&d()},[e,d]),w.useEffect(()=>{const m=I.channel("banners-carousel-changes").on("postgres_changes",{event:"*",schema:"public",table:"banners"},()=>{console.log("Mudana detectada nos banners carousel - atualizando..."),d()}).subscribe();return()=>{I.removeChannel(m)}},[d]),w.useEffect(()=>{if(e){o||i(!0),h().finally(()=>{i(!1),c(!0)});const m=I.channel("solicitacoes-changes").on("postgres_changes",{event:"*",schema:"public",table:"solicitacoes"},()=>{h()}).subscribe();return()=>{I.removeChannel(m)}}},[e]);const h=async()=>{if(e)try{const{data:m}=await I.from("colaboradores").select("id").eq("usuario_id",e.id).single();if(!m)return;const{data:p,error:x}=await I.from("solicitacoes").select("*").eq("colaborador_id",m.id).order("data_solicitacao",{ascending:!1});if(x){console.error("Erro ao carregar solicitaes:",x);return}const k=(p||[]).map(j=>({id:j.id,amount:Number(j.valor_solicitado),paymentMethod:j.metodo_pagamento,status:lj(j.status),date:j.data_solicitacao,netAmount:Number(j.valor_liquido),accountDetails:j.detalhes_conta||j.iban_pagamento||j.mbway_pagamento,createdAt:new Date(j.data_solicitacao).getTime(),progressStep:j.etapa_progresso,currency:j.moeda,lightningAddress:j.lightning_address,paymentDate:j.data_pagamento,descontado:j.descontado||!1,dataDesconto:j.data_desconto}));n(k)}catch(m){console.error("Erro ao carregar solicitaes:",m)}},f=async m=>{if(!e)return null;try{const{data:p}=await I.from("colaboradores").select("id, taxa_juros").eq("usuario_id",e.id).single();if(!p)return null;const x=p.taxa_juros||10,k=m.amount*x/100,j=m.amount+k,{data:N,error:_}=await I.from("solicitacoes").insert([{colaborador_id:p.id,valor_solicitado:m.amount,valor_liquido:j,moeda:m.currency||"EUR",metodo_pagamento:m.paymentMethod,detalhes_conta:m.accountDetails,iban_pagamento:m.paymentMethod==="iban"?m.accountDetails:null,mbway_pagamento:m.paymentMethod==="mbway"?m.accountDetails:null,lightning_address:m.lightningAddress,status:m.status==="verifying"?"verificando":"pendente",etapa_progresso:0,taxa_juros_aplicada:x,valor_juros:k,data_solicitacao:new Date().toISOString()}]).select().single();if(_)return console.error("Erro ao criar solicitao:",_),null;const S={id:N.id,amount:m.amount,paymentMethod:m.paymentMethod,status:m.status||"pending",date:N.data_solicitacao,netAmount:j,accountDetails:m.accountDetails,createdAt:new Date(N.data_solicitacao).getTime(),progressStep:0,currency:m.currency,lightningAddress:m.lightningAddress,paymentDate:void 0};return n(P=>[S,...P]),S}catch(p){return console.error("Erro ao adicionar solicitao:",p),null}},v=m=>r.find(p=>p.id===m),g=()=>r.filter(m=>m.status==="pending"||m.status==="processing"||m.status==="verifying"),b=()=>r.filter(m=>m.status==="approved"||m.status==="paid"),y=async(m,p)=>{n(x=>x.map(k=>k.id===m?{...k,...p}:k));try{const x={};if(p.status&&(x.status=cj(p.status)),Object.keys(x).length>0){const{error:k}=await I.from("solicitacoes").update(x).eq("id",m);k&&(console.error("Erro ao atualizar solicitao:",k),h())}}catch(x){console.error("Erro na atualizao:",x),h()}};return s.jsx(U0.Provider,{value:{requests:r,banners:l,isLoadingBanners:u,isLoadingRequests:a,addRequest:f,getRequestById:v,getPendingRequests:g,getApprovedRequests:b,updateRequest:y},children:t})}function It(){const t=w.useContext(U0);if(t===void 0)throw new Error("useRequests deve ser usado dentro de um RequestsProvider");return t}const dj={"pt-BR":{"menu.home":"Incio","menu.carteira":"Histrico","menu.solicitar":"Solicitar","menu.nova":"Novo","menu.solicitacoes":"Solicitaes","menu.historico":"Histrico","menu.perfil":"Perfil","home.ola":"Ol","home.saldo_disponivel":"Resumo Disponvel","home.limite_disponivel":"Limite Disponvel","home.solicitar_adiantamento":"Solicitar Adiantamento","home.novo_adiantamento":"Novo Adiantamento","home.solicite_rapido":"Solicite rapidamente","home.receber_satoshi":"Receber Satoshi","home.qr_code":"QR Code Lightning","home.ultimas_solicitacoes":"ltimas Solicitaes","home.ver_todas":"Ver todas","home.nenhuma_solicitacao":"Nenhuma solicitao recente","solicitar.titulo":"Solicitar Adiantamento","solicitar.quanto":"Qual valor voc deseja solicitar?","solicitar.valor_maximo":"Valor mximo disponvel","solicitar.taxa":"Taxa de servio","solicitar.receber":"Voc recebe","solicitar.metodo":"Onde voc quer receber?","solicitar.selecione_metodo":"Selecione o mtodo de recebimento","solicitar.confirmar":"Confirmar Solicitao","solicitar.sucesso":"Solicitao realizada com sucesso!","carteira.titulo":"Meu Histrico","carteira.saldo_euro":"Total em Euro","carteira.saldo_btc":"Saldo em Bitcoin","historico.titulo":"Histrico de Solicitaes","historico.filtrar":"Filtrar","historico.todos":"Todos","historico.pendentes":"Pendentes","historico.pagos":"Pagos","historico.rejeitados":"Rejeitados","perfil.titulo":"Meu Perfil","perfil.dados_pessoais":"Dados Pessoais","perfil.nome":"Nome Completo","perfil.email":"E-mail","perfil.telefone":"Telefone","perfil.salvar":"Salvar Alteraes","perfil.configuracoes":"Configuraes","perfil.idioma":"Idioma","perfil.sair":"Sair do App","perfil.editar":"Editar Perfil","geral.voltar":"Voltar","geral.confirmar":"Confirmar","geral.cancelar":"Cancelar","geral.pendente":"Pendente","geral.aprovado":"Aprovado","geral.pago":"Pago","geral.rejeitado":"Rejeitado","chat.titulo":"X88 IA","chat.placeholder":"Digite sua mensagem...","chat.limpar":"Limpar conversa","chat.digitando":"Digitando..."},"pt-PT":{"menu.home":"Incio","menu.carteira":"Histrico","menu.solicitar":"Pedir","menu.nova":"Novo","menu.solicitacoes":"Pedidos","menu.historico":"Histrico","menu.perfil":"Perfil","home.ola":"Ol","home.saldo_disponivel":"Resumo Disponvel","home.limite_disponivel":"Limite Disponvel","home.solicitar_adiantamento":"Pedir Adiantamento","home.novo_adiantamento":"Novo Adiantamento","home.solicite_rapido":"Pea rapidamente","home.receber_satoshi":"Receber Satoshi","home.qr_code":"QR Code Lightning","home.ultimas_solicitacoes":"ltimos Pedidos","home.ver_todas":"Ver todos","home.nenhuma_solicitacao":"Nenhum pedido recente","solicitar.titulo":"Pedir Adiantamento","solicitar.quanto":"Quanto quer adiantar?","solicitar.valor_maximo":"Valor mximo disponvel","solicitar.taxa":"Taxa de servio","solicitar.receber":"Voc recebe","solicitar.metodo":"Onde quer receber?","solicitar.selecione_metodo":"Selecione o mtodo de recebimento","solicitar.confirmar":"Confirmar Pedido","solicitar.sucesso":"Pedido realizado com sucesso!","carteira.titulo":"A Minha Carteira","carteira.saldo_euro":"Saldo em Euro","carteira.saldo_btc":"Saldo em Bitcoin","historico.titulo":"Histrico de Pedidos","historico.filtrar":"Filtrar","historico.todos":"Todos","historico.pendentes":"Pendentes","historico.pagos":"Pagos","historico.rejeitados":"Rejeitados","perfil.titulo":"O Meu Perfil","perfil.dados_pessoais":"Dados Pessoais","perfil.nome":"Nome Completo","perfil.email":"E-mail","perfil.telefone":"Telemvel","perfil.salvar":"Guardar Alteraes","perfil.configuracoes":"Definies","perfil.idioma":"Idioma","perfil.sair":"Sair da App","perfil.editar":"Editar Perfil","geral.voltar":"Voltar","geral.confirmar":"Confirmar","geral.cancelar":"Cancelar","geral.pendente":"Pendente","geral.aprovado":"Aprovado","geral.pago":"Pago","geral.rejeitado":"Rejeitado","chat.titulo":"X88 IA","chat.placeholder":"Escreva a sua mensagem...","chat.limpar":"Limpar conversa","chat.digitando":"A escrever..."}},B0=w.createContext(void 0),Ne=()=>{const t=w.useContext(B0);if(!t)throw new Error("useLanguage deve ser usado dentro de LanguageProvider");return t},hj=({children:t})=>{const[e,r]=w.useState("pt-PT"),[n,a]=w.useState("Europe/Lisbon");w.useEffect(()=>{const v=localStorage.getItem("app_language");v&&(v==="pt-BR"||v==="pt-PT")&&i(v)},[]);const i=v=>{r(v),localStorage.setItem("app_language",v),v==="pt-BR"?a("America/Sao_Paulo"):v==="pt-PT"&&a("Europe/Lisbon")},o=v=>dj[e][v]||v,c=(v,g)=>{const b=new Date(v),y={timeZone:n,...g};return new Intl.DateTimeFormat(e,y).format(b)},l=v=>c(v,{hour:"2-digit",minute:"2-digit"}),u=v=>c(v,{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),d=e==="pt-BR"?"R$":"",h=v=>{const g=typeof v=="string"?parseFloat(v):v;return isNaN(g)?`${d}0${e==="pt-BR"?",":"."}00`:e==="pt-BR"?`R$ ${g.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:`${g.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`},f=v=>{if(e!=="pt-BR")return v;let g=v;return g=g.replace(/\s?(\d+[.,]?\d*)/g,(b,y)=>{const m=parseFloat(y.replace(",","."));return isNaN(m)?b:`R$ ${m.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`}),g=g.replace(/MB\s?Way/gi,"PIX"),g=g.replace(/IBAN/g,"Conta Bancria"),g};return s.jsx(B0.Provider,{value:{language:e,timezone:n,setLanguage:i,formatDate:c,formatTime:l,formatDateTime:u,formatCurrency:h,formatMessage:f,currencySymbol:d,t:o},children:t})},F0=w.createContext(void 0),fj=({children:t})=>{const[e,r]=w.useState(!1);return s.jsx(F0.Provider,{value:{hideBottomNav:e,setHideBottomNav:r},children:t})},z0=()=>{const t=w.useContext(F0);if(!t)throw new Error("useUI must be used within UIProvider");return t};var mj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const pj=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gj=(t,e)=>{const r=w.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:c,...l},u)=>w.createElement("svg",{ref:u,...mj,width:a,height:a,stroke:n,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${pj(t)}`,...l},[...e.map(([d,h])=>w.createElement(d,h)),...(Array.isArray(c)?c:[c])||[]]));return r.displayName=`${t}`,r};var L=gj;const Vr=L("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Au=L("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),xj=L("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),De=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),q0=L("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),vj=L("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),yj=L("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),bj=L("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Jr=L("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Wn=L("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),el=L("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ue=L("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),ta=L("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),wj=L("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),V0=L("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ra=L("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ot=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),kj=L("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Qt=L("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),W0=L("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),wr=L("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]),ho=L("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Ft=L("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),zt=L("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),fo=L("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),jj=L("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),H0=L("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Nj=L("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),_j=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Q0=L("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Sj=L("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Ej=L("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Yr=L("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),K0=L("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),fa=L("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Cj=L("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Tu=L("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Pj=L("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),Ou=L("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Rj=L("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Fi=L("Rss",[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]),G0=L("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Aj=L("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),J0=L("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),In=L("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),mo=L("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Tj=L("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Iu=L("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Oj=L("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),na=L("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),po=L("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ij=L("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Dj=L("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),ma=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Mj=L("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Lj=L("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),Hn=L("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),he=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zi=L("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Y0=({isOpen:t,onClose:e,bellPosition:r})=>{const{notifications:n,unreadCount:a,markAsRead:i,markAllAsRead:o,clearAll:c}=ns(),{formatDate:l,formatMessage:u}=Ne(),[d,h]=w.useState(!1),[f,v]=w.useState(!1);if(w.useEffect(()=>{let m;return t?(v(!0),m=setTimeout(()=>h(!0),50)):(h(!1),m=setTimeout(()=>v(!1),700)),()=>{m&&clearTimeout(m)}},[t]),!f)return null;const g=m=>{switch(m){case"success":return s.jsx(Ue,{className:"w-5 h-5 text-[#00d749]"});case"error":return s.jsx(Vr,{className:"w-5 h-5 text-red-600"});case"warning":return s.jsx(Vr,{className:"w-5 h-5 text-amber-500"});default:return s.jsx(Ej,{className:"w-5 h-5 text-blue-500"})}},b=m=>{const p=new Date(m),k=new Date().getTime()-p.getTime(),j=Math.floor(k/6e4),N=Math.floor(k/36e5),_=Math.floor(k/864e5);return j<1?"Agora mesmo":j<60?`H ${j} min`:N<24?`H ${N}h`:_===1?"Ontem":l(p,{day:"2-digit",month:"2-digit"})},y=s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998] transition-opacity duration-700 ${d?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),s.jsxs("div",{style:{transformOrigin:d?"center top":`${r.x}px ${r.y}px`},className:`fixed top-20 left-1/2 -translate-x-1/2 w-[420px] max-w-[90vw] max-h-[70vh] bg-white dark:bg-neutral-900 shadow-2xl rounded-2xl z-[9999] flex flex-col transition-all duration-700 ease-in-out ${d?"opacity-100 scale-100":"opacity-0 scale-0 pointer-events-none"}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jr,{className:"w-5 h-5 text-[#00d749]"}),s.jsx("h2",{className:"text-lg font-bold text-black dark:text-white",children:"Notificaes"}),a>0&&s.jsx("span",{className:"bg-[#00d749] text-white text-xs font-bold px-2 py-0.5 rounded-full",children:a})]}),s.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:s.jsx(he,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})})]}),n.length>0&&s.jsxs("div",{className:"flex gap-2 p-3 border-b border-neutral-200 dark:border-neutral-800",children:[a>0&&s.jsx("button",{onClick:o,className:"text-xs text-[#00d749] font-medium hover:underline",children:"Marcar todas como lidas"}),s.jsxs("button",{onClick:c,className:"text-xs text-red-600 font-medium hover:underline ml-auto flex items-center gap-1",children:[s.jsx(na,{className:"w-3 h-3"}),"Limpar tudo"]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:n.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[s.jsx(Jr,{className:"w-16 h-16 text-neutral-300 dark:text-neutral-700 mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-2",children:"Nenhuma notificao"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Voc no tem notificaes no momento"})]}):s.jsx("div",{className:"p-3 space-y-3",children:n.map(m=>s.jsx("div",{onClick:()=>i(m.id),className:`rounded-xl border-2 p-4 cursor-pointer transition-all ${m.read?"bg-white dark:bg-neutral-900 border-neutral-200 dark:border-neutral-800":"bg-[#00d749]/5 dark:bg-[#00d749]/10 border-[#00d749]/30 hover:border-[#00d749]/50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:g(m.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2 mb-2",children:[s.jsx("h4",{className:"font-bold text-black dark:text-white text-base",children:m.title}),!m.read&&s.jsx("div",{className:"w-2.5 h-2.5 bg-[#00d749] rounded-full flex-shrink-0 animate-pulse"})]}),s.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 leading-relaxed mb-3",children:u(m.message)}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 h-px bg-neutral-200 dark:bg-neutral-800"}),s.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500 font-medium",children:b(m.timestamp)}),s.jsx("div",{className:"flex-1 h-px bg-neutral-200 dark:bg-neutral-800"})]})]})]})},m.id))})})]})]});return Nt.createPortal(y,document.body)},X0=({isOpen:t,onClose:e,buttonPosition:r})=>{const[n,a]=w.useState(!1),[i,o]=w.useState(!1),[c,l]=w.useState([]),[u,d]=w.useState(!0),[h,f]=w.useState(null);w.useEffect(()=>{let m;return t?(o(!0),g(),v(),m=setTimeout(()=>a(!0),50)):(a(!1),m=setTimeout(()=>o(!1),700)),()=>{m&&clearTimeout(m)}},[t]),w.useEffect(()=>{const m=I.channel("feed-cards-changes").on("postgres_changes",{event:"*",schema:"public",table:"banners"},()=>{console.log("Mudana detectada nos cards do feed - atualizando..."),g()}).subscribe();return()=>{I.removeChannel(m)}},[]);const v=async()=>{try{const{data:m}=await I.from("configuracoes_globais").select("whatsapp_suporte").limit(1).maybeSingle();m!=null&&m.whatsapp_suporte&&f(m.whatsapp_suporte)}catch(m){console.error("Erro ao buscar WhatsApp global:",m)}},g=async()=>{d(!0);try{const{data:m,error:p}=await I.from("banners").select("*").eq("ativo",!0).eq("tipo","popup").order("ordem",{ascending:!0});if(p)throw p;l(m||[])}catch(m){console.error("Erro ao buscar cards:",m)}finally{d(!1)}},b=m=>{if(m.usar_whatsapp&&h){const p=h.replace(/\D/g,"");window.open(`https://wa.me/${p}`,"_blank")}else m.link_botao&&window.open(m.link_botao,"_blank")};if(!i)return null;const y=s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 bg-black/50 backdrop-blur-sm z-[9998] transition-opacity duration-700 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:e}),s.jsxs("div",{style:{transformOrigin:n?"center top":`${r.x}px ${r.y}px`},className:`fixed inset-x-0 top-0 bottom-0 z-[9999] bg-white dark:bg-neutral-900 flex flex-col transition-all duration-700 ease-out ${n?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-50 -translate-y-full"}`,children:[s.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between px-4 py-4 border-b border-neutral-200 dark:border-neutral-800",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fi,{className:"w-5 h-5 text-[#00d749]"}),s.jsx("h2",{className:"text-lg font-bold text-black dark:text-white",children:"Feed"})]}),s.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:s.jsx(he,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx("div",{className:"w-8 h-8 border-3 border-[#00d749] border-t-transparent rounded-full animate-spin"})}):c.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-6 py-12",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center mb-4",children:s.jsx(Fi,{className:"w-10 h-10 text-neutral-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-neutral-800 dark:text-neutral-200 mb-2",children:"Nenhuma novidade"}),s.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"No h anncios ou novidades no momento. Volte mais tarde!"})]}):s.jsx("div",{className:"space-y-4",children:c.map(m=>s.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl overflow-hidden shadow-md border border-neutral-200 dark:border-neutral-700",children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:m.imagem_url,alt:m.titulo,className:"w-full h-auto object-contain",loading:"lazy"})}),(m.titulo||m.nome_botao)&&s.jsxs("div",{className:"p-4",children:[m.titulo&&s.jsx("h3",{className:"font-semibold text-black dark:text-white mb-3",children:m.titulo}),m.nome_botao&&s.jsxs("button",{onClick:()=>b(m),className:"w-full py-3 px-4 bg-[#0FB841] hover:bg-[#0da838] text-white font-semibold rounded-xl flex items-center justify-center gap-2 transition-all",children:[m.usar_whatsapp?s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WhatsApp",className:"w-5 h-5"}):s.jsx(ho,{className:"w-5 h-5"}),m.nome_botao]})]})]},m.id))})})]})]});return Nt.createPortal(y,document.body)},$j=()=>{const[t,e]=w.useState(()=>{const E=localStorage.getItem("darkMode");return E!==null?E==="true":document.documentElement.classList.contains("dark")}),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[o,c]=w.useState(!1),[l,u]=w.useState({x:0,y:0}),[d,h]=w.useState({x:0,y:0}),[f,v]=w.useState(!1),g=w.useRef(null),b=w.useRef(null),{unreadCount:y,markAllAsRead:m}=ns(),x=Jt().pathname==="/";w.useEffect(()=>{if(g.current){const E=g.current.getBoundingClientRect();u({x:E.left+E.width/2,y:E.top+E.height/2})}if(b.current){const E=b.current.getBoundingClientRect();h({x:E.left+E.width/2,y:E.top+E.height/2})}},[]),w.useEffect(()=>{if(!x){v(!1);return}let E=!1;const R=()=>{E||(window.requestAnimationFrame(()=>{const q=document.getElementById("root"),ie=(q==null?void 0:q.scrollTop)||0;console.log("SCROLL DETECTADO:",ie,"isScrolled ser:",ie>0),v(ie>0),E=!1}),E=!0)},T=document.getElementById("root");if(console.log("Root element encontrado:",!!T),T)return T.addEventListener("scroll",R,{passive:!0}),R(),()=>{T.removeEventListener("scroll",R)}},[x]),w.useEffect(()=>{c(!0);const E=setTimeout(()=>c(!1),500);let R;if(r){if(g.current){const T=g.current.getBoundingClientRect();u({x:T.left+T.width/2,y:T.top+T.height/2})}y>0&&(R=setTimeout(()=>m(),800))}return()=>{clearTimeout(E),R&&clearTimeout(R)}},[r,y,m]),w.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const k=()=>{const E=!t;e(E),localStorage.setItem("darkMode",String(E)),E?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[j,N]=w.useState(!1);w.useEffect(()=>{const E=()=>{const T=document.body.classList.contains("header-icons-dark");N(T)};E();const R=new MutationObserver(E);return R.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>R.disconnect()},[]);const _=x,S=j?"text-black dark:text-black":"text-white",P=j?"w-9 h-9 rounded-full bg-black/10 dark:bg-black/20 flex items-center justify-center hover:bg-black/20 dark:hover:bg-black/30 transition-colors":"p-2 rounded-lg hover:bg-white/20 transition-colors";return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:`absolute top-0 left-0 right-0 z-50 ${_?"":"pointer-events-none"}`,children:s.jsx("div",{style:{paddingTop:56},className:`pl-2 pr-4 py-1 flex items-center justify-end ${j?"pr-6":""}`,children:s.jsxs("div",{className:`flex items-center gap-2 ${_?"":"opacity-0 pointer-events-none"}`,children:[s.jsx("button",{ref:b,onClick:()=>i(!a),className:P,"aria-label":"Feed",children:s.jsx(Fi,{className:`w-5 h-5 ${S}`})}),s.jsx("button",{onClick:k,className:P,"aria-label":"Toggle dark mode",children:t?s.jsx(Iu,{className:`w-5 h-5 ${S}`}):s.jsx(Tu,{className:`w-5 h-5 ${S}`})}),s.jsxs("button",{ref:g,onClick:()=>n(!r),className:`${P} relative`,"aria-label":"Notificaes",children:[s.jsx(Jr,{className:`w-5 h-5 transition-all ${S} ${o?"animate-bell-ring":""} ${y>0&&!j?"fill-white":""} ${y>0&&j?"fill-black dark:fill-black":""}`}),y>0&&s.jsx("span",{className:"absolute -top-1 -right-1 min-w-[20px] h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center px-1.5 animate-pulse",children:y>99?"99+":y})]})]})})}),s.jsx(Y0,{isOpen:r,onClose:()=>n(!1),bellPosition:l}),s.jsx(X0,{isOpen:a,onClose:()=>i(!1),buttonPosition:d})]})};function Uj(t=new Date){const e=new Date(t),r=e.getDay(),n=r===0?1:r===1?7:8-r;return e.setDate(e.getDate()+n),e.setHours(0,0,0,0),e}function pa(t=new Date,e="pt-PT"){const r=Uj(t),n=r.toLocaleDateString(e,{day:"2-digit",month:"2-digit",year:"numeric"}),a=r.toLocaleDateString(e,{weekday:"long"}),i=a.charAt(0).toUpperCase()+a.slice(1);return`${n} (${i})`}const Z0=({isOpen:t,onClose:e})=>{const{addRequest:r}=It(),{addNotification:n}=ns(),{user:a}=je(),{currencySymbol:i,language:o,formatCurrency:c}=Ne(),l=o==="pt-BR",u=(a==null?void 0:a.interestRate)||10,d=u/100,h=1+d,[f,v]=w.useState(1),[g,b]=w.useState({amount:"",payoutMethod:"MBWAY",satoshiAmount:""}),[y,m]=w.useState(""),[p,x]=w.useState(!1),[k,j]=w.useState(!1),[N,_]=w.useState(""),[S,P]=w.useState(""),[E,R]=w.useState(""),[T,q]=w.useState(!1);if(w.useEffect(()=>{var H;if(t){if(j(!0),a!=null&&a.bankDetails&&(P(a.bankDetails.mbwayPhone||""),R(a.bankDetails.iban||""),a.bankDetails.wallet&&_(a.bankDetails.wallet),a.bankDetails.preferredMethod)){const ne=a.bankDetails.preferredMethod.toUpperCase();["MBWAY","IBAN","SATOSHI"].includes(ne)&&b(Ge=>({...Ge,payoutMethod:ne}))}const J=localStorage.getItem("lightningAddress");if(J&&!((H=a==null?void 0:a.bankDetails)!=null&&H.wallet)&&_(J),!(a!=null&&a.bankDetails)){const ne=localStorage.getItem("bankDetails");if(ne)try{const Ge=JSON.parse(ne);P(Ge.mbwayPhone||""),R(Ge.iban||"")}catch(Ge){console.error("Erro ao carregar dados bancrios:",Ge)}}}},[t,a]),!t)return null;const ie=H=>{const J=H.replace(/\D/g,"");if(!J)return"";const Ge=parseInt(J)/100;return o==="pt-BR"?Ge.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):Ge.toFixed(2)},ye=H=>H?parseFloat(o==="pt-BR"?H.replace(/\./g,"").replace(",","."):H):0,F=H=>{const J=H.target.value,ne=ie(J);m(ne),b({...g,amount:ne})},Y=H=>{if(H.preventDefault(),f<2)v(f+1);else{const J=g.payoutMethod==="SATOSHI",ne=J?parseInt(g.satoshiAmount):ye(g.amount),Ge=ne*h;let tn=g.payoutMethod;g.payoutMethod==="MBWAY"?tn=S:g.payoutMethod==="IBAN"?tn=E:J&&(tn=N),r({amount:ne,paymentMethod:g.payoutMethod.toLowerCase(),status:"pending",date:new Date().toISOString(),netAmount:Ge,accountDetails:tn,currency:J?"SATS":"EUR",lightningAddress:J?N:void 0}),n({title:"Solicitao Enviada",message:J?`Sua solicitao de ${ne} sats foi enviada com sucesso.`:`Sua solicitao de ${c(ne)} foi enviada com sucesso.`,type:"info"}),O()}},O=()=>{v(1),b({amount:"",payoutMethod:"MBWAY",satoshiAmount:""}),m(""),x(!1),e()},U=()=>g.amount&&ye(g.amount)>0,z=H=>H==="SATOSHI"?s.jsx("img",{src:"/logos/BITCOIN.png",alt:"BTC",className:"w-5 h-5"}):H==="MBWAY"?s.jsx(In,{className:"w-5 h-5 text-[#00d749]"}):s.jsx(Qt,{className:"w-5 h-5 text-[#00d749]"}),K=H=>H==="SATOSHI"?"Lightning":H==="MBWAY"?l?"PIX":"MB Way":l?"Conta":"IBAN",re=H=>H==="SATOSHI"?N:H==="MBWAY"?S:E,Yt=s.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 transition-opacity duration-300 ${k?"opacity-100":"opacity-0"}`,onClick:O,children:s.jsxs("div",{className:`bg-white dark:bg-neutral-900 w-full max-w-md rounded-2xl shadow-2xl transition-all duration-300 ${k?"scale-100 opacity-100":"scale-95 opacity-0"}`,onClick:H=>H.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-100 dark:border-neutral-800",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-[#00d749]/10 flex items-center justify-center",children:s.jsx(wr,{className:"w-5 h-5 text-[#00d749]"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-black dark:text-white",children:f===1?"Novo Adiantamento":"Confirmar"}),s.jsxs("p",{className:"text-xs text-neutral-500",children:[f,"/2"]})]})]}),s.jsx("button",{onClick:O,className:"p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800",children:s.jsx(he,{className:"w-5 h-5 text-neutral-400"})})]}),s.jsxs("form",{onSubmit:Y,children:[f===1&&s.jsxs("div",{className:"p-4 space-y-4",children:[g.payoutMethod==="SATOSHI"?s.jsxs("div",{className:"bg-[#f7931a]/5 border-2 border-[#f7931a]/30 rounded-2xl p-4",children:[s.jsxs("label",{className:"text-xs font-medium text-[#f7931a] uppercase tracking-wider flex items-center gap-2",children:[s.jsx("img",{src:"/logos/BITCOIN.png",alt:"BTC",className:"w-4 h-4"}),"Quantidade de Satoshi"]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-3xl font-bold text-[#f7931a]",children:""}),s.jsx("input",{type:"text",inputMode:"numeric",value:g.satoshiAmount,onChange:H=>{const J=H.target.value.replace(/\D/g,""),ne=(parseInt(J||"0")*3e-5).toFixed(2);b({...g,satoshiAmount:J,amount:ne}),m(ne)},className:"flex-1 text-3xl font-bold bg-transparent border-none outline-none text-[#f7931a] placeholder-[#f7931a]/40",placeholder:"0",autoFocus:!0}),s.jsx("span",{className:"text-lg text-[#f7931a]/60",children:"sats"})]}),g.satoshiAmount&&s.jsxs("p",{className:"text-xs text-[#f7931a]/70 mt-2",children:["A descontar: ",s.jsxs("span",{className:"font-semibold text-[#f7931a]",children:[Math.round(parseInt(g.satoshiAmount)*h)," sats"]}),s.jsxs("span",{className:"text-[#f7931a]/50",children:[" (",u,"% taxa)"]})]})]}):s.jsxs("div",{className:"bg-[#00d749]/5 border-2 border-[#00d749]/20 rounded-2xl p-4",children:[s.jsx("label",{className:"text-xs font-medium text-[#00d749] uppercase tracking-wider",children:"Valor do Adiantamento"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("span",{className:"text-3xl font-bold text-[#00d749]",children:i}),s.jsx("input",{type:"text",inputMode:"numeric",value:y,onChange:F,className:"flex-1 text-3xl font-bold bg-transparent border-none outline-none text-[#00d749] placeholder-[#00d749]/30",placeholder:"0,00",autoFocus:!0})]}),g.amount&&s.jsxs("p",{className:"text-xs text-[#00d749]/70 mt-2",children:["A descontar: ",s.jsx("span",{className:"font-semibold text-amber-600",children:c(ye(g.amount)*h)}),s.jsxs("span",{className:"text-[#00d749]/50",children:[" (",u,"% taxa)"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-medium text-neutral-500 uppercase tracking-wider mb-2 block",children:"Receber via"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>S&&b({...g,payoutMethod:"MBWAY"}),disabled:!S,className:`p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${S?g.payoutMethod==="MBWAY"?"border-[#00d749] bg-[#00d749]/5":"border-neutral-200 dark:border-neutral-700":"border-neutral-100 dark:border-neutral-800 opacity-40"}`,children:[s.jsx(In,{className:`w-5 h-5 ${g.payoutMethod==="MBWAY"?"text-[#00d749]":"text-neutral-400"}`}),s.jsx("span",{className:`text-xs font-medium ${g.payoutMethod==="MBWAY"?"text-[#00d749]":"text-neutral-600 dark:text-neutral-400"}`,children:l?"PIX":"MB Way"})]}),s.jsxs("button",{type:"button",onClick:()=>E&&b({...g,payoutMethod:"IBAN"}),disabled:!E,className:`p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${E?g.payoutMethod==="IBAN"?"border-[#00d749] bg-[#00d749]/5":"border-neutral-200 dark:border-neutral-700":"border-neutral-100 dark:border-neutral-800 opacity-40"}`,children:[s.jsx(Qt,{className:`w-5 h-5 ${g.payoutMethod==="IBAN"?"text-[#00d749]":"text-neutral-400"}`}),s.jsx("span",{className:`text-xs font-medium ${g.payoutMethod==="IBAN"?"text-[#00d749]":"text-neutral-600 dark:text-neutral-400"}`,children:l?"Conta":"IBAN"})]}),s.jsxs("button",{type:"button",onClick:()=>N&&b({...g,payoutMethod:"SATOSHI"}),disabled:!N,className:`p-3 rounded-xl border-2 transition-all flex flex-col items-center gap-1 ${N?g.payoutMethod==="SATOSHI"?"border-[#f7931a] bg-[#f7931a]/5":"border-neutral-200 dark:border-neutral-700":"border-neutral-100 dark:border-neutral-800 opacity-40"}`,children:[s.jsx("img",{src:"/logos/BITCOIN.png",alt:"BTC",className:`w-5 h-5 ${N?"":"opacity-40"}`}),s.jsx("span",{className:`text-xs font-medium ${g.payoutMethod==="SATOSHI"?"text-[#f7931a]":"text-neutral-600 dark:text-neutral-400"}`,children:"Bitcoin"})]})]}),re(g.payoutMethod)&&s.jsx("p",{className:"text-xs text-neutral-500 mt-2 text-center truncate",children:re(g.payoutMethod)})]})]}),f===2&&s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsxs("div",{className:`rounded-xl p-4 flex justify-between items-center ${g.payoutMethod==="SATOSHI"?"bg-[#f7931a]/5":"bg-[#00d749]/5"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-xs font-medium ${g.payoutMethod==="SATOSHI"?"text-[#f7931a]":"text-[#00d749]"}`,children:"Voc receber"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[z(g.payoutMethod),s.jsx("span",{className:"text-xs text-neutral-500",children:K(g.payoutMethod)})]})]}),s.jsx("p",{className:`text-2xl font-bold ${g.payoutMethod==="SATOSHI"?"text-[#f7931a]":"text-[#00d749]"}`,children:g.payoutMethod==="SATOSHI"?`${g.satoshiAmount} sats`:c(ye(g.amount))})]}),s.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-800/30 rounded-xl divide-y divide-neutral-100 dark:divide-neutral-800",children:[s.jsxs("div",{className:"flex justify-between p-3",children:[s.jsx("span",{className:"text-sm text-neutral-500",children:"Taxa de servio"}),s.jsx("span",{className:"text-sm font-medium text-amber-600",children:g.payoutMethod==="SATOSHI"?`+${Math.round(parseInt(g.satoshiAmount||"0")*d)} sats (${u}%)`:`+${c(ye(g.amount)*d)} (${u}%)`})]}),s.jsxs("div",{className:"flex justify-between p-3",children:[s.jsx("span",{className:"text-sm text-neutral-500",children:"A descontar"}),s.jsx("span",{className:"text-sm font-bold text-red-600",children:g.payoutMethod==="SATOSHI"?`${Math.round(parseInt(g.satoshiAmount||"0")*h)} sats`:c(ye(g.amount)*h)})]}),s.jsxs("div",{className:"flex justify-between p-3",children:[s.jsx("span",{className:"text-sm text-neutral-500",children:"Data prevista"}),s.jsx("span",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:pa()})]})]}),s.jsxs("button",{type:"button",onClick:()=>x(!p),className:`w-full p-3 rounded-xl flex items-center gap-3 transition-all ${p?"bg-[#00d749]/10 ring-2 ring-[#00d749]":"bg-neutral-50 dark:bg-neutral-800/30"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0 ${p?"bg-[#00d749]":"border-2 border-neutral-300"}`,children:p&&s.jsx(ta,{className:"w-3 h-3 text-white",strokeWidth:3})}),s.jsxs("span",{className:"text-sm text-neutral-700 dark:text-neutral-300 text-left",children:["Aceito os"," ",s.jsx("span",{className:"text-[#00d749] font-medium",onClick:H=>{H.stopPropagation(),q(!0)},children:"termos e condies"})]})]})]}),s.jsxs("div",{className:"p-4 border-t border-neutral-100 dark:border-neutral-800 flex gap-3",children:[f===2&&s.jsx("button",{type:"button",onClick:()=>v(1),className:"btn-secondary flex-1",children:"Voltar"}),s.jsxs("button",{type:"submit",disabled:f===2?!p:!U(),className:"btn-primary flex-1 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[f===2?"Enviar":"Continuar",f===1&&s.jsx(ra,{className:"w-4 h-4"})]})]})]})]})}),mt=T&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",style:{zIndex:100001},onClick:()=>q(!1),children:s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden flex flex-col",onClick:H=>H.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white",children:"Termos e Condies"}),s.jsx("button",{onClick:()=>q(!1),className:"p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800",children:s.jsx(he,{className:"w-5 h-5 text-neutral-400"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 text-sm text-neutral-600 dark:text-neutral-400",children:[s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-1",children:"1. Adiantamento"}),s.jsx("p",{children:"O servio permite solicitar antecipao de ganhos, sujeito  aprovao do gestor."})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-1",children:"2. Taxa de Servio"}),s.jsxs("p",{children:["Taxa de ",u,"% ser aplicada e acrescida ao valor a descontar. Voc recebe o valor integral."]})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-1",children:"3. Processamento"}),s.jsx("p",{children:"Solicitaes so processadas em dias teis, sujeitas  aprovao."})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-1",children:"4. Cancelamento"}),s.jsx("p",{children:'Cancelamento possvel apenas com status "Pendente".'})]})]}),s.jsx("div",{className:"p-4 border-t border-neutral-200 dark:border-neutral-800",children:s.jsx("button",{onClick:()=>q(!1),className:"btn-primary w-full",children:"Entendi"})})]})});return s.jsxs(s.Fragment,{children:[Nt.createPortal(Yt,document.body),T&&Nt.createPortal(mt,document.body)]})},Bj=()=>{const t=Jt(),{t:e}=Ne(),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[o,c]=w.useState(80),l=w.useRef(null);w.useEffect(()=>{l.current&&c(l.current.offsetHeight)},[]),w.useEffect(()=>{let h=0,f=0;const v=()=>document.getElementById("main-scroll"),g=x=>{h=x.touches[0].clientY;const k=v();f=(k==null?void 0:k.scrollTop)||0},b=x=>{const k=x.touches[0].clientY,j=h-k,N=v();((N==null?void 0:N.scrollTop)||0)<=10?i(!1):j>8?i(!0):j<-8&&i(!1),h=k},y=x=>{const k=v();((k==null?void 0:k.scrollTop)||0)<=10?i(!1):x.deltaY>0?i(!0):x.deltaY<0&&i(!1)},m=()=>{const x=v(),k=(x==null?void 0:x.scrollTop)||0,j=k-f;k<=10?i(!1):j>10?i(!0):j<-10&&i(!1),f=k},p=v();return document.addEventListener("touchstart",g,{passive:!0}),document.addEventListener("touchmove",b,{passive:!0}),document.addEventListener("wheel",y,{passive:!0}),p&&p.addEventListener("scroll",m,{passive:!0}),()=>{document.removeEventListener("touchstart",g),document.removeEventListener("touchmove",b),document.removeEventListener("wheel",y),p&&p.removeEventListener("scroll",m)}},[]);const u=[{icon:Sj,label:e("menu.home"),path:"/"},{icon:fo,label:e("menu.solicitacoes"),path:"/requests"},{icon:mo,label:e("menu.nova"),path:"/requests/new",highlight:!0},{icon:bj,label:e("menu.historico"),path:"/reports"},{icon:ma,label:e("menu.perfil"),path:"/profile"}],d=h=>h==="/"?t.pathname===h:t.pathname.startsWith(h);return s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:l,style:{position:"fixed",left:0,right:0,bottom:24,height:o,zIndex:9999,display:"flex",alignItems:"flex-start",justifyContent:"center",paddingTop:8,paddingLeft:16,paddingRight:16,background:"transparent",pointerEvents:"none",opacity:a?0:1,transition:"opacity 0.5s ease-in-out",WebkitTransition:"opacity 0.5s ease-in-out",willChange:"opacity"},children:s.jsx("div",{style:{width:"100%",maxWidth:480,height:64,borderRadius:28,boxShadow:"0 -4px 30px rgba(0,0,0,0.15)",display:"grid",gridTemplateColumns:"repeat(5, 1fr)",alignItems:"flex-end",padding:"0 8px",pointerEvents:"auto"},className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800",children:u.map(h=>{const f=h.icon,v=d(h.path);return h.highlight?s.jsxs("button",{onClick:()=>n(!0),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end",position:"relative",background:"none",border:"none",cursor:"pointer",paddingBottom:8},children:[s.jsx("div",{style:{width:56,height:56,borderRadius:"50%",backgroundColor:"#00d749",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 15px rgba(0,215,73,0.4)",marginTop:-32,marginBottom:4},children:s.jsx(f,{style:{width:28,height:28,color:"white"},strokeWidth:2.5})}),s.jsx("span",{style:{fontSize:10,fontWeight:500,color:"#00d749"},children:h.label})]},h.path):s.jsxs(_t,{to:h.path,style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"8px 0",textDecoration:"none",color:v?"#00d749":"#737373"},children:[s.jsx(f,{style:{width:24,height:24},strokeWidth:v?2.5:2}),s.jsx("span",{style:{fontSize:10,marginTop:4,fontWeight:v?600:500},children:h.label})]},h.path)})})}),s.jsx(Z0,{isOpen:r,onClose:()=>n(!1)})]})},Fj=({id:t,message:e,type:r,duration:n=5e3,onClose:a})=>{const{formatMessage:i}=Ne(),[o,c]=w.useState(!1),[l,u]=w.useState(!1);w.useEffect(()=>{setTimeout(()=>c(!0),10);const v=setTimeout(()=>{u(!0),setTimeout(()=>a(t),200)},n);return()=>clearTimeout(v)},[t,n,a]);const d=()=>{u(!0),setTimeout(()=>a(t),200)},f=(()=>{switch(r){case"success":return{bg:"bg-[#00d749]",icon:s.jsx(Ue,{className:"w-4 h-4 text-white"})};case"error":return{bg:"bg-red-500",icon:s.jsx(Vr,{className:"w-4 h-4 text-white"})};case"info":return{bg:"bg-neutral-800 dark:bg-neutral-700",icon:s.jsx(Jr,{className:"w-4 h-4 text-white"})}}})();return s.jsxs("div",{className:`
        ${f.bg}
        mx-4 px-4 py-3
        rounded-xl
        shadow-lg
        flex items-center gap-3
        transition-all duration-200 ease-out
        ${o&&!l?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}
      `,role:"alert",children:[s.jsx("div",{className:"flex-shrink-0",children:f.icon}),s.jsx("p",{className:"flex-1 text-sm text-white font-medium leading-tight",children:i(e)}),s.jsx("button",{onClick:d,className:"flex-shrink-0 p-1 rounded-lg hover:bg-white/20 transition-colors","aria-label":"Fechar",children:s.jsx(he,{className:"w-4 h-4 text-white/80"})})]})},zj=()=>{const{toasts:t,removeToast:e}=ha();return t.length===0?null:s.jsx("div",{className:"fixed top-4 left-0 right-0 z-[9999] flex flex-col gap-2",children:t.map(r=>s.jsx(Fj,{id:r.id,message:r.message,type:r.type,duration:r.duration||5e3,onClose:e},r.id))})},Je=({children:t})=>{const{isAuthenticated:e,isLoading:r}=je();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-black",children:s.jsx("div",{className:"w-12 h-12 border-4 border-[#00d749] border-t-transparent rounded-full animate-spin"})}):e?s.jsx(s.Fragment,{children:t}):s.jsx(Ey,{to:"/auth/login",replace:!0})},ii={email_suporte:null,telefone_suporte:null,whatsapp_suporte:null,usar_whatsapp_suporte:!1,nome_empresa:null,logo_url:null,cor_primaria:"#22c55e"};let dn=null,tl=!1,qa=null;const qj=async()=>{try{const{data:t,error:e}=await I.from("configuracoes_globais").select("*").limit(1).maybeSingle();return e?(console.error("Erro ao buscar configuraes globais:",e),ii):t?{email_suporte:t.email_suporte,telefone_suporte:t.telefone_suporte,whatsapp_suporte:t.whatsapp_suporte,usar_whatsapp_suporte:t.usar_whatsapp_suporte||!1,nome_empresa:t.nome_empresa,logo_url:t.logo_url,cor_primaria:t.cor_primaria||"#22c55e"}:ii}catch(t){return console.error("Erro ao buscar configuraes globais:",t),ii}},Du=()=>{const[t,e]=w.useState(dn||ii),[r,n]=w.useState(!dn);return w.useEffect(()=>{if(dn){e(dn),n(!1);return}if(tl&&qa){qa.then(c=>{e(c),n(!1)});return}tl=!0,n(!0),qa=qj(),qa.then(c=>{dn=c,tl=!1,e(c),n(!1)})},[]),w.useEffect(()=>{const c=I.channel("configuracoes_globais_changes").on("postgres_changes",{event:"*",schema:"public",table:"configuracoes_globais"},l=>{if(console.log("Configuraes globais atualizadas:",l),l.new){const u=l.new,d={email_suporte:u.email_suporte,telefone_suporte:u.telefone_suporte,whatsapp_suporte:u.whatsapp_suporte,usar_whatsapp_suporte:u.usar_whatsapp_suporte||!1,nome_empresa:u.nome_empresa,logo_url:u.logo_url,cor_primaria:u.cor_primaria||"#22c55e"};dn=d,e(d)}}).subscribe();return()=>{I.removeChannel(c)}},[]),{config:t,isLoading:r,handleContactEmail:()=>{t.email_suporte&&window.open(`mailto:${t.email_suporte}`,"_blank")},handleContactWhatsapp:()=>{const c=t.whatsapp_suporte||t.telefone_suporte;if(c){const l=c.replace(/\D/g,"");window.open(`https://wa.me/${l}`,"_blank")}},handleContactPhone:()=>{t.telefone_suporte&&window.open(`tel:${t.telefone_suporte}`,"_blank")}}},eg=({request:t,onClose:e})=>{const{formatCurrency:r,currencySymbol:n,language:a}=Ne(),i=a==="pt-BR",{config:o,handleContactWhatsapp:c}=Du();w.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]);const l=t.currency==="SATS",u=l?"#E69F39":"#00d749",d=g=>l?`${Math.round(g)} sats`:r(g),h=g=>{const b=g.toLowerCase();return b==="mbway"?i?"PIX":"MB WAY":b==="iban"?i?"CONTA BANCRIA":"IBAN":g.toUpperCase()},f=()=>{const g=t.status.toUpperCase();return g==="REJECTED"?s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"mx-auto w-20 h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-4",children:s.jsx(Hn,{className:"w-12 h-12 text-red-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Solicitao Negada"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Sua solicitao no foi aprovada desta vez"})]}),s.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-800 rounded-xl p-6 space-y-4 text-left",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Valor Solicitado:"}),s.jsx("span",{className:"text-xl font-bold text-red-600",children:d(t.amount)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Mtodo de Pagamento:"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:h(t.paymentMethod)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Data da Solicitao:"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:new Date(t.date).toLocaleDateString("pt-PT")})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800 rounded-xl",children:s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-500",children:[s.jsx("strong",{children:"Motivo:"})," Sua solicitao foi analisada e no atendeu aos critrios necessrios para aprovao. Entre em contato com o suporte para mais informaes."]})}),o.whatsapp_suporte&&s.jsxs("button",{onClick:c,className:"w-full mt-4 py-3 bg-[#25D366] text-white font-semibold rounded-xl hover:bg-[#20BD5A] transition-colors flex items-center justify-center gap-2",children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WhatsApp",className:"w-5 h-5"}),"Falar com Suporte"]})]}):g==="APPROVED"?s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"mx-auto w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:`${u}20`},children:s.jsx(Ue,{className:"w-12 h-12",style:{color:u}})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:u},children:"Solicitao Aprovada"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Sua solicitao foi aprovada com sucesso"})]}),s.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-800 rounded-xl p-6 space-y-4 text-left",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Voc receber:"}),s.jsx("span",{className:"text-2xl font-bold",style:{color:u},children:d(t.amount)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"A Descontar:"}),s.jsx("span",{className:"text-xl font-bold text-red-600",children:d(t.netAmount)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Mtodo de Pagamento:"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:h(t.paymentMethod)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Data da Solicitao:"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:new Date(t.date).toLocaleDateString("pt-PT")})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-xl",children:s.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300",children:"O pagamento ser processado em at 3 horas."})})]}):g==="VERIFYING"?s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"mx-auto w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:`${u}20`},children:l?s.jsx("img",{src:"/logos/BITCOIN.png",alt:"Bitcoin",className:"w-12 h-12"}):s.jsx(Ue,{className:"w-12 h-12",style:{color:u}})}),s.jsx("h2",{className:"text-2xl font-bold text-[#E69F39] mb-2",children:"Em Verificao"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Aguardando confirmao do gestor"})]}),s.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-800 rounded-xl p-6 space-y-4 text-left",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Valor Recebido:"}),s.jsx("span",{className:"text-2xl font-bold text-[#E69F39]",children:d(t.amount)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Mtodo de Pagamento:"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:t.paymentMethod==="satoshi"?"SATOSHI":h(t.paymentMethod)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Data da Solicitao:"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:new Date(t.date).toLocaleDateString("pt-PT")})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-yellow-50 dark:bg-yellow-900/10 border border-yellow-200 dark:border-yellow-800 rounded-xl",children:s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-500",children:"O gestor precisa confirmar que a transao de Satoshi foi realizada. Voc receber uma notificao quando for confirmado."})})]}):g==="PAID"?s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"mx-auto w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:`${u}20`},children:s.jsx(Ue,{className:"w-12 h-12",style:{color:u}})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:u},children:"Solicitao Paga"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"O valor foi transferido para sua conta"})]}),s.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-800 rounded-xl p-6 space-y-4 text-left",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Valor Recebido:"}),s.jsx("span",{className:"text-2xl font-bold",style:{color:u},children:d(t.amount)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:t.descontado?"Valor descontado do salrio:":"A descontar do salrio:"}),s.jsx("span",{className:`text-xl font-bold ${t.descontado?"text-green-600":"text-red-600"}`,children:d(t.netAmount)})]}),!t.descontado&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Data do desconto:"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:pa(new Date(t.date))})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Mtodo de Pagamento:"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:h(t.paymentMethod)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Data da Solicitao:"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:new Date(t.date).toLocaleDateString("pt-PT")})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-[#00d749]/10 border border-[#00d749]/30 rounded-xl",children:s.jsx("p",{className:"text-sm text-[#00d749] font-semibold",children:" Valor transferido com sucesso para sua conta bancria"})})]}):s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"mx-auto w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:`${u}20`},children:l?s.jsx("img",{src:"/logos/BITCOIN.png",alt:"Bitcoin",className:"w-12 h-12"}):i?s.jsx("span",{className:"text-2xl font-bold",style:{color:u},children:"R$"}):s.jsx(wr,{className:"w-12 h-12",style:{color:u}})}),s.jsx("h2",{className:"text-2xl font-bold text-yellow-600 mb-2",children:"Solicitao Pendente"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Sua solicitao est sendo analisada"})]}),s.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-800 rounded-xl p-6 space-y-4 text-left",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Valor Solicitado:"}),s.jsx("span",{className:"text-xl font-bold text-yellow-600",children:d(t.amount)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Mtodo de Pagamento:"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:t.paymentMethod.toUpperCase()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Data da Solicitao:"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:new Date(t.date).toLocaleDateString("pt-PT")})]})]})]})},v=s.jsx("div",{className:"fixed bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",style:{zIndex:99999,top:0,left:0,right:0,bottom:0,position:"fixed",width:"100vw",height:"100vh",margin:0,padding:"1rem"},onClick:e,children:s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl max-w-md w-full p-6 relative",onClick:g=>g.stopPropagation(),children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-full transition-colors",children:s.jsx(he,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})}),f(),s.jsx("button",{onClick:e,className:"w-full mt-6 py-3 bg-neutral-900 dark:bg-neutral-700 text-white font-semibold rounded-xl hover:bg-neutral-800 dark:hover:bg-neutral-600 transition-colors",children:"Fechar"})]})});return Nt.createPortal(v,document.body)};function Vj({currentStep:t,status:e,currency:r}){const n=r==="SATS"?"#E69F39":"#00d749",a=[{label:"Solicitao Enviada",icon:Ot},{label:"Em Anlise",icon:po},{label:"Processando",icon:Qt},{label:e==="rejected"?"Negado":e==="canceled"?"Cancelado":"Aprovado",icon:e==="rejected"||e==="canceled"?he:ta},{label:"Transferido",icon:ta}];return s.jsxs("div",{className:"w-full",children:[s.jsx("div",{className:"relative mb-6",children:s.jsx("div",{className:"h-2 bg-neutral-200 dark:bg-neutral-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full rounded-full transition-all duration-1000 ease-out relative",style:{width:`${t/4*100}%`,backgroundColor:n},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})})})}),s.jsx("div",{className:"flex justify-between relative",children:a.map((i,o)=>{const c=i.icon,l=o<=t,u=o===t;return s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsxs("div",{className:"relative w-14 h-14 flex items-center justify-center",children:[u&&l&&e!=="rejected"&&s.jsx("div",{className:"absolute inset-0 rounded-full border-[3px] border-transparent animate-spin-slow",style:{borderTopColor:n,borderRightColor:n,borderBottomColor:n}}),s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center transition-all duration-500 ${l&&e==="rejected"&&o===3?"bg-red-600 text-white scale-110 animate-pulse":l&&e==="canceled"&&o===3?"bg-gray-500 text-white scale-110":l?"text-white scale-110":"bg-neutral-200 dark:bg-neutral-800 text-neutral-400"}`,style:l&&!(l&&(e==="rejected"||e==="canceled")&&o===3)?{backgroundColor:n}:{},children:s.jsx(c,{className:"w-5 h-5"})})]}),s.jsx("p",{className:`text-xs mt-2 text-center transition-colors ${l&&e==="rejected"&&o===3?"text-red-600 font-semibold":l&&e==="canceled"&&o===3?"text-gray-500 font-semibold":l?"font-semibold":"text-neutral-400"}`,style:l&&!(l&&(e==="rejected"||e==="canceled")&&o===3)?{color:n}:{},children:i.label})]},o)})})]})}const Wj=({request:t,onCancel:e})=>{const{formatCurrency:r}=Ne(),[n,a]=w.useState(0),[i,o]=w.useState(t.status),c=w.useRef(t.status);return w.useEffect(()=>{const u=(()=>{if(t.status==="pending"){const d=t.createdAt;if(Date.now()-d<2e3){a(0);const f=setTimeout(()=>a(1),2e3);return()=>clearTimeout(f)}else a(1),o("pending")}else if(t.status==="approved")if(c.current==="pending"||c.current==="processing"){a(2),o("processing");const d=setTimeout(()=>{a(3),o("approved")},3e3);return()=>clearTimeout(d)}else a(3),o("approved");else t.status==="paid"?(a(4),o("paid")):t.status==="rejected"&&(o("rejected"),a(3))})();return c.current=t.status,u},[t.status,t.createdAt]),s.jsxs("div",{className:`card border-2 ${t.currency==="SATS"?"border-[#E69F39]/30 bg-[#E69F39]/5":"border-[#00d749]/30 bg-[#00d749]/5"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full animate-blink ${t.currency==="SATS"?"bg-[#E69F39]":"bg-[#00d749]"}`}),s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white",children:"Solicitao em Andamento"})]}),(i==="pending"||i==="approved"||i==="processing")&&s.jsx("button",{onClick:()=>e(t.id),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900/20 rounded-full transition-colors",title:"Cancelar solicitao",children:s.jsx(he,{className:"w-5 h-5 text-red-600"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Valor Solicitado"}),s.jsx("p",{className:`text-3xl font-bold ${t.currency==="SATS"?"text-[#E69F39]":"text-[#00d749]"}`,children:t.currency==="SATS"?`${t.amount} sats`:r(t.amount)})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"A Descontar"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:t.currency==="SATS"?`${Math.round(t.netAmount)} sats`:r(t.netAmount)})]})]}),s.jsx(Vj,{currentStep:n,status:i,currency:t.currency})]})]})};var Hj=Object.defineProperty,qi=Object.getOwnPropertySymbols,tg=Object.prototype.hasOwnProperty,rg=Object.prototype.propertyIsEnumerable,Lh=(t,e,r)=>e in t?Hj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qj=(t,e)=>{for(var r in e||(e={}))tg.call(e,r)&&Lh(t,r,e[r]);if(qi)for(var r of qi(e))rg.call(e,r)&&Lh(t,r,e[r]);return t},Kj=(t,e)=>{var r={};for(var n in t)tg.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&qi)for(var n of qi(t))e.indexOf(n)<0&&rg.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Xr;(t=>{const e=class{constructor(l,u,d,h){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let f=[];for(let g=0;g<this.size;g++)f.push(!1);for(let g=0;g<this.size;g++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const v=this.addEccAndInterleave(d);if(this.drawCodewords(v),h==-1){let g=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const y=this.getPenaltyScore();y<g&&(h=b,g=y),this.applyMask(b)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(l,u){const d=t.QrSegment.makeSegments(l);return e.encodeSegments(d,u)}static encodeBinary(l,u){const d=t.QrSegment.makeBytes(l);return e.encodeSegments([d],u)}static encodeSegments(l,u,d=1,h=40,f=-1,v=!0){if(!(e.MIN_VERSION<=d&&d<=h&&h<=e.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let g,b;for(g=d;;g++){const x=e.getNumDataCodewords(g,u)*8,k=c.getTotalBits(l,g);if(k<=x){b=k;break}if(g>=h)throw new RangeError("Data too long")}for(const x of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])v&&b<=e.getNumDataCodewords(g,x)*8&&(u=x);let y=[];for(const x of l){n(x.mode.modeBits,4,y),n(x.numChars,x.mode.numCharCountBits(g),y);for(const k of x.getData())y.push(k)}i(y.length==b);const m=e.getNumDataCodewords(g,u)*8;i(y.length<=m),n(0,Math.min(4,m-y.length),y),n(0,(8-y.length%8)%8,y),i(y.length%8==0);for(let x=236;y.length<m;x^=253)n(x,8,y);let p=[];for(;p.length*8<y.length;)p.push(0);return y.forEach((x,k)=>p[k>>>3]|=x<<7-(k&7)),new e(g,u,p,f)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let d=0;d<this.size;d++)this.setFunctionModule(6,d,d%2==0),this.setFunctionModule(d,6,d%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let d=0;d<u;d++)for(let h=0;h<u;h++)d==0&&h==0||d==0&&h==u-1||d==u-1&&h==0||this.drawAlignmentPattern(l[d],l[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let d=u;for(let f=0;f<10;f++)d=d<<1^(d>>>9)*1335;const h=(u<<10|d)^21522;i(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,a(h,f));this.setFunctionModule(8,7,a(h,6)),this.setFunctionModule(8,8,a(h,7)),this.setFunctionModule(7,8,a(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,a(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,a(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,a(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let d=0;d<12;d++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;i(u>>>18==0);for(let d=0;d<18;d++){const h=a(u,d),f=this.size-11+d%3,v=Math.floor(d/3);this.setFunctionModule(f,v,h),this.setFunctionModule(v,f,h)}}drawFinderPattern(l,u){for(let d=-4;d<=4;d++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(d)),v=l+h,g=u+d;0<=v&&v<this.size&&0<=g&&g<this.size&&this.setFunctionModule(v,g,f!=2&&f!=4)}}drawAlignmentPattern(l,u){for(let d=-2;d<=2;d++)for(let h=-2;h<=2;h++)this.setFunctionModule(l+h,u+d,Math.max(Math.abs(h),Math.abs(d))!=1)}setFunctionModule(l,u,d){this.modules[u][l]=d,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,d=this.errorCorrectionLevel;if(l.length!=e.getNumDataCodewords(u,d))throw new RangeError("Invalid argument");const h=e.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][u],f=e.ECC_CODEWORDS_PER_BLOCK[d.ordinal][u],v=Math.floor(e.getNumRawDataModules(u)/8),g=h-v%h,b=Math.floor(v/h);let y=[];const m=e.reedSolomonComputeDivisor(f);for(let x=0,k=0;x<h;x++){let j=l.slice(k,k+b-f+(x<g?0:1));k+=j.length;const N=e.reedSolomonComputeRemainder(j,m);x<g&&j.push(0),y.push(j.concat(N))}let p=[];for(let x=0;x<y[0].length;x++)y.forEach((k,j)=>{(x!=b-f||j>=g)&&p.push(k[x])});return i(p.length==v),p}drawCodewords(l){if(l.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let d=this.size-1;d>=1;d-=2){d==6&&(d=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const v=d-f,b=(d+1&2)==0?this.size-1-h:h;!this.isFunction[b][v]&&u<l.length*8&&(this.modules[b][v]=a(l[u>>>3],7-(u&7)),u++)}}i(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let d=0;d<this.size;d++){let h;switch(l){case 0:h=(d+u)%2==0;break;case 1:h=u%2==0;break;case 2:h=d%3==0;break;case 3:h=(d+u)%3==0;break;case 4:h=(Math.floor(d/3)+Math.floor(u/2))%2==0;break;case 5:h=d*u%2+d*u%3==0;break;case 6:h=(d*u%2+d*u%3)%2==0;break;case 7:h=((d+u)%2+d*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][d]&&h&&(this.modules[u][d]=!this.modules[u][d])}}getPenaltyScore(){let l=0;for(let f=0;f<this.size;f++){let v=!1,g=0,b=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[f][y]==v?(g++,g==5?l+=e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,b),v||(l+=this.finderPenaltyCountPatterns(b)*e.PENALTY_N3),v=this.modules[f][y],g=1);l+=this.finderPenaltyTerminateAndCount(v,g,b)*e.PENALTY_N3}for(let f=0;f<this.size;f++){let v=!1,g=0,b=[0,0,0,0,0,0,0];for(let y=0;y<this.size;y++)this.modules[y][f]==v?(g++,g==5?l+=e.PENALTY_N1:g>5&&l++):(this.finderPenaltyAddHistory(g,b),v||(l+=this.finderPenaltyCountPatterns(b)*e.PENALTY_N3),v=this.modules[y][f],g=1);l+=this.finderPenaltyTerminateAndCount(v,g,b)*e.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let v=0;v<this.size-1;v++){const g=this.modules[f][v];g==this.modules[f][v+1]&&g==this.modules[f+1][v]&&g==this.modules[f+1][v+1]&&(l+=e.PENALTY_N2)}let u=0;for(const f of this.modules)u=f.reduce((v,g)=>v+(g?1:0),u);const d=this.size*this.size,h=Math.ceil(Math.abs(u*20-d*10)/d)-1;return i(0<=h&&h<=9),l+=h*e.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let d=[6];for(let h=this.size-7;d.length<l;h-=u)d.splice(1,0,h);return d}}static getNumRawDataModules(l){if(l<e.MIN_VERSION||l>e.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const d=Math.floor(l/7)+2;u-=(25*d-10)*d-55,l>=7&&(u-=36)}return i(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(e.getNumRawDataModules(l)/8)-e.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*e.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let h=0;h<l-1;h++)u.push(0);u.push(1);let d=1;for(let h=0;h<l;h++){for(let f=0;f<u.length;f++)u[f]=e.reedSolomonMultiply(u[f],d),f+1<u.length&&(u[f]^=u[f+1]);d=e.reedSolomonMultiply(d,2)}return u}static reedSolomonComputeRemainder(l,u){let d=u.map(h=>0);for(const h of l){const f=h^d.shift();d.push(0),u.forEach((v,g)=>d[g]^=e.reedSolomonMultiply(v,f))}return d}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let d=0;for(let h=7;h>=0;h--)d=d<<1^(d>>>7)*285,d^=(u>>>h&1)*l;return i(d>>>8==0),d}finderPenaltyCountPatterns(l){const u=l[1];i(u<=this.size*3);const d=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(d&&l[0]>=u*4&&l[6]>=u?1:0)+(d&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,d){return l&&(this.finderPenaltyAddHistory(u,d),u=0),u+=this.size,this.finderPenaltyAddHistory(u,d),this.finderPenaltyCountPatterns(d)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};let r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function n(l,u,d){if(u<0||u>31||l>>>u)throw new RangeError("Value out of range");for(let h=u-1;h>=0;h--)d.push(l>>>h&1)}function a(l,u){return(l>>>u&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const o=class{constructor(l,u,d){if(this.mode=l,this.numChars=u,this.bitData=d,u<0)throw new RangeError("Invalid argument");this.bitData=d.slice()}static makeBytes(l){let u=[];for(const d of l)n(d,8,u);return new o(o.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!o.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let d=0;d<l.length;){const h=Math.min(l.length-d,3);n(parseInt(l.substr(d,h),10),h*3+1,u),d+=h}return new o(o.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!o.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],d;for(d=0;d+2<=l.length;d+=2){let h=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d))*45;h+=o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d+1)),n(h,11,u)}return d<l.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(l.charAt(d)),6,u),new o(o.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:o.isNumeric(l)?[o.makeNumeric(l)]:o.isAlphanumeric(l)?[o.makeAlphanumeric(l)]:[o.makeBytes(o.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,u);else if(l<16384)n(2,2,u),n(l,14,u);else if(l<1e6)n(6,3,u),n(l,21,u);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,u)}static isNumeric(l){return o.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return o.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let d=0;for(const h of l){const f=h.mode.numCharCountBits(u);if(h.numChars>=1<<f)return 1/0;d+=4+f+h.bitData.length}return d}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let d=0;d<l.length;d++)l.charAt(d)!="%"?u.push(l.charCodeAt(d)):(u.push(parseInt(l.substr(d+1,2),16)),d+=2);return u}};let c=o;c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=c})(Xr||(Xr={}));(t=>{(e=>{const r=class{constructor(a,i){this.ordinal=a,this.formatBits=i}};let n=r;n.LOW=new r(0,1),n.MEDIUM=new r(1,0),n.QUARTILE=new r(2,3),n.HIGH=new r(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Xr||(Xr={}));(t=>{(e=>{const r=class{constructor(a,i){this.modeBits=a,this.numBitsCharCount=i}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};let n=r;n.NUMERIC=new r(1,[10,12,14]),n.ALPHANUMERIC=new r(2,[9,11,13]),n.BYTE=new r(4,[8,16,16]),n.KANJI=new r(8,[8,10,12]),n.ECI=new r(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Xr||(Xr={}));var ys=Xr;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Gj={L:ys.QrCode.Ecc.LOW,M:ys.QrCode.Ecc.MEDIUM,Q:ys.QrCode.Ecc.QUARTILE,H:ys.QrCode.Ecc.HIGH},Jj=128,Yj="L",Xj="#FFFFFF",Zj="#000000",e1=!1,ng=4,t1=.1;function r1(t,e=0){const r=[];return t.forEach(function(n,a){let i=null;n.forEach(function(o,c){if(!o&&i!==null){r.push(`M${i+e} ${a+e}h${c-i}v1H${i+e}z`),i=null;return}if(c===n.length-1){if(!o)return;i===null?r.push(`M${c+e},${a+e} h1v1H${c+e}z`):r.push(`M${i+e},${a+e} h${c+1-i}v1H${i+e}z`);return}o&&i===null&&(i=c)})}),r.join("")}function n1(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((a,i)=>i<e.x||i>=e.x+e.w?a:!1))}function s1(t,e,r,n){if(n==null)return null;const a=r?ng:0,i=t.length+a*2,o=Math.floor(e*t1),c=i/e,l=(n.width||o)*c,u=(n.height||o)*c,d=n.x==null?t.length/2-l/2:n.x*c,h=n.y==null?t.length/2-u/2:n.y*c;let f=null;if(n.excavate){let v=Math.floor(d),g=Math.floor(h),b=Math.ceil(l+d-v),y=Math.ceil(u+h-g);f={x:v,y:g,w:b,h:y}}return{x:d,y:h,h:u,w:l,excavation:f}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function a1(t){const e=t,{value:r,size:n=Jj,level:a=Yj,bgColor:i=Xj,fgColor:o=Zj,includeMargin:c=e1,imageSettings:l}=e,u=Kj(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let d=ys.QrCode.encodeText(r,Gj[a]).getModules();const h=c?ng:0,f=d.length+h*2,v=s1(d,n,c,l);let g=null;l!=null&&v!=null&&(v.excavation!=null&&(d=n1(d,v.excavation)),g=mn.createElement("image",{xlinkHref:l.src,height:v.h,width:v.w,x:v.x+h,y:v.y+h,preserveAspectRatio:"none"}));const b=r1(d,h);return mn.createElement("svg",Qj({height:n,width:n,viewBox:`0 0 ${f} ${f}`},u),mn.createElement("path",{fill:i,d:`M0,0 h${f}v${f}H0z`,shapeRendering:"crispEdges"}),mn.createElement("path",{fill:o,d:b,shapeRendering:"crispEdges"}),g)}const i1=({isOpen:t,onClose:e})=>{const{addRequest:r}=It(),[n,a]=w.useState(""),[i,o]=w.useState(""),[c,l]=w.useState(!1),[u,d]=w.useState(!1),[h,f]=w.useState(!1),[v,g]=w.useState(!1),[b,y]=w.useState(!1),[m,p]=w.useState("");w.useEffect(()=>{const T=localStorage.getItem("lightningAddress");T&&a(T)},[]),w.useEffect(()=>{if(t&&(f(!0),n)){const T={timestamp:Date.now(),lightningAddress:n};localStorage.setItem("pendingSatoshiQRCode",JSON.stringify(T))}},[t,n]);const x=()=>{i.trim()&&(localStorage.setItem("lightningAddress",i.trim()),a(i.trim()),o(""),l(!1))},k=()=>{l(!0),o(n)},j=async()=>{try{await navigator.clipboard.writeText(n),d(!0),setTimeout(()=>d(!1),2e3)}catch(T){console.error("Erro ao copiar:",T)}},N=async()=>{if(navigator.share)try{await navigator.share({title:"Minha Carteira Lightning",text:`Envie Bitcoin para: ${n}`})}catch(T){console.error("Erro ao compartilhar:",T)}else j()},_=()=>{n&&!c?g(!0):e()},S=()=>{localStorage.removeItem("pendingSatoshiQRCode"),g(!1),y(!1),p(""),e()},P=()=>{y(!0)},E=()=>{const T=parseInt(m);T&&T>0&&(r({amount:T,paymentMethod:"satoshi",status:"verifying",date:new Date().toISOString(),netAmount:T,currency:"SATS",lightningAddress:n}),localStorage.removeItem("pendingSatoshiQRCode"),g(!1),y(!1),p(""),e())};if(!t)return null;const R=s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4 transition-opacity duration-700 ${h?"opacity-100":"opacity-0"}`,children:s.jsxs("div",{className:`bg-white dark:bg-neutral-900 rounded-3xl w-full max-w-md shadow-2xl transition-all duration-700 ${h?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[s.jsxs("div",{className:"bg-[#E69F39] text-white p-6 rounded-t-3xl flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:s.jsx("img",{src:"/logos/BITCOIN.png",alt:"Bitcoin",className:"w-12 h-12"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:"Receber Satoshi"}),s.jsx("p",{className:"text-sm opacity-90",children:"Lightning Network"})]})]}),s.jsx("button",{onClick:_,className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors",children:s.jsx(he,{className:"w-6 h-6"})})]}),s.jsx("div",{className:"p-6",children:!n||c?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Lightning Address"}),s.jsx("input",{type:"text",value:i,onChange:T=>o(T.target.value),placeholder:"usuario@walletofsatoshi.com",className:"w-full px-4 py-3 bg-neutral-50 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#F7931A] text-black dark:text-white"}),s.jsx("p",{className:"text-xs text-neutral-500 mt-2",children:"Cole sua Lightning Address do Wallet of Satoshi, Blink, Phoenix ou outra carteira"})]}),s.jsxs("div",{className:"flex gap-3",children:[c&&s.jsx("button",{onClick:()=>{l(!1),o("")},className:"flex-1 py-3 px-4 bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 rounded-xl font-medium hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:x,disabled:!i.trim(),className:"flex-1 py-3 px-4 bg-gradient-to-r from-[#F7931A] to-[#FF8C00] text-white rounded-xl font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Atualizar":"Gerar QR Code"})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white p-4 rounded-2xl border-2 border-neutral-200 dark:border-neutral-700 flex justify-center relative",children:[s.jsx(a1,{value:n,size:320,level:"H",includeMargin:!0,className:"rounded-xl w-full h-full"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 rounded-full bg-white p-1.5 flex items-center justify-center",children:s.jsx("img",{src:"/logos/BITCOIN.png",alt:"Bitcoin",className:"w-full h-full rounded-full"})})]}),s.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-800 p-4 rounded-xl",children:[s.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mb-1",children:"Sua Lightning Address"}),s.jsx("p",{className:"text-sm font-mono text-black dark:text-white break-all",children:n})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx("button",{onClick:j,className:"flex items-center justify-center gap-2 py-3 px-4 bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 rounded-xl font-medium hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",children:u?s.jsxs(s.Fragment,{children:[s.jsx(ta,{className:"w-5 h-5 text-[#00d749]"}),"Copiado!"]}):s.jsxs(s.Fragment,{children:[s.jsx(kj,{className:"w-5 h-5"}),"Copiar"]})}),s.jsxs("button",{onClick:N,className:"flex items-center justify-center gap-2 py-3 px-4 bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 rounded-xl font-medium hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",children:[s.jsx(Aj,{className:"w-5 h-5"}),"Compartilhar"]})]}),s.jsxs("button",{onClick:k,className:"w-full flex items-center justify-center gap-2 py-3 px-4 border-2 border-neutral-300 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 rounded-xl font-medium hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors",children:[s.jsx(Pj,{className:"w-5 h-5"}),"Alterar Endereo"]})]})})]})}),v&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[99999] flex items-center justify-center p-4",children:s.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl w-full max-w-sm shadow-2xl p-6",children:b?s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-xl font-bold text-black dark:text-white mb-4",children:"Quanto voc recebeu?"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Valor em Satoshi"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-[#E69F39]",children:""}),s.jsx("input",{type:"text",inputMode:"numeric",value:m,onChange:T=>p(T.target.value.replace(/\D/g,"")),className:"w-full pl-12 pr-4 py-3 text-2xl font-bold border-2 border-neutral-200 dark:border-neutral-700 rounded-xl bg-white dark:bg-neutral-800 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[#E69F39]",placeholder:"0",autoFocus:!0})]}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-2",children:"Digite apenas o valor recebido"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{y(!1),p("")},className:"flex-1 py-3 bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 font-semibold rounded-xl hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors",children:"Voltar"}),s.jsx("button",{onClick:E,disabled:!m||parseInt(m)===0,className:"flex-1 py-3 bg-[#E69F39] text-white font-semibold rounded-xl hover:bg-[#d18f2f] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-xl font-bold text-black dark:text-white mb-4",children:"Voc recebeu algum valor?"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-6",children:"Confirme se recebeu algum pagamento em Satoshi"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:S,className:"flex-1 py-3 bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 font-semibold rounded-xl hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors",children:"No"}),s.jsx("button",{onClick:P,className:"flex-1 py-3 bg-[#E69F39] text-white font-semibold rounded-xl hover:bg-[#d18f2f] transition-colors",children:"Sim"})]})]})})})]});return Nt.createPortal(R,document.body)},o1=()=>{const{addRequest:t}=It(),[e,r]=w.useState(!1),[n,a]=w.useState(!1),[i,o]=w.useState(""),[c,l]=w.useState("");w.useEffect(()=>{u()},[]);const u=()=>{const v=localStorage.getItem("pendingSatoshiQRCode");if(v)try{const g=JSON.parse(v);l(g.lightningAddress),r(!0)}catch(g){console.error("Erro ao verificar QR Code pendente:",g)}},d=()=>{localStorage.removeItem("pendingSatoshiQRCode"),r(!1),a(!1),o("")},h=()=>{a(!0)},f=()=>{const v=parseInt(i);v&&v>0&&(t({amount:v,paymentMethod:"satoshi",status:"verifying",date:new Date().toISOString(),netAmount:v,currency:"SATS",lightningAddress:c}),localStorage.removeItem("pendingSatoshiQRCode"),r(!1),a(!1),o(""))};return e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"card border-2 border-[#E69F39]/30 bg-[#E69F39]/5",children:s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/logos/BITCOIN.png",alt:"Bitcoin",className:"w-6 h-6"}),s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white",children:"Recebeu Satoshi?"})]})}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-4",children:"Voc abriu seu QR Code Lightning. Recebeu algum pagamento em Satoshi?"}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:d,className:"flex-1 py-3 bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 font-semibold rounded-xl hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors",children:"No"}),s.jsx("button",{onClick:h,className:"flex-1 py-3 bg-[#E69F39] text-white font-semibold rounded-xl hover:bg-[#d18f2f] transition-colors",children:"Sim"})]})]})}),n&&Nt.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[99999] flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl w-full max-w-sm shadow-2xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:"/logos/BITCOIN.png",alt:"Bitcoin",className:"w-6 h-6"}),s.jsx("h3",{className:"text-xl font-bold text-black dark:text-white",children:"Quanto recebeu?"})]}),s.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-full transition-colors",children:s.jsx(he,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Valor em Satoshi"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-[#E69F39]",children:""}),s.jsx("input",{type:"text",inputMode:"numeric",value:i,onChange:v=>o(v.target.value.replace(/\D/g,"")),className:"w-full pl-12 pr-4 py-3 text-2xl font-bold border-2 border-[#E69F39]/50 rounded-xl bg-white dark:bg-neutral-800 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[#E69F39]",placeholder:"0",autoFocus:!0})]}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-2",children:"Digite o valor que voc recebeu"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{a(!1),o("")},className:"flex-1 py-3 bg-neutral-200 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-200 font-semibold rounded-xl hover:bg-neutral-300 dark:hover:bg-neutral-700 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:f,disabled:!i||parseInt(i)===0,className:"flex-1 py-3 bg-[#E69F39] text-white font-semibold rounded-xl hover:bg-[#d18f2f] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirmar"})]})]})}),document.body)]}):null},l1=[{id:"1",titulo:"Benefcios",descricao:"Receba adiantamentos de forma rpida e segura",icone:"Sparkles",cor:"green",ordem:1,ativo:!0},{id:"2",titulo:"O que voc pode fazer",descricao:"Solicite em Euro ou Satoshi com aprovao instantnea",icone:"Zap",cor:"orange",ordem:2,ativo:!0},{id:"3",titulo:"Segurana",descricao:"Transaes protegidas e criptografadas",icone:"Shield",cor:"green",ordem:3,ativo:!0}],c1={Sparkles:mo,Zap:zi,Shield:J0,Star:Tj,Heart:_j,Gift:jj,Award:vj,TrendingUp:po,Target:Oj,Clock:Ot,Wallet:Lj,Euro:wr},$h={green:{border:"border-[#00d749]/20",iconBg:"bg-[#00d749]/10",iconColor:"text-[#00d749]"},orange:{border:"border-[#E69F39]/20",iconBg:"bg-[#E69F39]/10",iconColor:"text-[#E69F39]"},blue:{border:"border-[#3B82F6]/20",iconBg:"bg-[#3B82F6]/10",iconColor:"text-[#3B82F6]"},purple:{border:"border-[#8B5CF6]/20",iconBg:"bg-[#8B5CF6]/10",iconColor:"text-[#8B5CF6]"},red:{border:"border-[#EF4444]/20",iconBg:"bg-[#EF4444]/10",iconColor:"text-[#EF4444]"},pink:{border:"border-[#EC4899]/20",iconBg:"bg-[#EC4899]/10",iconColor:"text-[#EC4899]"}},u1=()=>{const[t,e]=w.useState(l1),[r,n]=w.useState(0),[a,i]=w.useState(0),[o,c]=w.useState(0);w.useEffect(()=>{const g=async()=>{try{const{data:y,error:m}=await I.from("cards_beneficios").select("*").eq("ativo",!0).order("ordem",{ascending:!0});if(m)throw m;y&&y.length>0&&e(y)}catch(y){console.error("Error fetching cards beneficios:",y)}};g();const b=I.channel("cards_beneficios_changes").on("postgres_changes",{event:"*",schema:"public",table:"cards_beneficios"},()=>{g()}).subscribe();return()=>{I.removeChannel(b)}},[]),w.useEffect(()=>{if(t.length===0)return;const g=setInterval(()=>{n(b=>(b+1)%t.length)},5e3);return()=>clearInterval(g)},[t.length]);const l=g=>{i(g.targetTouches[0].clientX)},u=g=>{c(g.targetTouches[0].clientX)},d=()=>{if(!a||!o)return;const g=a-o,b=g>50,y=g<-50;b&&n(m=>(m+1)%t.length),y&&n(m=>(m-1+t.length)%t.length),i(0),c(0)},h=g=>{i(g.clientX)},f=g=>{a&&c(g.clientX)},v=()=>{if(!a||!o)return;const g=a-o,b=g>50,y=g<-50;b&&n(m=>(m+1)%t.length),y&&n(m=>(m-1+t.length)%t.length),i(0),c(0)};return t.length===0?null:s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"relative h-40 cursor-grab active:cursor-grabbing",onTouchStart:l,onTouchMove:u,onTouchEnd:d,onMouseDown:h,onMouseMove:f,onMouseUp:v,onMouseLeave:v,children:t.map((g,b)=>{const y=c1[g.icone]||mo,m=$h[g.cor]||$h.green,p=b===r,x=b===(r-1+t.length)%t.length,k=b===(r+1)%t.length;let j="translate-x-[120%] opacity-0";return p?j="translate-x-0 opacity-100 scale-100":x?j="-translate-x-[120%] opacity-0":k&&(j="translate-x-[120%] opacity-0"),s.jsx("div",{className:`absolute inset-0 transition-all duration-700 ease-in-out ${j}`,children:s.jsx("div",{className:`bg-white dark:bg-neutral-900 ${m.border} border-2 rounded-2xl p-6 h-full shadow-sm`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`${m.iconBg} p-3 rounded-xl`,children:s.jsx(y,{className:`w-6 h-6 ${m.iconColor}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-2",children:g.titulo}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 text-sm leading-relaxed",children:g.descricao})]})]})})},g.id)})}),s.jsx("div",{className:"flex justify-center gap-2 mt-4",children:t.map((g,b)=>s.jsx("button",{onClick:()=>n(b),className:`h-2 rounded-full transition-all duration-300 ${b===r?"w-8 bg-[#00d749]":"w-2 bg-neutral-300 dark:bg-neutral-700"}`,"aria-label":`Ir para card ${b+1}`},b))})]})},rl=t=>{const e={},r={};return t.forEach(n=>{if(n.imagem_url){const a=I0(n.imagem_url);a&&(e[n.id]=a,r[n.id]=!0)}}),{urls:e,loaded:r}},d1=({onHasBanners:t})=>{var f,v,g,b;const{banners:e,isLoadingBanners:r}=It(),[n,a]=w.useState(0),[i,o]=w.useState(()=>rl(e).urls),[c,l]=w.useState(()=>rl(e).loaded);w.useEffect(()=>{const{urls:y,loaded:m}=rl(e),p=e.map(j=>j.id),x=Object.keys(i);p.some(j=>!x.includes(j))&&(console.log("Novos banners detectados em tempo real!"),a(0)),Object.keys(y).length>0&&(o(j=>({...j,...y})),l(j=>({...j,...m})))},[e]);const u=e.length>0&&e.some(y=>i[y.id]||I0(y.imagem_url));w.useEffect(()=>{if(!r){const y=e.length>0;t&&t(y),localStorage.setItem("x88_has_banners",String(y));const m=e.map(p=>p.imagem_url).filter(Boolean);D0(m),e.forEach(async p=>{if(p.imagem_url&&!i[p.id])try{const x=await Ru(p.imagem_url);o(k=>({...k,[p.id]:x})),l(k=>({...k,[p.id]:!0}))}catch{l(x=>({...x,[p.id]:!0}))}})}},[e,r,t]),w.useEffect(()=>{if(e.length===0)return;const y=setInterval(()=>{a(m=>(m+1)%e.length)},5e3);return()=>clearInterval(y)},[e]);const d=e.length>0&&(c[(f=e[0])==null?void 0:f.id]||i[(v=e[0])==null?void 0:v.id]);if(r||e.length>0&&!d&&!u)return s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-neutral-800 to-black",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full animate-spin"})})});if(e.length===0)return null;const h=i[(g=e[0])==null?void 0:g.id]||((b=e[0])==null?void 0:b.imagem_url);return s.jsx("div",{className:"absolute inset-0 overflow-hidden",style:h?{backgroundImage:`url(${h})`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundColor:"#000"},children:e.map((y,m)=>{const p=m===n,x=i[y.id]||y.imagem_url;return s.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${p?"opacity-100 z-10":"opacity-0 z-0"}`,children:[s.jsx("div",{className:"absolute inset-0",children:s.jsx("img",{src:x,alt:"",className:"w-full h-full object-cover opacity-50 blur-xl scale-110"})}),s.jsx("div",{className:"absolute inset-0",children:s.jsx("img",{src:x,alt:y.titulo||`Banner ${m+1}`,className:"w-full h-full object-contain object-top",loading:"eager"})}),s.jsx("div",{className:"absolute inset-0 bg-black/10 pointer-events-none"})]},y.id)})})},h1=()=>{const t=new Date,e=t.getDay(),r=e===0?1:e===1?7:8-e,n=new Date(t);n.setDate(t.getDate()+r);const a="Segunda-feira",i=n.toLocaleDateString("pt-PT",{day:"2-digit",month:"2-digit"});return{dayName:a,dateStr:i,full:`${a}, ${i}`}},f1=({euroTotal:t=0,satsTotal:e=0,euroNetTotal:r=0,satsNetTotal:n=0,euroCount:a=0,satsCount:i=0})=>{const{currencySymbol:o,language:c,formatCurrency:l}=Ne(),u=c==="pt-BR",d=h1(),h=t>0,f=e>0;return h||f?s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-[11px] uppercase tracking-wider text-neutral-500 dark:text-neutral-400 font-semibold px-1",children:"VALORES PENDENTES"}),h&&s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-5 border-2 border-[#00d749]",children:[s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-3",children:"Valor Recebido"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-[#00d749] tabular-nums mb-1",children:l(t)}),s.jsxs("p",{className:"text-xs text-red-500 font-medium",children:["A descontar do salrio: ",l(r)]}),s.jsxs("p",{className:"text-xs text-red-500 font-medium mb-1",children:["em ",d.full]}),s.jsxs("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:[a," ",a===1?"solicitao":"solicitaes"]})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#00d749]/10 flex items-center justify-center flex-shrink-0",children:u?s.jsx("span",{className:"text-lg font-bold text-[#00d749]",children:o}):s.jsx(wr,{className:"w-6 h-6 text-[#00d749]"})})]})]}),f&&s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-5 border-2 border-[#E69F39]",children:[s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mb-3",children:"Satoshis"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-[#E69F39] tabular-nums mb-1",children:Math.round(e).toLocaleString("pt-PT")}),s.jsxs("p",{className:"text-xs text-red-500 font-medium",children:["A descontar do salrio: ",Math.round(n).toLocaleString("pt-PT")," sats"]}),s.jsxs("p",{className:"text-xs text-red-500 font-medium mb-1",children:["em ",d.full]}),s.jsxs("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:[i," ",i===1?"solicitao":"solicitaes"]})]}),s.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#E69F39]/10 flex items-center justify-center flex-shrink-0",children:s.jsx("img",{src:"/logos/BITCOIN.png",alt:"Bitcoin",className:"w-6 h-6"})})]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"text-[11px] uppercase tracking-wider text-neutral-500 dark:text-neutral-400 font-semibold px-1",children:"RESUMO"}),s.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-6 border border-green-200 dark:border-green-800",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center flex-shrink-0",children:s.jsx(Ue,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-semibold text-green-700 dark:text-green-400",children:"Tudo em dia!"}),s.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["No h valores pendentes de desconto.",s.jsx("br",{}),"Solicite agora mesmo um novo adiantamento."]})]})]})})]})},m1=()=>{const[t,e]=w.useState([]),[r,n]=w.useState(0),[a,i]=w.useState(!1),[o,c]=w.useState(!0),[l,u]=w.useState(null),d=w.useRef(new Set);w.useEffect(()=>{v(),h();const y=I.channel("banners-popup-changes").on("postgres_changes",{event:"*",schema:"public",table:"banners"},m=>{console.log("Mudana detectada nos cards de anncio:",m),v(!0)}).subscribe();return()=>{I.removeChannel(y)}},[]);const h=async()=>{try{const{data:y}=await I.from("configuracoes_globais").select("whatsapp_suporte").limit(1).maybeSingle();y!=null&&y.whatsapp_suporte&&u(y.whatsapp_suporte)}catch(y){console.error("Erro ao buscar WhatsApp global:",y)}},f=y=>{if(y.usar_whatsapp&&l){const m=l.replace(/\D/g,"");window.open(`https://wa.me/${m}`,"_blank")}else y.link_botao&&window.open(y.link_botao,"_blank")},v=async(y=!1)=>{try{const{data:m,error:p}=await I.from("banners").select("*").eq("ativo",!0).eq("tipo","popup").order("ordem",{ascending:!0});if(p)throw p;if(m&&m.length>0){const x=m.filter(k=>{if(!k.max_views)return!0;const j=`x88_banner_view_${k.id}`,N=parseInt(localStorage.getItem(j)||"0"),_=k.max_views||3;return N<_});if(x.length>0){const k=t.map(N=>N.id),j=x.some(N=>!k.includes(N.id));e(x),(!y||j)&&(n(0),i(!0),console.log("Card de anncio aberto!",y?"(novo banner em tempo real)":"(inicial)"))}}}catch(m){console.error("Erro ao buscar popups:",m)}finally{c(!1)}};w.useEffect(()=>{if(a&&t.length>0){const y=t[r];if(y&&!d.current.has(y.id)){const m=`x88_banner_view_${y.id}`,p=`x88_banner_last_view_${y.id}`,x=Date.now(),k=parseInt(localStorage.getItem(p)||"0");if(x-k>5e3){let j=parseInt(localStorage.getItem(m)||"0");isNaN(j)&&(j=0);const N=j+1;localStorage.setItem(m,N.toString()),localStorage.setItem(p,x.toString()),d.current.add(y.id),console.log(`Banner ${y.titulo} view counted: ${N}/${y.max_views||3}`)}else console.log(`Banner ${y.titulo} view ignored (debounce): ${x-k}ms`)}}},[a,r,t]);const g=()=>{r<t.length-1?n(y=>y+1):i(!1)};if(o||!a||t.length===0)return null;const b=t[r];return s.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center px-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity animate-in fade-in duration-300",onClick:g}),s.jsxs("div",{className:"relative w-full max-w-sm bg-transparent rounded-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-300 mx-auto",children:[s.jsx("button",{onClick:g,className:"absolute top-2 right-2 z-20 p-1.5 bg-black/40 hover:bg-black/60 text-white/90 rounded-full backdrop-blur-sm transition-all",children:s.jsx(he,{className:"w-5 h-5"})}),s.jsxs("div",{className:"w-full relative flex flex-col",children:[s.jsx("img",{src:b.imagem_url,alt:b.titulo,className:"w-full h-auto object-contain block",loading:"eager"}),t.length>1&&s.jsx("div",{className:`absolute left-0 right-0 flex justify-center gap-2 z-10 ${b.nome_botao?"bottom-16":"bottom-4"}`,children:t.map((y,m)=>s.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${m===r?"bg-white w-4 shadow-sm":"bg-white/50"}`},m))}),b.nome_botao&&s.jsxs("button",{onClick:()=>f(b),className:"absolute bottom-3 left-3 right-3 py-3 px-4 bg-[#0FB841] hover:bg-[#0da838] text-white font-semibold rounded-xl flex items-center justify-center gap-2 transition-all shadow-lg",children:[b.usar_whatsapp?s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WhatsApp",className:"w-5 h-5"}):s.jsx(ho,{className:"w-5 h-5"}),b.nome_botao]})]})]})]})},p1=({isOpen:t,onClose:e,onConfirm:r})=>t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),s.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 rounded-3xl shadow-2xl max-w-md w-full p-6 space-y-4 border border-neutral-200 dark:border-neutral-800",children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:s.jsx(he,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})}),s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-amber-100 dark:bg-amber-950/30 flex items-center justify-center",children:s.jsx(Au,{className:"w-8 h-8 text-amber-600 dark:text-amber-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Cancelar Solicitao?"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Tem certeza que deseja cancelar esta solicitao? Esta ao no pode ser desfeita."})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{onClick:e,className:"flex-1 py-3 px-4 rounded-2xl font-semibold bg-neutral-100 dark:bg-neutral-800 text-black dark:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",children:"Voltar"}),s.jsx("button",{onClick:r,className:"flex-1 py-3 px-4 rounded-2xl font-semibold bg-red-600 text-white hover:bg-red-700 transition-colors",children:"Sim, Cancelar"})]})]})]}):null,g1=t=>{switch(t.toUpperCase()){case"PENDING":case"PROCESSING":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-500/20 text-yellow-600",children:"Pendente"});case"APPROVED":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-[#00d749]/20 text-[#00d749]",children:"Aprovada"});case"REJECTED":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-500/20 text-red-600",children:"Rejeitada"});case"CANCELED":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-gray-500/20 text-gray-600",children:"Cancelada"});case"PAID":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-[#00d749]/20 text-[#00d749]",children:"Paga"});case"VERIFYING":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-500/20 text-yellow-600",children:"Pendente"});default:return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-500/20 text-yellow-600",children:"Pendente"})}},x1=t=>{switch(t.toUpperCase()){case"PENDING":case"PROCESSING":case"VERIFYING":return s.jsx(Ot,{className:"w-4 h-4 text-yellow-600"});case"APPROVED":case"PAID":return s.jsx(Ue,{className:"w-4 h-4 text-[#00d749]"});case"REJECTED":return s.jsx(Hn,{className:"w-4 h-4 text-red-600"});case"CANCELED":return s.jsx(Hn,{className:"w-4 h-4 text-gray-600"});default:return s.jsx(Ot,{className:"w-4 h-4 text-yellow-600"})}},sa=({date:t,options:e,className:r})=>{const{formatDate:n}=Ne();return s.jsx("span",{className:r,children:n(t,e)})},v1="x88_chat_history_",y1=50;function sg(){const{user:t}=je(),e=w.useCallback(()=>t!=null&&t.id?`${v1}${t.id}`:null,[t==null?void 0:t.id]),[r,n]=w.useState([]),[a,i]=w.useState(!1),[o,c]=w.useState(null);w.useEffect(()=>{const h=e();if(!h){n([]);return}try{const f=localStorage.getItem(h);if(f){const v=JSON.parse(f);n(v.map(g=>({...g,timestamp:new Date(g.timestamp)})))}else n([])}catch(f){console.error("Erro ao carregar histrico do chat:",f),n([])}},[e]);const l=w.useCallback(h=>{const f=e();if(f)try{const v=h.slice(-y1).map(g=>({...g,timestamp:g.timestamp.toISOString()}));localStorage.setItem(f,JSON.stringify(v))}catch(v){console.error("Erro ao salvar histrico:",v)}},[e]),u=w.useCallback(async h=>{var g;if(!h.trim()||a)return;c(null);const f={id:`user-${Date.now()}`,role:"user",content:h.trim(),timestamp:new Date},v={id:`loading-${Date.now()}`,role:"assistant",content:"",timestamp:new Date,isLoading:!0};n(b=>[...b,f,v]),i(!0);try{const b=r.slice(-10).filter(_=>!_.isLoading).map(_=>({role:_.role,content:_.content}));b.push({role:"user",content:h.trim()});const{data:y,error:m}=await I.functions.invoke("chat-ai",{body:{messages:b,userId:t==null?void 0:t.id}});if(m)throw m;if(!y.success)throw new Error(y.error);const p=((g=y.response)==null?void 0:g.length)||0,x=1500,k=p*40,j=Math.min(x+k,12e3);await new Promise(_=>setTimeout(_,j));const N={id:`assistant-${Date.now()}`,role:"assistant",content:y.response,timestamp:new Date};n(_=>{const S=_.filter(P=>!P.isLoading).concat(N);return l(S),S})}catch(b){console.error("Erro ao enviar mensagem:",b),c(b.message||"Erro ao processar mensagem"),n(y=>{const m=y.filter(k=>!k.isLoading),p={id:`error-${Date.now()}`,role:"assistant",content:"Desculpe, ocorreu um erro ao processar sua mensagem. Por favor, tente novamente.",timestamp:new Date},x=[...m,p];return l(x),x})}finally{i(!1)}},[r,a,t,l]),d=w.useCallback(()=>{n([]);const h=e();h&&localStorage.removeItem(h)},[e]);return{messages:r,isLoading:a,error:o,sendMessage:u,clearHistory:d}}const b1=(t,e,r)=>{const n=/\[BUTTON:([^\]:]+):([^\]]+)\]/g,a=[];let i=0,o;for(;(o=n.exec(t))!==null;){o.index>i&&a.push(t.slice(i,o.index));const c=o[1],l=o[2],u=l.startsWith("http")||l.startsWith("mailto:")||l.startsWith("tel:");a.push(s.jsxs("button",{onClick:()=>{if(u)window.open(l,"_blank");else{const d=l.includes("?")?`${l}&from=chatpopup`:`${l}?from=chatpopup`;r(),setTimeout(()=>{e(d)},50)}},className:"flex items-center gap-2 mt-2 px-4 py-2.5 bg-[#00d749] hover:bg-[#00c142] text-white rounded-xl font-medium text-sm transition-colors w-full justify-center",children:[c,u&&s.jsx(ho,{className:"w-4 h-4"})]},`btn-${o.index}`)),i=o.index+o[0].length}return i<t.length&&a.push(t.slice(i)),a.length>0?a:[t]},w1=({isOpen:t,onClose:e})=>{const r=ze(),{messages:n,isLoading:a,sendMessage:i,clearHistory:o}=sg(),{language:c}=Ne(),{user:l}=je(),{setHideBottomNav:u}=z0(),[d,h]=w.useState(""),f=w.useRef(null),v=w.useRef(null),[g,b]=w.useState(!1),y=c==="pt-BR";w.useEffect(()=>{var j;(j=f.current)==null||j.scrollIntoView({behavior:"smooth"})},[n]),w.useEffect(()=>{var j;t?((j=v.current)==null||j.focus(),u(!0)):u(!1)},[t,u]);const m=j=>{j.preventDefault(),d.trim()&&!a&&(i(d),h(""))},p=()=>{o(),b(!1)},x=j=>j.toLocaleTimeString(y?"pt-BR":"pt-PT",{hour:"2-digit",minute:"2-digit"}),k=y?`Ol${l!=null&&l.name?`, ${l.name.split(" ")[0]}`:""}! 

Sou a X88 IA, sua assistente virtual. Como posso ajudar?`:`Ol${l!=null&&l.name?`, ${l.name.split(" ")[0]}`:""}! 

Sou a X88 IA, a sua assistente virtual. Como posso ajudar?`;return t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),s.jsxs("div",{className:"relative w-full h-[85vh] sm:h-[600px] sm:max-w-md bg-white dark:bg-neutral-900 rounded-t-3xl sm:rounded-2xl flex flex-col overflow-hidden animate-slide-up",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:s.jsx("img",{src:"/logos/logoAi.png",alt:"IA",className:"w-full h-full object-cover"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-black dark:text-white",children:"X88 IA"}),s.jsx("p",{className:"text-xs text-neutral-500",children:"Assistente Virtual"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n.length>0&&s.jsx("button",{onClick:()=>b(!0),className:"p-2 text-neutral-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:s.jsx(na,{className:"w-5 h-5"})}),s.jsx("button",{onClick:e,className:"p-2 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 rounded-lg transition-all",children:s.jsx(he,{className:"w-6 h-6"})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 pb-6 space-y-4",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0",children:s.jsx("img",{src:"/logos/logoAi.png",alt:"IA",className:"w-full h-full object-cover"})}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-2xl rounded-tl-md p-4",children:s.jsx("p",{className:"text-black dark:text-white whitespace-pre-wrap text-sm",children:k})})})]}),n.filter(j=>!j.isLoading).map((j,N)=>s.jsxs("div",{className:`flex gap-3 ${j.role==="user"?"justify-end":""}`,children:[j.role==="assistant"&&s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0",children:s.jsx("img",{src:"/logos/logoAi.png",alt:"IA",className:"w-full h-full object-cover"})}),s.jsx("div",{className:`flex-1 ${j.role==="user"?"flex justify-end":""}`,children:s.jsxs("div",{className:`rounded-2xl p-4 max-w-[85%] ${j.role==="user"?"bg-[#00d749] text-white rounded-tr-md":"bg-neutral-100 dark:bg-neutral-800 rounded-tl-md"}`,children:[s.jsx("div",{className:`whitespace-pre-wrap text-sm ${j.role==="user"?"text-white":"text-black dark:text-white"}`,children:j.role==="assistant"?b1(j.content,r,e):j.content}),s.jsx("p",{className:`text-xs mt-2 ${j.role==="user"?"text-white/70":"text-neutral-400"}`,children:x(j.timestamp)})]})})]},N)),a&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0",children:s.jsx("img",{src:"/logos/logoAi.png",alt:"IA",className:"w-full h-full object-cover"})}),s.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-2xl rounded-tl-md p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-[#00d749] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-[#00d749] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-[#00d749] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),s.jsx("span",{className:"text-neutral-500 text-sm",children:"Digitando..."})]})})]}),s.jsx("div",{ref:f,className:"h-4"})]}),s.jsx("form",{onSubmit:m,className:"p-4 border-t border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:v,type:"text",value:d,onChange:j=>h(j.target.value),onFocus:()=>{setTimeout(()=>{var j;(j=f.current)==null||j.scrollIntoView({behavior:"smooth",block:"end"})},300)},placeholder:a?"IA est digitando, aguarde...":"Digite sua mensagem...",className:"flex-1 px-4 py-3 bg-neutral-100 dark:bg-neutral-800 rounded-xl text-black dark:text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-[#00d749] text-sm",disabled:a}),s.jsx("button",{type:"submit",disabled:!d.trim()||a,className:"px-4 py-3 bg-[#00d749] text-white rounded-xl hover:bg-[#00c142] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(G0,{className:"w-5 h-5"})})]})}),g&&s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl p-6 max-w-sm w-full",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-2",children:"Limpar conversa?"}),s.jsx("p",{className:"text-neutral-500 mb-4 text-sm",children:"Todas as mensagens sero apagadas."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>b(!1),className:"flex-1 py-2 border border-neutral-300 dark:border-neutral-700 rounded-xl text-black dark:text-white font-medium",children:"Cancelar"}),s.jsx("button",{onClick:p,className:"flex-1 py-2 bg-red-500 text-white rounded-xl font-medium",children:"Limpar"})]})]})})]})]}):null},k1=()=>{ze();const{requests:t,getPendingRequests:e,getApprovedRequests:r,updateRequest:n}=It(),{user:a}=je(),{t:i,formatCurrency:o,language:c}=Ne(),l=c==="pt-BR",[u,d]=w.useState(null),[h,f]=w.useState(!1),[v,g]=w.useState(!1),[b,y]=w.useState(()=>localStorage.getItem("x88_has_banners")==="true"),[m,p]=w.useState(!1),[x,k]=w.useState(null),[j,N]=w.useState(()=>{const A=localStorage.getItem("darkMode");return A!==null?A==="true":document.documentElement.classList.contains("dark")}),[_,S]=w.useState(!1),[P,E]=w.useState(!1),[R,T]=w.useState(!1),[q,ie]=w.useState(!1),[ye,F]=w.useState({x:0,y:0}),[Y,O]=w.useState({x:0,y:0}),U=w.useRef(null),z=w.useRef(null),{unreadCount:K,markAllAsRead:re}=ns(),Yt=()=>{const A=!j;N(A),localStorage.setItem("darkMode",String(A)),A?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};w.useEffect(()=>{sessionStorage.getItem("x88_chat_return")==="true"&&(sessionStorage.removeItem("x88_chat_return"),T(!0))},[]),w.useEffect(()=>{if(U.current){const A=U.current.getBoundingClientRect();F({x:A.left+A.width/2,y:A.top+A.height/2})}if(z.current){const A=z.current.getBoundingClientRect();O({x:A.left+A.width/2,y:A.top+A.height/2})}},[]),w.useEffect(()=>{ie(!0);const A=setTimeout(()=>ie(!1),500);let V;if(_){if(U.current){const se=U.current.getBoundingClientRect();F({x:se.left+se.width/2,y:se.top+se.height/2})}K>0&&(V=setTimeout(()=>re(),800))}return()=>{clearTimeout(A),V&&clearTimeout(V)}},[_,K,re]);const mt=A=>{y(A);const V=localStorage.getItem("x88_has_banners")==="true";A!==V&&(localStorage.setItem("x88_has_banners",String(A)),window.location.reload())},[,H]=w.useState(0);w.useEffect(()=>{const A=document.querySelector('meta[name="theme-color"]'),V=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');return b?(document.body.classList.remove("header-icons-dark"),document.body.style.backgroundColor="#000000",A&&A.setAttribute("content","#000000"),V&&V.setAttribute("content","black-translucent")):(document.body.classList.add("header-icons-dark"),document.body.style.backgroundColor="#4dff7a",A&&A.setAttribute("content","#4dff7a"),V&&V.setAttribute("content","#4dff7a")),()=>{document.body.classList.remove("header-icons-dark"),document.body.style.backgroundColor="",A&&A.setAttribute("content","#000000"),V&&V.setAttribute("content","black")}},[b]),w.useEffect(()=>{const A=()=>{const se=document.getElementById("root"),nn=se?se.scrollTop:window.pageYOffset||document.documentElement.scrollTop;console.log("HOME SCROLL:",nn),nn>10?document.body.classList.add("hide-header-icons"):document.body.classList.remove("hide-header-icons")},V=document.getElementById("root");return V&&V.addEventListener("scroll",A,{passive:!0}),window.addEventListener("scroll",A,{passive:!0}),A(),()=>{V&&V.removeEventListener("scroll",A),window.removeEventListener("scroll",A),document.body.classList.remove("hide-header-icons")}},[]),w.useEffect(()=>{if(t.some(V=>{if(V.status!=="paid"||!V.paymentDate)return!1;const se=new Date(V.paymentDate).getTime();return Date.now()-se<16e3})){const V=setInterval(()=>H(se=>se+1),1e3);return()=>clearInterval(V)}},[t]);const J=t.filter(A=>{if(["pending","processing"].includes(A.status)||A.status==="approved")return!0;if(A.status==="paid"){if(A.paymentMethod==="satoshi"||!A.paymentDate)return!1;const V=new Date(A.paymentDate).getTime();return new Date().getTime()-V<15e3}return!1}).sort((A,V)=>new Date(V.date).getTime()-new Date(A.date).getTime()),ne=r(),Ge=A=>{k(A),p(!0)},tn=async()=>{var A;if(x&&a){const V=t.find(se=>se.id===x);await n(x,{status:"canceled"});try{const{data:se}=await I.from("colaboradores").select("id, gestor_id, usuarios!inner(nome)").eq("usuario_id",a.id).single();if(se!=null&&se.gestor_id){const nn=((A=se.usuarios)==null?void 0:A.nome)||"Colaborador",ss=V?o(V.amount):"";await I.from("notificacoes").insert({usuario_id:se.gestor_id,titulo:"Solicitao Cancelada",mensagem:`${nn} cancelou a solicitao de ${ss}`,tipo:"warning",solicitacao_id:x,lida:!1,data_criacao:new Date().toISOString()})}}catch(se){console.error("Erro ao notificar gestor:",se)}p(!1),k(null)}};J.length,ne.length;const rn=(()=>{const A=t.filter(qe=>qe.status==="paid"&&!qe.descontado),V=A.filter(qe=>qe.currency==="EUR"),se=V.reduce((qe,Cr)=>qe+Cr.amount,0),nn=V.reduce((qe,Cr)=>qe+Cr.netAmount,0),ss=A.filter(qe=>qe.currency==="SATS"),lg=ss.reduce((qe,Cr)=>qe+Cr.amount,0),cg=ss.reduce((qe,Cr)=>qe+Cr.netAmount,0);return{euroTotal:se,satsTotal:lg,euroNetTotal:nn,satsNetTotal:cg,euroCount:V.length,satsCount:ss.length,euroAllDeducted:!1,satsAllDeducted:!1}})();return s.jsxs("div",{className:`min-h-screen ${b?"bg-[#15ff5d]":"bg-[#4dff7a] dark:bg-[#4dff7a]"}`,children:[s.jsxs("div",{className:`relative overflow-hidden ${b?"h-[65vh] min-h-[400px] max-h-[700px] bg-black":"h-[180px]"}`,children:[s.jsx(d1,{onHasBanners:mt}),b&&s.jsx("div",{className:"absolute inset-x-0 top-0 h-20 bg-gradient-to-b from-black/100 to-transparent z-10 pointer-events-none"}),!b&&s.jsx("div",{className:"h-full w-full bg-[#4dff7a] dark:bg-[#4dff7a] flex items-start justify-between px-6 pt-12 lg:hidden rounded-b-[32px] absolute top-0 left-0 z-0",children:s.jsx("img",{src:"/logos/x88.png",alt:"X88",className:"h-10 -ml-3 mt-1"})}),s.jsx("div",{className:`absolute top-0 right-0 z-20 ${b?"pt-0 pr-4":"pt-3 pr-6"}`,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{ref:z,onClick:()=>E(!P),className:b?"p-2 rounded-lg hover:bg-white/20 transition-colors":"w-9 h-9 rounded-full bg-black/10 dark:bg-black/20 flex items-center justify-center hover:bg-black/20 dark:hover:bg-black/30 transition-colors","aria-label":"Feed",children:s.jsx(Fi,{className:`w-5 h-5 ${b?"text-white":"text-black dark:text-black"}`})}),s.jsx("button",{onClick:Yt,className:b?"p-2 rounded-lg hover:bg-white/20 transition-colors":"w-9 h-9 rounded-full bg-black/10 dark:bg-black/20 flex items-center justify-center hover:bg-black/20 dark:hover:bg-black/30 transition-colors","aria-label":"Toggle dark mode",children:j?s.jsx(Iu,{className:`w-5 h-5 ${b?"text-white":"text-black dark:text-black"}`}):s.jsx(Tu,{className:`w-5 h-5 ${b?"text-white":"text-black dark:text-black"}`})}),s.jsxs("button",{ref:U,onClick:()=>S(!_),className:`${b?"p-2 rounded-lg hover:bg-white/20 transition-colors":"w-9 h-9 rounded-full bg-black/10 dark:bg-black/20 flex items-center justify-center hover:bg-black/20 dark:hover:bg-black/30 transition-colors"} relative`,"aria-label":"Notificaes",children:[s.jsx(Jr,{className:`w-5 h-5 transition-all ${b?"text-white":"text-black dark:text-black"} ${q?"animate-bell-ring":""} ${K>0&&b?"fill-white":""} ${K>0&&!b?"fill-black dark:fill-black":""}`}),K>0&&s.jsx("span",{className:"absolute -top-1 -right-1 min-w-[20px] h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center px-1.5 animate-pulse",children:K>99?"99+":K})]})]})})]}),s.jsxs("div",{className:`px-3 space-y-5 pb-32 min-h-screen relative z-10 bg-white dark:bg-black ${b?"pt-6 rounded-t-3xl":"-mt-16 rounded-t-3xl pt-6"}`,style:b?{marginTop:"max(-35vh, -320px)"}:void 0,children:[s.jsxs("button",{onClick:()=>T(!0),className:"w-full bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl p-3 flex items-center gap-3 hover:shadow-lg transition-all",children:[s.jsx("div",{className:"w-9 h-9 rounded-full overflow-hidden flex-shrink-0",children:s.jsx("img",{src:"/logos/logoAi.png",alt:"IA",className:"w-full h-full object-cover"})}),s.jsx("span",{className:"text-neutral-400 dark:text-neutral-500 text-left flex-1 text-sm",children:"Pergunte algo  IA..."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(f1,{euroTotal:rn.euroTotal,satsTotal:rn.satsTotal,euroNetTotal:rn.euroNetTotal,satsNetTotal:rn.satsNetTotal,euroCount:rn.euroCount,satsCount:rn.satsCount}),J.length>0&&s.jsx("div",{className:"space-y-4",children:J.filter(A=>A.status!=="rejected").map(A=>s.jsx(Wj,{request:A,onCancel:Ge},A.id))}),s.jsx("button",{onClick:()=>f(!0),className:"block w-full",children:s.jsx("div",{className:"card bg-[#00d749] dark:bg-[#00b83d] p-6 hover:shadow-xl transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:i("home.novo_adiantamento")}),s.jsx("p",{className:"text-white/80 text-sm mt-1 -ml-3",children:i("home.solicite_rapido")})]}),l?s.jsx("span",{className:"text-2xl font-bold text-white mr-2",children:"R$"}):s.jsx(wr,{className:"w-8 h-8 text-white mr-2"})]})})}),s.jsx("button",{onClick:()=>g(!0),className:"block w-full",children:s.jsx("div",{className:"card bg-[#E69F39] dark:bg-[#cc8a2e] p-6 hover:shadow-xl transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:i("home.receber_satoshi")}),s.jsx("p",{className:"text-white/80 text-sm mt-1",children:i("home.qr_code")})]}),s.jsx("img",{src:"/logos/BITCOIN.png",alt:"Bitcoin",className:"w-12 h-12"})]})})}),s.jsx(u1,{})]}),s.jsx(o1,{}),t.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white",children:i("home.ultimas_solicitacoes")}),s.jsx(_t,{to:"/requests",className:"text-[#00d749] text-sm font-medium",children:i("home.ver_todas")})]}),s.jsx("div",{className:"space-y-5",children:t.slice(0,5).map(A=>s.jsx("div",{onClick:()=>d(A),className:"cursor-pointer",children:s.jsxs("div",{className:"card p-4 hover:shadow-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[x1(A.status.toUpperCase()),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:(()=>{const V=A.paymentMethod.toUpperCase();return V==="MBWAY"?l?"PIX":"MB Way":V==="IBAN"?l?"Conta Bancria":"IBAN":V})()})]}),g1(A.status.toUpperCase())]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:A.status.toUpperCase()==="PAID"?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Valor Recebido"}),s.jsx("p",{className:`text-2xl font-bold ${A.currency==="SATS"?"text-[#E69F39]":"text-[#00d749]"}`,children:A.currency==="SATS"?`${Math.round(A.amount)} sats`:o(A.amount)}),A.descontado?s.jsxs("p",{className:"text-[10px] text-green-600 dark:text-green-400 mt-1 font-medium",children:[" Valor ",A.currency==="SATS"?`${Math.round(A.netAmount)} sats`:o(A.netAmount)," descontado do salrio"]}):s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"text-[10px] text-red-500 dark:text-red-400 mt-1",children:["A descontar do salrio: ",A.currency==="SATS"?`${Math.round(A.netAmount)} sats`:o(A.netAmount)]}),s.jsxs("p",{className:"text-[10px] text-red-500 dark:text-red-400",children:["em ",pa(A.paymentDate?new Date(A.paymentDate):new Date)]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Valor Solicitado"}),s.jsx("p",{className:`text-2xl font-bold ${A.currency==="SATS"?"text-[#E69F39]":"text-[#00d749]"}`,children:A.currency==="SATS"?`${Math.round(A.amount)} sats`:o(A.amount)})]})}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:s.jsx(sa,{date:A.date})})]})]})},A.id))})]}),t.length===0&&s.jsxs("div",{className:"card text-center py-12",children:[l?s.jsx("span",{className:"text-6xl font-bold text-neutral-300 dark:text-neutral-700 mx-auto mb-4 block",children:"R$"}):s.jsx(wr,{className:"w-16 h-16 text-neutral-300 dark:text-neutral-700 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-2",children:"Nenhuma solicitao ainda"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-6",children:"Faa sua primeira solicitao de adiantamento"}),s.jsx("button",{onClick:()=>f(!0),className:"btn-primary",children:"Solicitar Adiantamento"})]})]}),u&&s.jsx(eg,{request:u,onClose:()=>d(null)}),s.jsx(Z0,{isOpen:h,onClose:()=>f(!1)}),s.jsx(i1,{isOpen:v,onClose:()=>g(!1)}),s.jsx(m1,{}),s.jsx(p1,{isOpen:m,onClose:()=>{p(!1),k(null)},onConfirm:tn}),s.jsx(Y0,{isOpen:_,onClose:()=>S(!1),bellPosition:ye}),s.jsx(X0,{isOpen:P,onClose:()=>E(!1),buttonPosition:Y}),s.jsx(w1,{isOpen:R,onClose:()=>T(!1)})]})},j1=({startDate:t,endDate:e,onStartDateChange:r,onEndDateChange:n,onClear:a})=>{const[i,o]=w.useState(!1),[c,l]=w.useState(new Date),[u,d]=w.useState("start"),h=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],f=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],v=E=>{const R=E.getFullYear(),T=E.getMonth(),q=new Date(R,T,1),ye=new Date(R,T+1,0).getDate(),F=q.getDay(),Y=[];for(let O=0;O<F;O++)Y.push(null);for(let O=1;O<=ye;O++)Y.push(O);return Y},g=()=>{l(new Date(c.getFullYear(),c.getMonth()-1))},b=()=>{l(new Date(c.getFullYear(),c.getMonth()+1))},y=(E,R,T)=>{const q=String(R+1).padStart(2,"0"),ie=String(T).padStart(2,"0");return`${E}-${q}-${ie}`},m=E=>{if(!E)return null;const[R,T,q]=E.split("-").map(Number);return new Date(R,T-1,q)},p=E=>{const R=y(c.getFullYear(),c.getMonth(),E);u==="start"?(r(R),e&&new Date(R)>new Date(e)&&n(""),d("end")):(t&&new Date(R)<new Date(t)?(r(R),n(t)):n(R),o(!1),d("start"))},x=E=>{const R=y(c.getFullYear(),c.getMonth(),E);if(t===R)return"start";if(e===R)return"end";if(t&&e){const T=new Date(R),q=new Date(t),ie=new Date(e);if(T>q&&T<ie)return"range"}return!1},k=E=>{const R=new Date;return R.getDate()===E&&R.getMonth()===c.getMonth()&&R.getFullYear()===c.getFullYear()},j=E=>{if(!E)return"--/--/----";const R=m(E);return R?R.toLocaleDateString("pt-BR"):"--/--/----"},N=E=>{const R=new Date,T=new Date;T.setDate(T.getDate()-E),r(y(T.getFullYear(),T.getMonth(),T.getDate())),n(y(R.getFullYear(),R.getMonth(),R.getDate())),o(!1)},_=()=>{const E=new Date,R=new Date(E.getFullYear(),E.getMonth(),1),T=new Date(E.getFullYear(),E.getMonth()+1,0);r(y(R.getFullYear(),R.getMonth(),R.getDate())),n(y(T.getFullYear(),T.getMonth(),T.getDate())),o(!1)},S=()=>{const E=new Date,R=new Date(E.getFullYear(),E.getMonth()-1,1),T=new Date(E.getFullYear(),E.getMonth(),0);r(y(R.getFullYear(),R.getMonth(),R.getDate())),n(y(T.getFullYear(),T.getMonth(),T.getDate())),o(!1)};w.useEffect(()=>{if(i&&t){const E=m(t);E&&l(new Date(E.getFullYear(),E.getMonth(),1))}},[i]);const P=v(c);return s.jsxs("div",{className:"bg-white dark:bg-neutral-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wn,{className:"w-5 h-5 text-[#00d749]"}),s.jsx("span",{className:"font-semibold text-black dark:text-white",children:"Filtrar por Data"})]}),(t||e)&&s.jsx("button",{onClick:a,className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg transition-colors",children:s.jsx(he,{className:"w-4 h-4 text-neutral-500"})})]}),s.jsxs("button",{onClick:()=>o(!i),className:"w-full bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-xl px-4 py-3 flex items-center justify-between hover:border-[#00d749] transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"De"}),s.jsx("p",{className:`text-sm font-medium ${t?"text-black dark:text-white":"text-neutral-400"}`,children:j(t)})]}),s.jsx("div",{className:"w-px h-8 bg-neutral-300 dark:bg-neutral-600"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"At"}),s.jsx("p",{className:`text-sm font-medium ${e?"text-black dark:text-white":"text-neutral-400"}`,children:j(e)})]})]}),s.jsx(Wn,{className:"w-5 h-5 text-neutral-400"})]}),i&&Nt.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{style:{zIndex:999999},className:"fixed inset-0 bg-black/20",onClick:()=>o(!1)}),s.jsxs("div",{style:{zIndex:1e6},className:"fixed left-4 right-4 top-1/2 -translate-y-1/2 bg-white dark:bg-neutral-800 rounded-2xl shadow-2xl border border-neutral-200 dark:border-neutral-700 p-4 max-w-md mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white",children:"Selecionar Perodo"}),s.jsx("button",{onClick:()=>o(!1),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg transition-colors",children:s.jsx(he,{className:"w-5 h-5 text-neutral-500"})})]}),s.jsxs("div",{className:"flex gap-2 mb-4 flex-wrap",children:[s.jsx("button",{onClick:()=>N(7),className:"px-3 py-1.5 text-xs font-medium bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 rounded-lg hover:bg-[#00d749]/20 hover:text-[#00d749] transition-colors",children:"ltimos 7 dias"}),s.jsx("button",{onClick:()=>N(30),className:"px-3 py-1.5 text-xs font-medium bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 rounded-lg hover:bg-[#00d749]/20 hover:text-[#00d749] transition-colors",children:"ltimos 30 dias"}),s.jsx("button",{onClick:_,className:"px-3 py-1.5 text-xs font-medium bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 rounded-lg hover:bg-[#00d749]/20 hover:text-[#00d749] transition-colors",children:"Este ms"}),s.jsx("button",{onClick:S,className:"px-3 py-1.5 text-xs font-medium bg-neutral-100 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 rounded-lg hover:bg-[#00d749]/20 hover:text-[#00d749] transition-colors",children:"Ms passado"})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>d("start"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all ${u==="start"?"bg-[#00d749] text-white":"bg-neutral-100 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-400"}`,children:[s.jsx("span",{className:"text-xs block",children:"Data Inicial"}),s.jsx("span",{className:"font-bold",children:j(t)})]}),s.jsxs("button",{onClick:()=>d("end"),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all ${u==="end"?"bg-[#00d749] text-white":"bg-neutral-100 dark:bg-neutral-700 text-neutral-600 dark:text-neutral-400"}`,children:[s.jsx("span",{className:"text-xs block",children:"Data Final"}),s.jsx("span",{className:"font-bold",children:j(e)})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("button",{type:"button",onClick:g,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg transition-colors",children:s.jsx(V0,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})}),s.jsxs("h3",{className:"text-base font-bold text-black dark:text-white",children:[h[c.getMonth()]," ",c.getFullYear()]}),s.jsx("button",{type:"button",onClick:b,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg transition-colors",children:s.jsx(ra,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:f.map((E,R)=>s.jsx("div",{className:"text-center text-xs font-semibold text-neutral-500 dark:text-neutral-400 py-2",children:E},R))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:P.map((E,R)=>{const T=E?x(E):!1;return s.jsx("div",{children:E?s.jsx("button",{type:"button",onClick:()=>p(E),className:`w-full aspect-square rounded-lg text-sm font-medium transition-all ${T==="start"||T==="end"?"bg-[#00d749] text-white shadow-lg":T==="range"?"bg-[#00d749]/20 text-[#00d749]":k(E)?"bg-neutral-200 dark:bg-neutral-600 text-black dark:text-white font-bold":"hover:bg-neutral-100 dark:hover:bg-neutral-700 text-black dark:text-white"}`,children:E}):s.jsx("div",{className:"w-full aspect-square"})},R)})}),s.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[s.jsx("button",{type:"button",onClick:()=>{a(),o(!1)},className:"flex-1 py-3 bg-neutral-200 dark:bg-neutral-700 text-neutral-800 dark:text-neutral-200 font-semibold text-sm rounded-xl hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",children:"Limpar"}),s.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-3 bg-[#00d749] text-white font-semibold text-sm rounded-xl hover:bg-[#00c040] transition-colors",children:"Aplicar"})]})]})]}),document.body)]})},N1=()=>{const{requests:t}=It(),{formatCurrency:e,language:r}=Ne(),n=r==="pt-BR",[a,i]=w.useState("ALL"),[o,c]=w.useState(!1),[l,u]=w.useState(""),[d,h]=w.useState(""),f=w.useMemo(()=>t.filter(y=>{let m=!0;a==="ALL"?m=!0:a==="approved"?m=y.status==="approved"||y.status==="paid":a==="pending"?m=y.status==="pending"||y.status==="processing"||y.status==="verifying":a==="canceled"?m=y.status==="canceled":m=y.status===a;let p=!0;if(l||d){const x=new Date(y.date);if(x.setHours(0,0,0,0),l){const k=new Date(l);k.setHours(0,0,0,0),x<k&&(p=!1)}if(d){const k=new Date(d);k.setHours(23,59,59,999),x>k&&(p=!1)}}return m&&p}),[t,a,l,d]),v=y=>{switch(y){case"pending":case"processing":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-500/20 text-yellow-600",children:"Pendente"});case"approved":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-[#00d749]/20 text-[#00d749]",children:"Aprovada"});case"rejected":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-red-500/20 text-red-600",children:"Rejeitada"});case"paid":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-[#00d749]/20 text-[#00d749]",children:"Paga"});case"verifying":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-500/20 text-yellow-600",children:"Em Verificao"});case"canceled":return s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-neutral-500/20 text-neutral-600 dark:text-neutral-400",children:"Cancelada"});default:return null}},g=y=>{switch(y){case"pending":case"processing":case"verifying":return s.jsx(Ot,{className:"w-6 h-6 text-yellow-600"});case"approved":case"paid":return s.jsx(Ue,{className:"w-6 h-6 text-[#00d749]"});case"rejected":return s.jsx(Hn,{className:"w-6 h-6 text-red-600"});case"canceled":return s.jsx(yj,{className:"w-6 h-6 text-neutral-500"});default:return null}},b=y=>y==="mbway"?n?"PIX":"MB Way":y==="satoshi"?"Satoshi (Lightning)":n?"Conta Bancria":"IBAN";return s.jsxs("div",{className:"p-4 pt-4 space-y-6 pb-40",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Minhas Solicitaes"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Acompanhe o status dos seus pedidos"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>c(!o),className:"w-full bg-white dark:bg-neutral-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl px-4 py-3 flex items-center justify-between font-semibold text-black dark:text-white hover:border-[#00d749] transition-all",children:[s.jsxs("span",{children:[a==="ALL"&&"Todas",a==="pending"&&"Pendentes",a==="approved"&&"Aprovadas",a==="rejected"&&"Rejeitadas",a==="canceled"&&"Canceladas"]}),s.jsx(wj,{className:`w-5 h-5 transition-transform ${o?"rotate-180":""}`})]}),o&&s.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white dark:bg-neutral-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl shadow-lg overflow-hidden",children:[{value:"ALL",label:"Todas"},{value:"pending",label:"Pendentes"},{value:"approved",label:"Aprovadas"},{value:"rejected",label:"Rejeitadas"},{value:"canceled",label:"Canceladas"}].map(y=>s.jsx("button",{onClick:()=>{i(y.value),c(!1)},className:`w-full px-4 py-3 text-left font-medium transition-colors ${a===y.value?"bg-[#00d749] text-white":"text-black dark:text-white hover:bg-neutral-100 dark:hover:bg-neutral-700"}`,children:y.label},y.value))})]}),s.jsx(j1,{startDate:l,endDate:d,onStartDateChange:u,onEndDateChange:h,onClear:()=>{u(""),h("")}})]}),s.jsx("div",{className:"space-y-5",children:f.length===0?s.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-md p-10 text-center",children:[s.jsx(fo,{className:"w-16 h-16 text-neutral-400 mx-auto mb-4"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 text-lg font-medium",children:"Nenhuma solicitao encontrada"})]}):f.map(y=>s.jsx(_t,{to:`/requests/${y.id}`,className:"block",children:s.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-2xl shadow-md p-5 hover:shadow-xl transition-all hover:scale-[1.02]",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g(y.status),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-black dark:text-white",children:"Adiantamento"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Qt,{className:"w-4 h-4 text-neutral-500"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 font-medium",children:b(y.paymentMethod)})]})]})]}),v(y.status)]}),s.jsx("div",{className:"bg-neutral-50 dark:bg-neutral-900 rounded-xl p-4 mb-3",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-1",children:"Valor Solicitado"}),s.jsx("p",{className:`text-xl font-bold ${y.currency==="SATS"?"text-[#E69F39]":"text-[#00d749]"}`,children:y.currency==="SATS"?`${y.amount} sats`:e(y.amount)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mb-1",children:y.status==="paid"&&y.descontado?"Descontado":"A Descontar"}),s.jsx("p",{className:`text-xl font-bold ${y.status==="paid"&&y.descontado?"text-green-600 dark:text-green-400":"text-red-600"}`,children:y.currency==="SATS"?`${Math.round(y.netAmount)} sats`:e(y.netAmount)})]})]})}),y.descontado&&s.jsxs("div",{className:"flex items-center gap-2 mb-3 px-3 py-2 bg-green-50 dark:bg-green-950/30 rounded-lg border border-green-200 dark:border-green-800",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500 flex items-center justify-center",children:s.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),s.jsx("span",{className:"text-xs text-green-700 dark:text-green-400 font-semibold",children:"Valor descontado do salrio"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-neutral-200 dark:border-neutral-700",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ot,{className:"w-4 h-4 text-neutral-500"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:s.jsx(sa,{date:y.date})})]}),s.jsx("p",{className:"text-sm text-[#00d749] font-semibold",children:"Ver detalhes "})]})]})},y.id))})]})},_1=()=>{var y,m,p;const t=ze(),{addRequest:e}=It(),{user:r}=je(),{formatCurrency:n,currencySymbol:a,language:i}=Ne(),o=i==="pt-BR",c=(r==null?void 0:r.interestRate)||10,l=c/100,u=1+l,[d,h]=w.useState(1),[f,v]=w.useState({amount:"",payoutMethod:"mbway"});w.useEffect(()=>{var x;(x=r==null?void 0:r.bankDetails)!=null&&x.preferredMethod&&v(k=>({...k,payoutMethod:r.bankDetails.preferredMethod}))},[r]);const g=x=>{if(x.preventDefault(),d<2)h(d+1);else{const k=parseFloat(f.amount),j=k*u;e({amount:k,paymentMethod:f.payoutMethod.toLowerCase(),status:"pending",date:new Date().toISOString(),netAmount:j,accountDetails:f.payoutMethod}),t("/")}},b=()=>f.amount&&parseFloat(f.amount)>0;return s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>d>1?h(d-1):t(-1),className:"p-4 -m-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 active:bg-neutral-200 dark:active:bg-neutral-700",children:s.jsx(De,{className:"w-6 h-6 text-neutral-600 dark:text-neutral-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Nova Solicitao"}),s.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Passo ",d," de 2"]})]})]}),s.jsx("div",{className:"flex gap-2",children:[1,2].map(x=>s.jsx("div",{className:`h-1 flex-1 rounded-full ${x<=d?"bg-[#00d749]":"bg-neutral-200 dark:bg-neutral-800"}`},x))}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[d===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card",children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:[i==="pt-BR"?s.jsx(W0,{className:"w-4 h-4 inline mr-2"}):s.jsx(wr,{className:"w-4 h-4 inline mr-2"}),"Valor do Adiantamento"]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-bold text-neutral-400",children:a}),s.jsx("input",{type:"number",value:f.amount,onChange:x=>v({...f,amount:x.target.value}),className:"input w-full pl-12 text-2xl font-bold",placeholder:"0",step:"0.01",min:"0",required:!0})]}),s.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-2",children:["Valor total com taxa (",c,"% de taxa de servio):"," ",f.amount?n(parseFloat(f.amount)*u):n(0)]})]}),s.jsxs("div",{className:"card",children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-3",children:"Mtodo de Recebimento"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{type:"button",onClick:()=>v({...f,payoutMethod:"mbway"}),className:`w-full p-4 rounded-xl border-2 transition-all flex items-center gap-3 ${f.payoutMethod==="mbway"?"border-[#00d749] bg-[#00d749]/10":"border-neutral-200 dark:border-neutral-800"}`,children:[s.jsx(In,{className:"w-6 h-6 text-[#00d749]"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:o?"PIX":"MB Way"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:((y=r==null?void 0:r.bankDetails)==null?void 0:y.mbwayPhone)||"No configurado"})]})]}),s.jsxs("button",{type:"button",onClick:()=>v({...f,payoutMethod:"iban"}),className:`w-full p-4 rounded-xl border-2 transition-all flex items-center gap-3 ${f.payoutMethod==="iban"?"border-[#00d749] bg-[#00d749]/10":"border-neutral-200 dark:border-neutral-800"}`,children:[s.jsx(Qt,{className:"w-6 h-6 text-[#00d749]"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:o?"Conta Bancria":"IBAN"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 font-mono truncate max-w-[200px]",children:((m=r==null?void 0:r.bankDetails)==null?void 0:m.iban)||"No configurado"})]})]}),s.jsxs("button",{type:"button",onClick:()=>v({...f,payoutMethod:"satoshi"}),className:`w-full p-4 rounded-xl border-2 transition-all flex items-center gap-3 ${f.payoutMethod==="satoshi"?"border-[#f7931a] bg-[#f7931a]/10":"border-neutral-200 dark:border-neutral-800"}`,children:[s.jsx(zi,{className:"w-6 h-6 text-[#f7931a]"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:"Lightning Network (Sats)"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:(p=r==null?void 0:r.bankDetails)!=null&&p.wallet?"Carteira configurada":"No configurada"})]})]})]})]})]}),d===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"card bg-[#00d749]/10 border-[#00d749]",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-4",children:"Confirme os Dados"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b border-neutral-200 dark:border-neutral-800",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Valor solicitado"}),s.jsx("span",{className:"font-bold text-black dark:text-white",children:n(parseFloat(f.amount))})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-neutral-200 dark:border-neutral-800",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Voc receber"}),s.jsx("span",{className:"text-2xl font-bold text-[#00d749]",children:n(parseFloat(f.amount))})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b border-neutral-200 dark:border-neutral-800",children:[s.jsxs("span",{className:"text-neutral-600 dark:text-neutral-400",children:["Taxa de Servio (",c,"%)"]}),s.jsxs("span",{className:"font-bold text-orange-500",children:["+",n(parseFloat(f.amount)*l)]})]}),s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Valor pendente"}),s.jsx("span",{className:"text-xl font-bold text-red-600",children:n(parseFloat(f.amount)*u)})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3 pt-3 border-t border-neutral-200 dark:border-neutral-800",children:[s.jsx(Wn,{className:"w-4 h-4 text-red-500"}),s.jsxs("span",{className:"text-sm text-red-500 font-medium",children:["Processamento em: ",pa()]})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-neutral-200 dark:border-neutral-800",children:s.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:[s.jsx("strong",{children:"Recebimento via:"})," ",f.payoutMethod==="mbway"?o?"PIX":"MB Way":f.payoutMethod==="iban"?o?"Conta Bancria":"IBAN":"Lightning Network (Sats)"]})})]}),s.jsx("div",{className:"card",children:s.jsxs("label",{className:"flex items-start gap-3",children:[s.jsx("input",{type:"checkbox",className:"mt-1",required:!0}),s.jsxs("span",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Confirmo que as informaes esto corretas e aceito os"," ",s.jsx("a",{href:"#",className:"text-[#00d749] font-medium",children:"termos e condies"})]})]})})]}),s.jsx("button",{type:"submit",disabled:!b(),className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:d===2?"Enviar Solicitao":"Continuar"})]})]})},S1=()=>{const{id:t}=hy(),e=ze(),{getRequestById:r}=It(),{formatCurrency:n,language:a}=Ne(),i=a==="pt-BR",[o,c]=w.useState(!1),{config:l,handleContactWhatsapp:u}=Du(),d=r(t||"");if(w.useEffect(()=>{c(!0)},[]),!d)return s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("button",{onClick:()=>e(-1),className:"p-4 -m-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 active:bg-neutral-200 dark:active:bg-neutral-700",children:s.jsx(De,{className:"w-6 h-6 text-neutral-600 dark:text-neutral-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Solicitao no encontrada"})]}),s.jsx("div",{className:"card text-center",children:s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"A solicitao que voc est procurando no existe."})})]});const h=d.netAmount-d.amount,f=g=>{switch(g){case"pending":return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400 rounded-full text-sm font-medium",children:[s.jsx(Ot,{className:"w-4 h-4"}),"Pendente"]});case"processing":return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400 rounded-full text-sm font-medium",children:[s.jsx(Ot,{className:"w-4 h-4"}),"Em Anlise"]});case"approved":return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-[#00d749]/10 text-[#00d749] rounded-full text-sm font-medium",children:[s.jsx(Ue,{className:"w-4 h-4"}),"Aprovada"]});case"rejected":return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400 rounded-full text-sm font-medium",children:[s.jsx(Hn,{className:"w-4 h-4"}),"Rejeitada"]});case"paid":return s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-[#00d749]/10 text-[#00d749] rounded-full text-sm font-medium",children:[s.jsx(Ue,{className:"w-4 h-4"}),"Paga"]});default:return null}},v=g=>{switch(g){case"pending":return"Pendente";case"processing":return"Em Anlise";case"approved":return"Aprovada";case"rejected":return"Rejeitada";case"paid":return"Paga";default:return g}};return s.jsxs("div",{className:`p-4 pb-20 space-y-6 transition-all duration-700 ${o?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>e(-1),className:"p-4 -m-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 active:bg-neutral-200 dark:active:bg-neutral-700",children:s.jsx(De,{className:"w-6 h-6 text-neutral-600 dark:text-neutral-400"})}),s.jsx("div",{className:"flex-1",children:s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Detalhes"})}),f(d.status)]}),s.jsxs("div",{className:`card text-center ${d.currency==="SATS"?"bg-[#E69F39]/10 border-[#E69F39]":"bg-[#00d749]/10 border-[#00d749]"}`,children:[s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-2",children:d.status==="paid"?"Voc Recebeu":"Voc Receber"}),s.jsx("p",{className:`text-5xl font-bold mb-4 ${d.currency==="SATS"?"text-[#E69F39]":"text-[#00d749]"}`,children:d.currency==="SATS"?`${d.amount} sats`:n(d.amount)}),s.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Taxa de Servio"}),s.jsx("p",{className:"font-semibold text-orange-500",children:d.currency==="SATS"?`+${h} sats`:`+${n(h)}`})]}),s.jsx("div",{className:"w-px h-8 bg-neutral-300 dark:bg-neutral-700"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:d.descontado?"Processado":"Valor Pendente"}),s.jsx("p",{className:`font-semibold ${d.descontado?"text-green-600 dark:text-green-400":"text-red-600"}`,children:d.currency==="SATS"?`${Math.round(d.netAmount)} sats`:n(d.netAmount)})]})]}),d.status!=="paid"&&d.status!=="rejected"&&s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[s.jsx(Wn,{className:"w-4 h-4 text-red-500"}),s.jsxs("span",{className:"text-sm text-red-500 font-medium",children:["Processamento em: ",pa()]})]}),d.descontado&&s.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 pt-4 border-t border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-950/30 -mx-4 -mb-4 px-4 py-3 rounded-b-xl",children:[s.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),s.jsx("span",{className:"text-sm text-green-700 dark:text-green-400 font-semibold",children:"Valor processado"})]})]}),s.jsxs("div",{className:"card space-y-4",children:[s.jsx("h3",{className:"font-bold text-black dark:text-white text-lg mb-2",children:"Dados da Solicitao"}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ma,{className:"w-5 h-5 text-[#00d749] mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Nome Completo"}),s.jsx("p",{className:"font-semibold text-black dark:text-white",children:"Joo Silva"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ou,{className:"w-5 h-5 text-[#00d749] mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Telefone"}),s.jsx("p",{className:"font-semibold text-black dark:text-white",children:"+351 912 345 678"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[i?s.jsx(W0,{className:"w-5 h-5 text-[#00d749] mt-0.5"}):s.jsx(wr,{className:"w-5 h-5 text-[#00d749] mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Mtodo de Recebimento"}),s.jsx("p",{className:"font-semibold text-black dark:text-white",children:d.paymentMethod==="mbway"?i?"PIX":"MB Way":i?"Conta Bancria":"IBAN"}),s.jsx("p",{className:"text-sm font-mono text-neutral-600 dark:text-neutral-400 mt-1 bg-neutral-100 dark:bg-neutral-800 px-3 py-2 rounded-lg",children:d.paymentMethod==="mbway"?"+351 912 345 678":d.accountDetails||"No informado"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wn,{className:"w-5 h-5 text-[#00d749] mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Data da Solicitao"}),s.jsx("p",{className:"font-semibold text-black dark:text-white",children:s.jsx(sa,{date:d.createdAt,options:{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}})})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(fo,{className:"w-5 h-5 text-[#00d749] mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Status"}),s.jsx("p",{className:"font-semibold text-black dark:text-white",children:v(d.status)})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"font-bold text-black dark:text-white mb-4",children:"Linha do Tempo"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${d.progressStep>=0?"bg-[#00d749]":"bg-neutral-200 dark:bg-neutral-800"}`,children:s.jsx(Ot,{className:`w-5 h-5 flex-shrink-0 ${d.progressStep>=0?"text-white":"text-neutral-400"}`})}),d.progressStep>0&&d.status!=="rejected"&&s.jsx("div",{className:"w-0.5 h-full bg-[#00d749] mt-2"})]}),s.jsxs("div",{className:"flex-1 pb-4",children:[s.jsx("p",{className:`font-semibold ${d.progressStep>=0?"text-[#00d749]":"text-neutral-400"}`,children:"Solicitao Enviada"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:s.jsx(sa,{date:d.createdAt,options:{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}})})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${d.progressStep>=1?"bg-[#00d749]":"bg-neutral-200 dark:bg-neutral-800"}`,children:s.jsx(po,{className:`w-5 h-5 flex-shrink-0 ${d.progressStep>=1?"text-white":"text-neutral-400"}`})}),d.progressStep>1&&d.status!=="rejected"&&s.jsx("div",{className:"w-0.5 h-full bg-[#00d749] mt-2"})]}),s.jsxs("div",{className:"flex-1 pb-4",children:[s.jsx("p",{className:`font-semibold ${d.progressStep>=1?"text-[#00d749]":"text-neutral-400"}`,children:"Em Anlise"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Sua solicitao est sendo analisada"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${d.progressStep>=2?"bg-[#00d749]":"bg-neutral-200 dark:bg-neutral-800"}`,children:s.jsx(Qt,{className:`w-5 h-5 flex-shrink-0 ${d.progressStep>=2?"text-white":"text-neutral-400"}`})}),d.progressStep>2&&d.status!=="rejected"&&s.jsx("div",{className:"w-0.5 h-full bg-[#00d749] mt-2"})]}),s.jsxs("div",{className:"flex-1 pb-4",children:[s.jsx("p",{className:`font-semibold ${d.progressStep>=2?"text-[#00d749]":"text-neutral-400"}`,children:"Processando"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Preparando aprovao da solicitao"})]})]}),d.status==="rejected"?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex flex-col items-center flex-shrink-0",children:s.jsx("div",{className:"w-10 h-10 rounded-full bg-red-600 flex items-center justify-center flex-shrink-0",children:s.jsx(Hn,{className:"w-5 h-5 text-white flex-shrink-0"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-red-600",children:"Negado"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Sua solicitao no foi aprovada desta vez"})]})]}),s.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/10 border border-red-200 dark:border-red-800 rounded-xl",children:s.jsxs("p",{className:"text-sm text-red-700 dark:text-red-500",children:[s.jsx("strong",{children:"Motivo:"})," Sua solicitao foi analisada e no atendeu aos critrios necessrios para aprovao. Entre em contato com o suporte para mais informaes."]})}),l.whatsapp_suporte&&s.jsxs("button",{onClick:u,className:"w-full py-3 bg-[#25D366] text-white font-semibold rounded-xl hover:bg-[#20BD5A] transition-colors flex items-center justify-center gap-2",children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WhatsApp",className:"w-5 h-5"}),"Falar com Suporte"]})]}):s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex flex-col items-center flex-shrink-0",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${d.progressStep>=3?"bg-[#00d749]":"bg-neutral-200 dark:bg-neutral-800"}`,children:s.jsx(ta,{className:`w-5 h-5 flex-shrink-0 ${d.progressStep>=3?"text-white":"text-neutral-400"}`})}),d.progressStep>3&&s.jsx("div",{className:"w-0.5 h-full bg-[#00d749] mt-2"})]}),s.jsxs("div",{className:"flex-1 pb-4",children:[s.jsx("p",{className:`font-semibold ${d.progressStep>=3?"text-[#00d749]":"text-neutral-400"}`,children:"Aprovado"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Solicitao aprovada, aguardando pagamento"})]})]}),d.status!=="rejected"&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"flex flex-col items-center flex-shrink-0",children:s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${d.progressStep>=4?"bg-[#00d749]":"bg-neutral-200 dark:bg-neutral-800"}`,children:s.jsx(xj,{className:`w-6 h-6 flex-shrink-0 ${d.progressStep>=4?"text-white":"text-neutral-400"}`})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:`font-semibold ${d.progressStep>=4?"text-[#00d749]":"text-neutral-400"}`,children:"Transferido"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"O pagamento foi transferido para sua conta"})]})]})]})]}),d.status==="approved"&&s.jsxs("div",{className:"card bg-[#00d749]/10 border-[#00d749]",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-2",children:"Aguardando Pagamento"}),s.jsx("p",{className:"text-neutral-700 dark:text-neutral-300",children:"Sua solicitao foi aprovada! O pagamento ser processado em breve e voc receber uma notificao."})]})]})},Uh=({selected:t,onChange:e,label:r})=>{const[n,a]=w.useState(t||new Date),[i,o]=w.useState(!1),{formatDate:c}=Ne(),l=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],u=["D","S","T","Q","Q","S","S"],d=p=>{const x=p.getFullYear(),k=p.getMonth(),j=new Date(x,k,1),_=new Date(x,k+1,0).getDate(),S=j.getDay(),P=[];for(let E=0;E<S;E++)P.push(null);for(let E=1;E<=_;E++)P.push(E);return P},h=()=>{a(new Date(n.getFullYear(),n.getMonth()-1))},f=()=>{a(new Date(n.getFullYear(),n.getMonth()+1))},v=p=>{const x=new Date(n.getFullYear(),n.getMonth(),p);e(x),o(!1)},g=p=>t?t.getDate()===p&&t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear():!1,b=p=>{const x=new Date;return x.getDate()===p&&x.getMonth()===n.getMonth()&&x.getFullYear()===n.getFullYear()},y=p=>p?c(p,{day:"2-digit",month:"2-digit",year:"numeric"}):"dd/mm/aaaa",m=d(n);return s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:r}),s.jsx("button",{type:"button",onClick:()=>o(!i),className:"w-full px-4 py-3 rounded-xl border border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-800 text-black dark:text-white focus:outline-none focus:ring-2 focus:ring-[#00d749] transition-all text-left",children:y(t)}),i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>o(!1)}),s.jsxs("div",{className:"absolute left-0 right-0 mt-2 z-50 bg-white dark:bg-neutral-800 rounded-xl shadow-2xl border border-neutral-200 dark:border-neutral-700 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("button",{type:"button",onClick:h,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg transition-colors",children:s.jsx(V0,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})}),s.jsxs("h3",{className:"text-base font-bold text-black dark:text-white",children:[l[n.getMonth()]," de ",n.getFullYear()]}),s.jsx("button",{type:"button",onClick:f,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-700 rounded-lg transition-colors",children:s.jsx(ra,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})})]}),s.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:u.map((p,x)=>s.jsx("div",{className:"text-center text-xs font-semibold text-neutral-500 dark:text-neutral-400 py-2",children:p},x))}),s.jsx("div",{className:"grid grid-cols-7 gap-1",children:m.map((p,x)=>s.jsx("div",{children:p?s.jsx("button",{type:"button",onClick:()=>v(p),className:`w-full aspect-square rounded-lg text-sm font-medium transition-all ${g(p)?"bg-[#00d749] text-white":b(p)?"bg-[#00d749]/20 text-[#00d749] font-bold":"hover:bg-neutral-100 dark:hover:bg-neutral-700 text-black dark:text-white"}`,children:p}):s.jsx("div",{className:"w-full aspect-square"})},x))}),s.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-neutral-200 dark:border-neutral-700",children:[s.jsx("button",{type:"button",onClick:()=>{e(new Date),o(!1)},className:"flex-1 py-2 text-[#00d749] font-medium text-sm hover:bg-[#00d749]/10 rounded-lg transition-colors",children:"Hoje"}),s.jsx("button",{type:"button",onClick:()=>o(!1),className:"flex-1 py-2 bg-neutral-200 dark:bg-neutral-700 text-neutral-800 dark:text-neutral-200 font-medium text-sm rounded-lg hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",children:"Fechar"})]})]})]})]})},E1=()=>{const{requests:t}=It(),{formatCurrency:e,language:r}=Ne(),n=r==="pt-BR",[a,i]=w.useState(null),[o,c]=w.useState(!1),[l,u]=w.useState(null),[d,h]=w.useState(null),[f,v]=w.useState(null),[g,b]=w.useState(null),y=t.filter(x=>x.status==="paid").filter(x=>{if(!l&&!d)return!0;const k=new Date(x.createdAt);k.setHours(0,0,0,0);const j=l?new Date(l):null;j&&j.setHours(0,0,0,0);const N=d?new Date(d):null;return N&&N.setHours(23,59,59,999),j&&N?k>=j&&k<=N:j?k>=j:N?k<=N:!0}).sort((x,k)=>k.createdAt-x.createdAt),m=()=>{u(f),h(g),c(!1)},p=()=>{u(null),h(null),v(null),b(null),c(!1)};return s.jsxs("div",{className:"pb-40 bg-neutral-50 dark:bg-neutral-950 min-h-screen",children:[s.jsxs("div",{className:"bg-[#00d749] p-6 pt-4 pb-12 rounded-b-3xl",children:[s.jsx("h1",{className:"text-3xl font-bold mb-1 text-black",children:"Histrico"}),s.jsx("p",{className:"text-black/80 text-sm",children:"Histrico de pagamentos"})]}),s.jsxs("div",{className:"px-4 mt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white",children:"Histrico de Pagamentos"}),s.jsxs("div",{className:"flex items-center gap-2",children:[(l||d)&&s.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-3 py-2 bg-red-100 dark:bg-red-900/20 text-red-600 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/30 transition-colors text-sm font-medium",children:[s.jsx(he,{className:"w-4 h-4"}),"Limpar"]}),s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#00d749] text-white rounded-lg hover:bg-[#00dc43] transition-colors text-sm font-medium",children:[s.jsx(Wn,{className:"w-4 h-4"}),"Filtrar"]})]})]}),y.length===0?s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-8 shadow-md border border-neutral-100 dark:border-neutral-800 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-neutral-100 dark:bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-3",children:s.jsx(po,{className:"w-8 h-8 text-neutral-400"})}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 font-medium",children:"Voc ainda no possui pagamentos recebidos."})]}):s.jsx("div",{className:"space-y-3",children:y.map(x=>s.jsx("div",{onClick:()=>i(x),className:"bg-white dark:bg-neutral-900 rounded-2xl p-4 shadow-md border border-neutral-100 dark:border-neutral-800 hover:shadow-lg transition-shadow cursor-pointer",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"font-bold text-base text-black dark:text-white mb-1",children:["Pedido via ",x.currency==="SATS"?"Satoshi":x.paymentMethod==="mbway"?n?"PIX":"MB Way":n?"Conta Bancria":"IBAN"]}),s.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:s.jsx(sa,{date:x.createdAt,options:{day:"2-digit",month:"long",year:"numeric"}})})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:`font-bold text-xl mb-1 ${x.currency==="SATS"?"text-[#E69F39]":"text-black dark:text-white"}`,children:x.currency==="SATS"?`${Math.round(x.amount)} sats`:e(x.amount)}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${x.currency==="SATS"?"bg-[#E69F39]/10 text-[#E69F39]":"bg-[#00d749]/10 text-[#00d749]"}`,children:"Recebido"})]})]})},x.id))})]}),a&&s.jsx(eg,{request:a,onClose:()=>i(null)}),o&&s.jsx("div",{className:"fixed bg-black/50 backdrop-blur-sm flex items-start justify-center p-4 pt-6",style:{zIndex:99999,top:0,left:0,right:0,bottom:0,position:"fixed",width:"100vw",height:"100vh",margin:0,padding:"1.5rem 1rem"},onClick:()=>c(!1),children:s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl max-w-md w-full p-6 relative",onClick:x=>x.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-xl font-bold text-black dark:text-white",children:"Filtrar por Data"}),s.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-full transition-colors",children:s.jsx(he,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Uh,{label:"Data Inicial",selected:f,onChange:v}),s.jsx(Uh,{label:"Data Final",selected:g,onChange:b})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>c(!1),className:"flex-1 py-3 bg-neutral-200 dark:bg-neutral-700 text-neutral-800 dark:text-neutral-200 font-semibold rounded-xl hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:m,className:"flex-1 py-3 bg-[#00d749] text-white font-semibold rounded-xl hover:bg-[#00dc43] transition-colors",children:"Aplicar Filtro"})]})]})})]})},C1=({isOpen:t,onClose:e,onConfirm:r})=>t?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:e}),s.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 w-full max-w-sm rounded-3xl p-6 shadow-2xl transform transition-all scale-100",children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800 text-neutral-400 transition-colors",children:s.jsx(he,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-6",children:s.jsx(K0,{className:"w-8 h-8 text-red-600 dark:text-red-500"})}),s.jsx("h3",{className:"text-xl font-bold text-black dark:text-white mb-2",children:"Sair da Conta"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8",children:"Tem certeza que deseja sair? Voc precisar fazer login novamente para acessar o aplicativo."}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:e,className:"flex-1 py-3.5 rounded-xl font-semibold text-neutral-700 dark:text-neutral-300 bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",children:"Cancelar"}),s.jsx("button",{onClick:r,className:"flex-1 py-3.5 rounded-xl font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors shadow-lg shadow-red-600/20",children:"Sim, Sair"})]})]})]})]}):null,P1=({isOpen:t,onClose:e,onConfirm:r,isLoading:n})=>{const[a,i]=w.useState(""),[o,c]=w.useState(!1),[l,u]=w.useState("");if(!t)return null;const d=async()=>{if(!a){u("Digite sua senha para confirmar");return}u("");try{await r(a),i("")}catch{}},h=()=>{i(""),u(""),e()};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4",children:[s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity",onClick:h}),s.jsxs("div",{className:"relative bg-white dark:bg-neutral-900 w-full max-w-sm rounded-3xl p-6 shadow-2xl transform transition-all scale-100",children:[s.jsx("button",{onClick:h,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-neutral-100 dark:hover:bg-neutral-800 text-neutral-400 transition-colors",children:s.jsx(he,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mb-6",children:s.jsx(Au,{className:"w-8 h-8 text-red-600 dark:text-red-500"})}),s.jsx("h3",{className:"text-xl font-bold text-black dark:text-white mb-2",children:"Excluir Conta"}),s.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400 mb-6 text-sm",children:["Tem certeza que deseja excluir sua conta? Esta ao ",s.jsx("b",{children:"no pode ser desfeita"}),". Todos os seus dados, histrico e solicitaes sero apagados permanentemente."]}),s.jsxs("div",{className:"w-full mb-6",children:[s.jsx("label",{className:"block text-left text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Digite sua senha para confirmar"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:o?"text":"password",value:a,onChange:f=>i(f.target.value),className:"w-full p-3 rounded-xl bg-neutral-100 dark:bg-neutral-800 border-transparent focus:border-red-500 focus:ring-0 text-black dark:text-white",placeholder:"Sua senha atual"}),s.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-400",children:o?s.jsx(Ft,{size:20}):s.jsx(zt,{size:20})})]}),l&&s.jsx("p",{className:"text-red-500 text-xs text-left mt-1",children:l})]}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx("button",{onClick:h,disabled:n,className:"flex-1 py-3.5 rounded-xl font-semibold text-neutral-700 dark:text-neutral-300 bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors disabled:opacity-50",children:"Cancelar"}),s.jsx("button",{onClick:d,disabled:n,className:"flex-1 py-3.5 rounded-xl font-semibold text-white bg-red-600 hover:bg-red-700 transition-colors shadow-lg shadow-red-600/20 disabled:opacity-50 flex items-center justify-center",children:n?"Excluindo...":"Excluir"})]})]})]})]})},R1=()=>{const t=ze(),[e]=pp(),r=e.get("from")==="chatpopup",{user:n,logout:a,login:i,updateAvatar:o}=je(),{language:c}=Ne(),l=c==="pt-BR",[u,d]=w.useState(!1),[h,f]=w.useState(!1),[v,g]=w.useState(!1),[b,y]=w.useState(!1),[m,p]=w.useState(""),[x,k]=w.useState(!1),j=w.useRef(null);w.useEffect(()=>{n!=null&&n.avatarUrl&&Ru(n.avatarUrl).then(p)},[n==null?void 0:n.avatarUrl]);const N=()=>{a(),t("/auth/login")},_=async F=>{g(!0);try{const{error:Y,success:O}=await i((n==null?void 0:n.email)||"",F);if(!O||Y)throw alert("Senha incorreta. Por favor, tente novamente."),g(!1),new Error("Senha incorreta");const{error:U}=await I.rpc("delete_own_account");if(U)throw U;await a(),t("/auth/login")}catch(Y){throw console.error("Erro ao excluir conta:",Y),Y.message!=="Senha incorreta"&&alert("Erro ao excluir conta. Tente novamente."),g(!1),Y}},S=()=>{var F;(F=j.current)==null||F.click()},P=()=>{k(!0)},E=async()=>{if(confirm("Tem certeza que deseja remover sua foto?")){y(!0);try{const F=await o(null);F.success?(p(""),k(!1)):alert("Erro ao remover foto: "+F.error)}catch(F){console.error("Erro ao remover foto:",F),alert("Erro ao remover foto.")}finally{y(!1)}}},R=()=>{var F;k(!1),(F=j.current)==null||F.click()},T=async F=>{var O;const Y=(O=F.target.files)==null?void 0:O[0];if(Y){if(!Y.type.startsWith("image/")){alert("Por favor, selecione uma imagem vlida.");return}if(Y.size>5*1024*1024){alert("A imagem deve ter no mximo 5MB.");return}y(!0);try{const U=await o(Y);U.success||alert("Erro ao atualizar foto: "+U.error)}catch(U){console.error("Erro ao fazer upload:",U),alert("Erro ao fazer upload da foto.")}finally{y(!1),j.current&&(j.current.value="")}}};if(!n)return null;const q=[{icon:ma,label:"Dados Pessoais",description:"Nome, email, telefone",path:"/profile/personal"},{icon:Qt,label:"Dados Bancrios",description:l?"PIX e Conta Bancria":"IBAN e MB Way",path:"/profile/bank"},{icon:Jr,label:"Notificaes",description:"Preferncias de notificao",path:"/profile/notifications"},{icon:J0,label:"Privacidade e Segurana",description:"Senha e permisses",path:"/profile/security"},{icon:H0,label:"Idioma e Regio",description:"Fuso horrio e idioma",path:"/profile/language"},{icon:Q0,label:"Ajuda",description:"Suporte e dvidas",path:"/profile/help"}],ie=[{icon:fo,label:"Termos de Uso",description:"Leia os termos do servio",path:"/legal/terms"},{icon:Yr,label:"Poltica de Privacidade",description:"Como protegemos seus dados",path:"/legal/privacy"}],ye=()=>{sessionStorage.setItem("x88_chat_return","true"),t("/")};return s.jsxs("div",{className:"p-4 pt-4 space-y-6 pb-40",children:[r&&s.jsxs("button",{onClick:ye,className:"flex items-center gap-2 text-[#00d749] font-medium -mt-2 mb-2",children:[s.jsx(De,{className:"w-5 h-5"}),"Voltar ao Chat"]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Meu Perfil"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Gerencie suas informaes pessoais"})]}),s.jsx("input",{type:"file",ref:j,onChange:T,accept:"image/*",className:"hidden"}),s.jsx("div",{className:"card bg-[#00d749] text-white",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex-shrink-0",children:[s.jsx("button",{onClick:S,disabled:b,className:"w-16 h-16 rounded-full bg-white/20 border-2 border-white/40 flex items-center justify-center overflow-hidden cursor-pointer hover:bg-white/30 transition-all",children:b?s.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):m||n.avatarUrl?s.jsx("img",{src:m||n.avatarUrl,alt:n.name,className:"w-full h-full object-cover",onClick:F=>{F.stopPropagation(),P()}}):s.jsx(el,{className:"w-6 h-6 text-white"})}),s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-6 h-6 rounded-full bg-white shadow-lg flex items-center justify-center",children:s.jsx(el,{className:"w-3.5 h-3.5 text-[#00d749]"})})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold",children:n.name}),s.jsx("p",{className:"text-sm opacity-90",children:n.email})]})]})}),s.jsx("div",{className:"flex flex-col gap-3",children:q.map(F=>{const Y=F.icon;return s.jsx(_t,{to:F.path,children:s.jsxs("div",{className:"card p-4 hover:shadow-lg flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#00d749]/10 flex items-center justify-center",children:s.jsx(Y,{className:"w-6 h-6 text-[#00d749]"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-black dark:text-white",children:F.label}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:F.description})]}),s.jsx(ra,{className:"w-5 h-5 text-neutral-400"})]})},F.path)})}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-4",children:"Informaes da Conta"}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b border-neutral-200 dark:border-neutral-800",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Telefone"}),s.jsx("span",{className:"font-medium text-black dark:text-white",children:n.phone})]}),s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{className:"text-neutral-600 dark:text-neutral-400",children:"Status"}),s.jsx("span",{className:"status-success",children:"Ativo"})]})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider",children:"Informaes Legais"}),ie.map(F=>{const Y=F.icon;return s.jsx(_t,{to:F.path,children:s.jsxs("div",{className:"card p-4 hover:shadow-lg flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center",children:s.jsx(Y,{className:"w-6 h-6 text-neutral-600 dark:text-neutral-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-black dark:text-white",children:F.label}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:F.description})]}),s.jsx(ra,{className:"w-5 h-5 text-neutral-400"})]})},F.path)})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>d(!0),className:"w-full card p-4 hover:shadow-lg flex items-center justify-center gap-2 text-neutral-600 dark:text-neutral-400",children:[s.jsx(K0,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Sair da Conta"})]}),s.jsxs("button",{onClick:()=>f(!0),className:"w-full card p-4 hover:shadow-lg flex items-center justify-center gap-2 text-red-600 bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30",children:[s.jsx(na,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Excluir Minha Conta"})]})]}),s.jsx(C1,{isOpen:u,onClose:()=>d(!1),onConfirm:N}),s.jsx(P1,{isOpen:h,onClose:()=>f(!1),onConfirm:_,isLoading:v}),x&&s.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 flex flex-col items-center justify-center p-4",onClick:()=>k(!1),children:[s.jsx("button",{onClick:()=>k(!1),className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",children:s.jsx(he,{className:"w-6 h-6 text-white"})}),m||n!=null&&n.avatarUrl?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:m||(n==null?void 0:n.avatarUrl),alt:n==null?void 0:n.name,className:"max-w-full max-h-[60vh] rounded-2xl object-contain mb-6",onClick:F=>F.stopPropagation()}),s.jsxs("div",{className:"flex gap-3",onClick:F=>F.stopPropagation(),children:[s.jsxs("button",{onClick:R,disabled:b,className:"flex items-center justify-center gap-2 w-36 py-2.5 bg-white/10 text-white rounded-lg text-sm font-medium hover:bg-white/20 transition-colors border border-white/20",children:[s.jsx(Rj,{className:"w-4 h-4"}),"Trocar"]}),s.jsxs("button",{onClick:E,disabled:b,className:"flex items-center justify-center gap-2 w-36 py-2.5 bg-white/10 text-red-400 rounded-lg text-sm font-medium hover:bg-red-500/20 transition-colors border border-white/20",children:[b?s.jsx("div",{className:"w-4 h-4 border-2 border-red-400 border-t-transparent rounded-full animate-spin"}):s.jsx(na,{className:"w-4 h-4"}),"Remover"]})]})]}):s.jsxs("div",{className:"flex flex-col items-center gap-4",onClick:F=>F.stopPropagation(),children:[s.jsx("div",{className:"w-48 h-48 rounded-full bg-white/10 border-2 border-dashed border-white/40 flex items-center justify-center",children:s.jsx(el,{className:"w-16 h-16 text-white/60"})}),s.jsx("p",{className:"text-white/80 text-lg",children:"Nenhuma foto de perfil"}),s.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-6 py-3 bg-[#00d749] text-white rounded-xl font-medium hover:bg-[#00c142] transition-colors",children:[s.jsx(Ij,{className:"w-5 h-5"}),"Upload de Foto"]})]})]})]})},A1=(t,e)=>{const r=/\[BUTTON:([^\]:]+):([^\]]+)\]/g,n=[];let a=0,i;for(;(i=r.exec(t))!==null;){i.index>a&&n.push(t.slice(a,i.index));const o=i[1],c=i[2],l=c.startsWith("http")||c.startsWith("mailto:")||c.startsWith("tel:");n.push(s.jsxs("button",{onClick:()=>{if(l)window.open(c,"_blank");else{const u=c.includes("?")?`${c}&from=chat`:`${c}?from=chat`;e(u)}},className:"flex items-center gap-2 mt-2 px-4 py-2.5 bg-[#00d749] hover:bg-[#00c142] text-white rounded-xl font-medium text-sm transition-colors w-full justify-center",children:[o,l&&s.jsx(ho,{className:"w-4 h-4"})]},`btn-${i.index}`)),a=i.index+i[0].length}return a<t.length&&n.push(t.slice(a)),n.length>0?n:[t]},T1=()=>{const t=ze(),{messages:e,isLoading:r,sendMessage:n,clearHistory:a}=sg(),{t:i,language:o}=Ne(),{user:c}=je(),[l,u]=w.useState(""),d=w.useRef(null),h=w.useRef(null),[f,v]=w.useState(!1),g=o==="pt-BR";w.useEffect(()=>{var x;(x=d.current)==null||x.scrollIntoView({behavior:"smooth"})},[e]);const b=x=>{x.preventDefault(),l.trim()&&!r&&(n(l),u(""))},y=()=>{a(),v(!1)},m=x=>x.toLocaleTimeString(g?"pt-BR":"pt-PT",{hour:"2-digit",minute:"2-digit"}),p=g?`Ol${c!=null&&c.name?`, ${c.name.split(" ")[0]}`:""}! 

Sou a X88 IA, sua assistente virtual. Posso te ajudar com:

 Como fazer solicitaes
 Dvidas sobre limites e taxas
 Informaes sobre pagamentos
 Ou qualquer outra pergunta!

Como posso ajudar?`:`Ol${c!=null&&c.name?`, ${c.name.split(" ")[0]}`:""}! 

Sou a X88 IA, a sua assistente virtual. Posso ajud-lo com:

 Como fazer pedidos
 Dvidas sobre limites e taxas
 Informaes sobre pagamentos
 Ou qualquer outra questo!

Como posso ajudar?`;return s.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-black pt-10",children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-neutral-200 dark:border-neutral-800 bg-white dark:bg-black sticky top-0 z-10",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>t("/"),className:"p-2 -ml-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-full transition-colors",children:s.jsx(De,{className:"w-5 h-5 text-black dark:text-white"})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[#00d749] to-[#00a83a] flex items-center justify-center",children:s.jsx(mo,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-bold text-black dark:text-white",children:"X88 IA"}),s.jsx("p",{className:"text-xs text-neutral-500",children:r?g?"Digitando...":"A escrever...":"Online"})]})]})]}),s.jsx("button",{onClick:()=>v(!0),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-full transition-colors",title:"Limpar conversa",children:s.jsx(na,{className:"w-5 h-5 text-neutral-500"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-4",children:[e.length===0&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"max-w-[85%] rounded-2xl rounded-tl-sm px-4 py-3 bg-neutral-100 dark:bg-neutral-800",children:s.jsx("p",{className:"text-sm text-black dark:text-white whitespace-pre-line",children:p})})}),e.map(x=>s.jsx("div",{className:`flex ${x.role==="user"?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-[85%] rounded-2xl px-4 py-3 ${x.role==="user"?"bg-[#00d749] text-white rounded-tr-sm":"bg-neutral-100 dark:bg-neutral-800 text-black dark:text-white rounded-tl-sm"}`,children:x.isLoading?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-neutral-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-neutral-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-neutral-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm whitespace-pre-line",children:x.role==="assistant"?A1(x.content,t).map((k,j)=>typeof k=="string"?s.jsx("span",{children:k},j):k):x.content}),s.jsx("p",{className:`text-[10px] mt-1 ${x.role==="user"?"text-white/70":"text-neutral-400"}`,children:m(x.timestamp)})]})})},x.id)),s.jsx("div",{ref:d})]}),s.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 bg-white dark:bg-black p-4 pb-8",children:s.jsxs("form",{onSubmit:b,className:"flex items-center gap-2",children:[s.jsx("input",{ref:h,type:"text",value:l,onChange:x=>u(x.target.value),placeholder:g?"Digite sua mensagem...":"Escreva a sua mensagem...",className:"flex-1 bg-neutral-100 dark:bg-neutral-800 rounded-full px-4 py-3 text-sm text-black dark:text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-[#00d749]",disabled:r}),s.jsx("button",{type:"submit",disabled:!l.trim()||r,className:"w-12 h-12 rounded-full bg-[#00d749] flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed transition-opacity",children:s.jsx(G0,{className:"w-5 h-5 text-white"})})]})}),f&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl p-6 max-w-sm w-full",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-2",children:"Limpar conversa?"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 text-sm mb-6",children:"Todo o histrico da conversa ser apagado. Esta ao no pode ser desfeita."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>v(!1),className:"flex-1 py-3 rounded-xl border border-neutral-300 dark:border-neutral-700 text-black dark:text-white font-medium",children:"Cancelar"}),s.jsx("button",{onClick:y,className:"flex-1 py-3 rounded-xl bg-red-500 text-white font-medium",children:"Limpar"})]})]})})]})};function Er(t="/"){const e=ze(),[r]=pp();return{goBack:()=>{const a=r.get("from")==="chat",i=r.get("from")==="chatpopup";a?e("/chat"):i?(sessionStorage.setItem("x88_chat_return","true"),e("/")):e(t)}}}const O1=()=>{const{goBack:t}=Er("/profile"),{user:e,updateBankDetails:r}=je(),{addNotification:n}=ns(),{language:a}=Ne(),i=a==="pt-BR",[o,c]=w.useState("mbway"),[l,u]=w.useState({iban:"",bankHolderName:"",swiftBic:"",mbwayPhone:"",preferredMethod:"mbway",wallet:""}),[d,h]=w.useState(!1),[f,v]=w.useState(""),[g,b]=w.useState("");w.useEffect(()=>{if(!d&&i){const p=l.iban||"",x=p.match(/Agncia: (.*) Conta: (.*)/);x?(v(x[1]),b(x[2])):p.includes("Agncia:")||(b(p),v(""))}},[l.iban,d,i]),w.useEffect(()=>{e!=null&&e.bankDetails&&u({iban:e.bankDetails.iban,bankHolderName:e.bankDetails.bankHolderName,swiftBic:e.bankDetails.swiftBic,mbwayPhone:e.bankDetails.mbwayPhone,preferredMethod:e.bankDetails.preferredMethod,wallet:e.bankDetails.wallet})},[e]);const y=async()=>{const{success:p,error:x}=await r({iban:l.iban,bankHolderName:l.bankHolderName,swiftBic:l.swiftBic,mbwayPhone:l.mbwayPhone,preferredMethod:l.preferredMethod,wallet:l.wallet});p?(n({title:"Sucesso",message:"Dados bancrios atualizados com sucesso!",type:"success"}),h(!1)):n({title:"Erro",message:"Erro ao atualizar dados bancrios: "+x,type:"error"})},m=p=>{const x=p.replace(/\s/g,""),k=x.match(/.{1,4}/g);return k?k.join(" "):x};return s.jsxs("div",{className:"p-4 pt-4 space-y-6 pb-40",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("button",{type:"button",onClick:t,className:"w-10 h-10 rounded-xl bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-all",children:s.jsx(De,{className:"w-5 h-5 text-black dark:text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Dados Bancrios"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Gerencie suas formas de recebimento"})]})]}),s.jsxs("div",{className:"flex gap-2 p-1 bg-neutral-100 dark:bg-neutral-900 rounded-xl",children:[s.jsxs("button",{onClick:()=>c("mbway"),className:`flex-1 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${o==="mbway"?"bg-white dark:bg-black shadow-md text-[#00d749]":"text-neutral-600 dark:text-neutral-400"}`,children:[s.jsx(In,{className:"w-5 h-5"}),i?"PIX":"MB Way"]}),s.jsxs("button",{onClick:()=>c("iban"),className:`flex-1 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${o==="iban"?"bg-white dark:bg-black shadow-md text-[#00d749]":"text-neutral-600 dark:text-neutral-400"}`,children:[s.jsx(Qt,{className:"w-5 h-5"}),i?"Conta Bancria":"IBAN"]}),s.jsxs("button",{onClick:()=>c("satoshi"),className:`flex-1 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${o==="satoshi"?"bg-white dark:bg-black shadow-md text-[#f7931a]":"text-neutral-600 dark:text-neutral-400"}`,children:[s.jsx(zi,{className:"w-5 h-5"}),"Sats"]})]}),s.jsx("div",{className:"card bg-[#00d749]/10 border-[#00d749]",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ue,{className:"w-6 h-6 text-[#00d749] flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-black dark:text-white mb-1",children:"Dados Verificados"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Seus dados bancrios foram verificados pelo gestor em 15/10/2025"})]})]})}),!d&&s.jsx("button",{onClick:()=>h(!0),className:"btn-primary w-full",children:"Editar Dados"}),o==="mbway"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:`card transition-opacity ${d?"opacity-100":"opacity-50"}`,children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:i?"Chave PIX (Telefone/CPF/Email)":"Nmero de Telefone MB Way"}),s.jsxs("div",{className:"relative",children:[s.jsx(In,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:"text",value:l.mbwayPhone,onChange:p=>u({...l,mbwayPhone:p.target.value}),disabled:!d,className:"input w-full pl-11",placeholder:i?"Chave PIX":"+351 999 888 777"})]}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-2",children:i?"Certifique-se de que esta chave PIX est correta":"Certifique-se de que este nmero est registrado no MB Way"})]}),s.jsx("div",{className:"card bg-blue-50 dark:bg-blue-950/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vr,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-black dark:text-white mb-1",children:i?"Sobre o PIX":"Sobre o MB Way"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:i?"Os pagamentos via PIX so processados instantaneamente, 24/7.":"Os pagamentos via MB Way so processados instantaneamente. Certifique-se de que o nmero est ativo e tem limite disponvel."})]})]})})]}),o==="iban"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:`card transition-opacity ${d?"opacity-100":"opacity-50"}`,children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:i?"Conta Bancria (Agncia/Conta)":"IBAN"}),i?s.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[s.jsxs("div",{className:"col-span-1",children:[s.jsx("input",{type:"text",value:f,onChange:p=>{const x=p.target.value;v(x),u(k=>({...k,iban:`Agncia: ${x} Conta: ${g}`}))},disabled:!d,className:"input w-full",placeholder:"Agncia"}),s.jsx("span",{className:"text-xs text-neutral-500 mt-1 ml-1",children:"Agncia"})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("input",{type:"text",value:g,onChange:p=>{const x=p.target.value;b(x),u(k=>({...k,iban:`Agncia: ${f} Conta: ${x}`}))},disabled:!d,className:"input w-full",placeholder:"Conta com dgito"}),s.jsx("span",{className:"text-xs text-neutral-500 mt-1 ml-1",children:"Conta"})]})]}):s.jsx("input",{type:"text",value:l.iban,onChange:p=>u({...l,iban:i?p.target.value:m(p.target.value.toUpperCase())}),disabled:!d,className:"input w-full font-mono",placeholder:i?"Agncia e Conta":"PT50 0000 0000 0000 0000 0000 0",maxLength:i?50:29})]}),s.jsxs("div",{className:`card transition-opacity ${d?"opacity-100":"opacity-50"}`,children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Nome do Titular"}),s.jsx("input",{type:"text",value:l.bankHolderName,onChange:p=>u({...l,bankHolderName:p.target.value}),disabled:!d,className:"input w-full",placeholder:"Joo Silva"})]}),s.jsxs("div",{className:`card transition-opacity ${d?"opacity-100":"opacity-50"}`,children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"SWIFT/BIC (Opcional)"}),s.jsx("input",{type:"text",value:l.swiftBic,onChange:p=>u({...l,swiftBic:p.target.value.toUpperCase()}),disabled:!d,className:"input w-full",placeholder:"CGDIPTPL",maxLength:11})]}),s.jsx("div",{className:"card bg-blue-50 dark:bg-blue-950/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vr,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-black dark:text-white mb-1",children:i?"Sobre Conta Bancria":"Sobre o IBAN"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:i?"Transferncias bancrias (TED/DOC) podem levar at 1 dia til.":"Transferncias via IBAN podem levar at 1 dia til para serem processadas. Certifique-se de que os dados esto corretos."})]})]})})]}),o==="satoshi"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:`card transition-opacity ${d?"opacity-100":"opacity-50"}`,children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Endereo Lightning / LNURL"}),s.jsx("input",{type:"text",value:l.wallet,onChange:p=>u({...l,wallet:p.target.value}),disabled:!d,className:"input w-full font-mono text-sm",placeholder:"nome@carteira.com ou lnurl..."}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-2",children:"Endereo Lightning para recebimento instantneo de Satoshis"})]}),s.jsx("div",{className:"card bg-orange-50 dark:bg-orange-950/30 border-orange-200 dark:border-orange-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vr,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-black dark:text-white mb-1",children:"Sobre Lightning Network"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Pagamentos via Lightning so processados em segundos com taxas mnimas. Certifique-se de que sua carteira suporta o recebimento."})]})]})})]}),s.jsxs("div",{className:"card",children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-3",children:"Mtodo Preferido de Recebimento"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border-2 border-neutral-200 dark:border-neutral-800 cursor-pointer hover:border-[#00d749] transition-colors",children:[s.jsx("input",{type:"radio",name:"preferredMethod",value:"mbway",checked:l.preferredMethod==="mbway",onChange:p=>u({...l,preferredMethod:p.target.value}),disabled:!d,className:"w-4 h-4 text-[#00d749]"}),s.jsx(In,{className:"w-5 h-5 text-[#00d749]"}),s.jsx("span",{className:"font-medium text-black dark:text-white",children:i?"PIX":"MB Way"})]}),s.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border-2 border-neutral-200 dark:border-neutral-800 cursor-pointer hover:border-[#00d749] transition-colors",children:[s.jsx("input",{type:"radio",name:"preferredMethod",value:"iban",checked:l.preferredMethod==="iban",onChange:p=>u({...l,preferredMethod:p.target.value}),disabled:!d,className:"w-4 h-4 text-[#00d749]"}),s.jsx(Qt,{className:"w-5 h-5 text-[#00d749]"}),s.jsx("span",{className:"font-medium text-black dark:text-white",children:i?"Conta Bancria":"IBAN"})]}),s.jsxs("label",{className:"flex items-center gap-3 p-3 rounded-lg border-2 border-neutral-200 dark:border-neutral-800 cursor-pointer hover:border-[#f7931a] transition-colors",children:[s.jsx("input",{type:"radio",name:"preferredMethod",value:"satoshi",checked:l.preferredMethod==="satoshi",onChange:p=>u({...l,preferredMethod:p.target.value}),disabled:!d,className:"w-4 h-4 text-[#f7931a]"}),s.jsx(zi,{className:"w-5 h-5 text-[#f7931a]"}),s.jsx("span",{className:"font-medium text-black dark:text-white",children:"Lightning (Sats)"})]})]})]}),d&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>h(!1),className:"btn-secondary flex-1",children:"Cancelar"}),s.jsx("button",{onClick:y,className:"btn-primary flex-1",children:"Salvar Alteraes"})]})]})},I1=()=>{const{goBack:t}=Er("/profile"),{user:e,updatePersonalData:r}=je(),{showToast:n}=ha(),[a,i]=w.useState(!1),[o,c]=w.useState("+351"),[l,u]=w.useState({name:"",email:"",phone:"",nif:""});w.useEffect(()=>{if(e){let f=e.phone||"",v="+351";f.startsWith("+55")?(v="+55",f=f.substring(3)):f.startsWith("+351")&&(v="+351",f=f.substring(4)),c(v),u({name:e.name,email:e.email,phone:f,nif:e.nif})}},[e]);const d=async()=>{try{if(o==="+351"&&l.phone.length!==9){n("Para Portugal, o telefone deve ter 9 dgitos","error");return}if(o==="+55"&&l.phone.length!==11){n("Para o Brasil, o telefone deve ter 11 dgitos (DDD + Nmero)","error");return}const f=`${o}${l.phone}`,{success:v,error:g}=await r({name:l.name,email:l.email,phone:f,nif:l.nif});v?(n("Dados pessoais atualizados com sucesso!","success"),i(!1)):n("Erro ao atualizar dados: "+g,"error")}catch{n("Erro ao atualizar dados.","error")}},h=f=>{const v=f.target.value.replace(/\D/g,"");u({...l,phone:v})};return s.jsxs("div",{className:"p-4 pt-4 space-y-6 pb-40",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("button",{type:"button",onClick:t,className:"w-10 h-10 rounded-xl bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-all",children:s.jsx(De,{className:"w-5 h-5 text-black dark:text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Dados Pessoais"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Gerencie suas informaes pessoais"})]})]}),s.jsx("div",{className:"card bg-[#00d749]/10 border-[#00d749]",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ue,{className:"w-6 h-6 text-[#00d749] flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-black dark:text-white mb-1",children:"Perfil Verificado"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Seus dados foram verificados pelo gestor em 15/10/2025"})]})]})}),!a&&s.jsx("button",{onClick:()=>i(!0),className:"btn-primary w-full",children:"Editar Dados"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:`card transition-opacity ${a?"opacity-100":"opacity-50"}`,children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:[s.jsx(ma,{className:"w-4 h-4 inline mr-2"}),"Nome Completo"]}),s.jsx("input",{type:"text",value:l.name,onChange:f=>u({...l,name:f.target.value}),disabled:!a,className:"input w-full",placeholder:"Seu nome completo"})]}),s.jsxs("div",{className:`card transition-opacity ${a?"opacity-100":"opacity-50"}`,children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:[s.jsx(fa,{className:"w-4 h-4 inline mr-2"}),"Email"]}),s.jsx("input",{type:"email",value:l.email,onChange:f=>u({...l,email:f.target.value}),disabled:!a,className:"input w-full",placeholder:"seu.email@example.com"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-2",children:"Email usado para login e notificaes importantes"})]}),s.jsxs("div",{className:`card transition-opacity ${a?"opacity-100":"opacity-50"}`,children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:[s.jsx(Ou,{className:"w-4 h-4 inline mr-2"}),"Telefone"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"relative w-24",children:s.jsxs("select",{value:o,onChange:f=>c(f.target.value),disabled:!a,className:"w-full pl-2 pr-1 py-3 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white appearance-none text-center font-medium disabled:opacity-50 disabled:bg-neutral-100 dark:disabled:bg-neutral-800",children:[s.jsx("option",{value:"+351",children:" +351"}),s.jsx("option",{value:"+55",children:" +55"})]})}),s.jsx("input",{type:"tel",value:l.phone,onChange:h,disabled:!a,className:"input flex-1",placeholder:o==="+351"?"9xx xxx xxx":"(DD) 9xxxx-xxxx"})]}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-2",children:"Usado para recuperao de conta e notificaes SMS"})]}),s.jsxs("div",{className:`card transition-opacity ${a?"opacity-100":"opacity-50"}`,children:[s.jsxs("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:[s.jsx(Nj,{className:"w-4 h-4 inline mr-2"}),"NIF"]}),s.jsx("input",{type:"text",value:l.nif,onChange:f=>u({...l,nif:f.target.value.replace(/\D/g,"").slice(0,9)}),disabled:!a,className:"input w-full",placeholder:"123456789",maxLength:9}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400 mt-2",children:"Nmero de Identificao Fiscal"})]})]}),a&&s.jsx("div",{className:"card bg-blue-50 dark:bg-blue-950/30",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Vr,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-black dark:text-white mb-1",children:"Ateno"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Alteraes nos dados pessoais podem precisar de nova verificao pelo gestor."})]})]})}),a&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>i(!1),className:"btn-secondary flex-1",children:"Cancelar"}),s.jsx("button",{onClick:d,className:"btn-primary flex-1",children:"Salvar Alteraes"})]})]})},D1=()=>{const{goBack:t}=Er("/profile"),{user:e,updatePreferences:r}=je(),[n,a]=w.useState({emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,requestApproved:!0,requestRejected:!0,paymentReceived:!0,promotions:!1,soundEnabled:!0});w.useEffect(()=>{var o;if((o=e==null?void 0:e.preferences)!=null&&o.notifications){const c=e.preferences.notifications;a({emailNotifications:c.email,pushNotifications:c.push,smsNotifications:c.sms,requestApproved:c.types.approved,requestRejected:c.types.rejected,paymentReceived:c.types.payment,promotions:c.types.promotions,soundEnabled:c.sound})}},[e]);const i=async o=>{const c={...n,[o]:!n[o]};a(c);const l={notifications:{email:o==="emailNotifications"?!n.emailNotifications:n.emailNotifications,push:o==="pushNotifications"?!n.pushNotifications:n.pushNotifications,sms:o==="smsNotifications"?!n.smsNotifications:n.smsNotifications,types:{approved:o==="requestApproved"?!n.requestApproved:n.requestApproved,rejected:o==="requestRejected"?!n.requestRejected:n.requestRejected,payment:o==="paymentReceived"?!n.paymentReceived:n.paymentReceived,promotions:o==="promotions"?!n.promotions:n.promotions},sound:o==="soundEnabled"?!n.soundEnabled:n.soundEnabled}};await r(l)};return s.jsxs("div",{className:"p-4 pt-4 space-y-6 pb-40",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("button",{type:"button",onClick:t,className:"w-10 h-10 rounded-xl bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-all",children:s.jsx(De,{className:"w-5 h-5 text-black dark:text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Notificaes"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Gerencie como voc recebe notificaes"})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-4",children:"Notificaes Push"}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:s.jsx(Jr,{className:"w-5 h-5 text-[#00d749]"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:"Ativar Notificaes"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Receber notificaes no dispositivo"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.pushNotifications,onChange:()=>i("pushNotifications"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-300 peer-focus:outline-none rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-[#00d749]"})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-4",children:"Tipos de Notificao"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:"Solicitao Aprovada"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Quando sua solicitao for aprovada"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.requestApproved,onChange:()=>i("requestApproved"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-300 peer-focus:outline-none rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-[#00d749]"})]})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:"Solicitao Rejeitada"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Quando sua solicitao for rejeitada"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.requestRejected,onChange:()=>i("requestRejected"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-300 peer-focus:outline-none rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-[#00d749]"})]})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:"Pagamento Recebido"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Quando receber um pagamento"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.paymentReceived,onChange:()=>i("paymentReceived"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-300 peer-focus:outline-none rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-[#00d749]"})]})]}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:"Promoes e Novidades"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Ofertas especiais e atualizaes"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.promotions,onChange:()=>i("promotions"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-300 peer-focus:outline-none rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-[#00d749]"})]})]})]})]}),s.jsxs("div",{className:"card",children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white mb-4",children:"Som e Vibrao"}),s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center",children:s.jsx(Mj,{className:"w-5 h-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:"Som de Notificao"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Reproduzir som ao receber notificaes"})]})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:n.soundEnabled,onChange:()=>i("soundEnabled"),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-neutral-300 peer-focus:outline-none rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-[#00d749]"})]})]})]})]})},M1=()=>{const{goBack:t}=Er("/profile"),{updatePassword:e}=je(),{showToast:r}=ha(),[n,a]=w.useState(!1),[i,o]=w.useState(!1),[c,l]=w.useState(!1),[u,d]=w.useState(!1),[h,f]=w.useState({currentPassword:"",newPassword:"",confirmPassword:""}),v=async()=>{if(h.newPassword!==h.confirmPassword){r("As senhas no coincidem!","error");return}if(h.newPassword.length<8){r("A senha deve ter pelo menos 8 caracteres!","error");return}const{success:g,error:b}=await e(h.newPassword);g?(r("Senha alterada com sucesso!","success"),f({currentPassword:"",newPassword:"",confirmPassword:""}),d(!1)):r("Erro ao alterar senha: "+b,"error")};return s.jsxs("div",{className:"p-4 pt-4 space-y-6 pb-40",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("button",{type:"button",onClick:t,className:"w-10 h-10 rounded-xl bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-all",children:s.jsx(De,{className:"w-5 h-5 text-black dark:text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Privacidade e Segurana"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Gerencie a segurana da sua conta"})]})]}),s.jsxs("div",{className:`card transition-opacity ${u?"opacity-100":"opacity-50"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:s.jsx(Yr,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white",children:"Senha"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Altere sua senha de acesso"})]})]}),!u&&s.jsx("button",{onClick:()=>d(!0),className:"btn-secondary text-sm px-4 py-2",children:"Alterar"})]}),u&&s.jsxs("div",{className:"space-y-4 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Senha Atual"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:n?"text":"password",value:h.currentPassword,onChange:g=>f({...h,currentPassword:g.target.value}),className:"input w-full pr-10",placeholder:"Digite sua senha atual"}),s.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:n?s.jsx(Ft,{className:"w-5 h-5"}):s.jsx(zt,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Nova Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:i?"text":"password",value:h.newPassword,onChange:g=>f({...h,newPassword:g.target.value}),className:"input w-full pr-10",placeholder:"Digite sua nova senha"}),s.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:i?s.jsx(Ft,{className:"w-5 h-5"}):s.jsx(zt,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-neutral-600 dark:text-neutral-400 mt-1",children:"Mnimo de 8 caracteres"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Confirmar Nova Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c?"text":"password",value:h.confirmPassword,onChange:g=>f({...h,confirmPassword:g.target.value}),className:"input w-full pr-10",placeholder:"Confirme sua nova senha"}),s.jsx("button",{type:"button",onClick:()=>l(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:c?s.jsx(Ft,{className:"w-5 h-5"}):s.jsx(zt,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{onClick:()=>{d(!1),f({currentPassword:"",newPassword:"",confirmPassword:""})},className:"btn-secondary flex-1",children:"Cancelar"}),s.jsx("button",{onClick:v,className:"btn-primary flex-1",children:"Salvar Senha"})]})]})]}),s.jsx("div",{className:"card bg-yellow-50 dark:bg-yellow-950/30 border-yellow-300 dark:border-yellow-800",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Au,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-black dark:text-white mb-1",children:"Dicas de Segurana"}),s.jsxs("ul",{className:"text-sm text-neutral-600 dark:text-neutral-400 space-y-1",children:[s.jsx("li",{children:" Use uma senha forte e nica"}),s.jsx("li",{children:" Nunca compartilhe sua senha com ningum"}),s.jsx("li",{children:" Mantenha seu email e telefone atualizados"})]})]})]})})]})},L1=()=>{const{goBack:t}=Er("/profile"),{language:e,setLanguage:r,timezone:n}=Ne();return s.jsxs("div",{className:"p-4 pt-4 space-y-6 pb-40",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("button",{type:"button",onClick:t,className:"w-10 h-10 rounded-xl bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-all",children:s.jsx(De,{className:"w-5 h-5 text-black dark:text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white",children:"Idioma e Regio"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Configure suas preferncias regionais"})]})]}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:s.jsx(H0,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white",children:"Idioma"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Selecione o idioma do aplicativo"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg border border-neutral-200 dark:border-neutral-700 cursor-pointer hover:bg-neutral-50 dark:hover:bg-neutral-800",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("span",{className:"font-medium text-black dark:text-white",children:"Portugus (Brasil)"})]}),s.jsx("input",{type:"radio",name:"language",checked:e==="pt-BR",onChange:()=>r("pt-BR"),className:"w-5 h-5 text-blue-600 accent-[#00d749]"})]}),s.jsxs("label",{className:"flex items-center justify-between p-3 rounded-lg border border-neutral-200 dark:border-neutral-700 cursor-pointer hover:bg-neutral-50 dark:hover:bg-neutral-800",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("span",{className:"font-medium text-black dark:text-white",children:"Portugus (Portugal)"})]}),s.jsx("input",{type:"radio",name:"language",checked:e==="pt-PT",onChange:()=>r("pt-PT"),className:"w-5 h-5 text-blue-600 accent-[#00d749]"})]})]})]}),s.jsx("div",{className:"h-px bg-neutral-200 dark:bg-neutral-700"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center",children:s.jsx(Ot,{className:"w-5 h-5 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-black dark:text-white",children:"Fuso Horrio"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Definido automaticamente pelo idioma"})]})]}),s.jsxs("div",{className:"p-4 rounded-lg bg-neutral-50 dark:bg-neutral-800 text-center border border-neutral-200 dark:border-neutral-700",children:[s.jsx("p",{className:"text-lg font-medium text-black dark:text-white",children:n==="America/Sao_Paulo"?"So Paulo (UTC-3)":"Lisboa (UTC+0 / UTC+1)"}),s.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400 mt-1",children:n})]})]})]})})]})},$1=()=>{const{goBack:t}=Er("/profile"),{config:e,handleContactWhatsapp:r,handleContactEmail:n}=Du();return s.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-black pt-10",children:[s.jsx("div",{className:"bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-800",children:s.jsxs("div",{className:"flex items-center gap-4 p-4",children:[s.jsx("button",{onClick:t,className:"p-2 -ml-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg",children:s.jsx(De,{className:"w-6 h-6 text-black dark:text-white"})}),s.jsx("h1",{className:"text-xl font-bold text-black dark:text-white",children:"Ajuda"})]})}),s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{className:"card p-6 text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-[#00d749]/10 flex items-center justify-center mx-auto mb-4",children:s.jsx(Q0,{className:"w-8 h-8 text-[#00d749]"})}),s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-2",children:"Precisa de ajuda?"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Estamos aqui para ajudar! Entre em contato com nosso suporte para tirar suas dvidas."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-bold text-neutral-500 uppercase tracking-wider",children:"Canais de Atendimento"}),e.whatsapp_suporte&&s.jsxs("button",{onClick:r,className:"w-full card p-4 hover:shadow-lg flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#25D366]/10 flex items-center justify-center",children:s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WhatsApp",className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h4",{className:"font-bold text-black dark:text-white",children:"WhatsApp"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:"Fale com o suporte agora"})]}),s.jsx(Cj,{className:"w-5 h-5 text-[#25D366]"})]}),e.email_suporte&&s.jsxs("button",{onClick:n,className:"w-full card p-4 hover:shadow-lg flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-500/10 flex items-center justify-center",children:s.jsx(fa,{className:"w-6 h-6 text-blue-500"})}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("h4",{className:"font-bold text-black dark:text-white",children:"E-mail"}),s.jsx("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:e.email_suporte})]})]})]}),s.jsxs("div",{className:"card p-4",children:[s.jsx("h3",{className:"font-bold text-black dark:text-white mb-3",children:"Perguntas Frequentes"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:"Como solicitar um adiantamento?"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:'Na tela inicial, clique em "Novo Adiantamento" e siga as instrues.'})]}),s.jsxs("div",{className:"p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:"Quanto tempo leva para receber?"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Aps aprovao, o pagamento  processado em at 24 horas teis."})]}),s.jsxs("div",{className:"p-3 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[s.jsx("p",{className:"font-medium text-black dark:text-white",children:"Como alterar meus dados bancrios?"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-1",children:"Acesse Perfil  Dados Bancrios para atualizar suas informaes."})]})]})]})]})]})},Qn=({width:t=80,height:e=80,className:r="",variant:n="default"})=>{const[a,i]=w.useState(!1);w.useEffect(()=>{if(n==="auto"){const c=()=>{i(document.documentElement.classList.contains("dark"))};c();const l=new MutationObserver(c);return l.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>l.disconnect()}},[n]);const o=()=>n==="white"||n==="auto"&&a?"/logos/LOGOTIPO X88 WHITE PNG.fw.png":"/logos/x88.png";return s.jsx("img",{src:o(),alt:"X88 Logo",width:t,height:e,className:r,style:{width:`${t}px`,height:`${e}px`,objectFit:"contain"}})},U1=()=>{const[t,e]=w.useState(""),[r,n]=w.useState(""),[a,i]=w.useState(!1),[o,c]=w.useState(!1),[l,u]=w.useState(""),[d,h]=w.useState(!1),f=ze(),{login:v,user:g}=je();w.useEffect(()=>{h(document.documentElement.classList.contains("dark"))},[]);const b=()=>{const m=!d;h(m),m?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))},y=async m=>{m.preventDefault(),c(!0),u("");const p=await v(t,r);c(!1),p.success?f("/"):u(p.error||"E-mail ou senha incorretos")};if(l.includes("Conta inativa")){const m=l.match(/\|WHATSAPP:(.+)/),p=m?m[1]:null,x=p?`https://wa.me/${p.replace(/\D/g,"")}`:"mailto:suporte@x88.com",k=p?"Falar com seu Gestor via WhatsApp":"Entrar em contato com suporte";return s.jsx("div",{className:"min-h-screen bg-[#4dff7a] dark:bg-black flex flex-col items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-neutral-900 rounded-3xl p-8 shadow-2xl text-center animate-in fade-in zoom-in duration-300",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Dj,{className:"w-10 h-10 text-red-600 dark:text-red-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-black dark:text-white mb-3",children:"Conta Desativada"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8 leading-relaxed",children:"Sua conta foi desativada pelo administrador. Entre em contato com seu gestor para mais informaes."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-neutral-100 dark:bg-neutral-800 text-black dark:text-white py-4 rounded-2xl font-semibold hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",children:"Tentar com outra conta"}),s.jsx("a",{href:x,target:p?"_blank":void 0,rel:p?"noopener noreferrer":void 0,className:"block w-full text-[#00d749] font-medium py-2 hover:underline flex items-center justify-center gap-2",children:k})]})]})})}return s.jsxs("div",{className:"min-h-screen bg-[#4dff7a] dark:bg-black flex flex-col relative",children:[s.jsx("button",{onClick:b,className:"absolute top-8 right-4 z-50 p-3 rounded-full bg-white/20 dark:bg-white/10 backdrop-blur-sm hover:bg-white/30 dark:hover:bg-white/20 transition-colors","aria-label":"Alternar modo escuro",children:d?s.jsx(Iu,{className:"w-5 h-5 text-white"}):s.jsx(Tu,{className:"w-5 h-5 text-black"})}),s.jsx("div",{className:"pt-0 pb-0 px-6 flex justify-center -mt-16 -mb-4",children:s.jsx(Qn,{className:"object-contain",width:380,height:380,variant:"auto"})}),s.jsx("div",{className:"flex-1 bg-white dark:bg-neutral-950 rounded-t-3xl p-6 shadow-2xl -mt-16 relative z-10",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-black dark:text-white mb-2",children:"Bem-vindo de volta"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8",children:"Entre com suas credenciais para continuar"}),l&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-xl mb-4",children:l}),s.jsxs("form",{onSubmit:y,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"E-mail"}),s.jsxs("div",{className:"relative",children:[s.jsx(fa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:"email",value:t,onChange:m=>e(m.target.value),placeholder:"seu@email.com",required:!0,className:"w-full pl-12 pr-4 py-4 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white transition-all"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:a?"text":"password",value:r,onChange:m=>n(m.target.value),placeholder:"",required:!0,className:"w-full pl-12 pr-12 py-4 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white transition-all"}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-200 transition-colors",children:a?s.jsx(Ft,{className:"w-5 h-5"}):s.jsx(zt,{className:"w-5 h-5"})})]})]}),s.jsx("div",{className:"text-right",children:s.jsx(_t,{to:"/auth/forgot-password",className:"text-sm font-medium text-[#00d749] hover:text-[#00dc43] transition-colors",children:"Esqueceu a senha?"})}),s.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-[#00d749] to-[#00dc43] text-white py-4 rounded-2xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"}),"Entrando..."]}):s.jsxs(s.Fragment,{children:["Entrar",s.jsx(q0,{className:"w-5 h-5"})]})})]}),s.jsxs("div",{className:"relative my-8",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-neutral-200 dark:border-neutral-800"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-4 bg-white dark:bg-neutral-950 text-neutral-500",children:"ou"})})]}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400",children:["Ainda no tem uma conta?"," ",s.jsx(_t,{to:"/auth/register",className:"font-semibold text-[#00d749] hover:text-[#00dc43] transition-colors",children:"Criar conta"})]})}),s.jsx("div",{className:"pb-16"})]})})]})},B1=()=>{const[t,e]=w.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[o,c]=w.useState(!1),[l,u]=w.useState(!1),[d,h]=w.useState(""),[f,v]=w.useState("+351"),[g,b]=w.useState(!1),[y,m]=w.useState(!1),p=ze(),{register:x}=je(),k=_=>{e({...t,[_.target.name]:_.target.value}),h("")},j=_=>{const S=_.target.value.replace(/\D/g,"");e({...t,phone:S})},N=async _=>{if(_.preventDefault(),t.password!==t.confirmPassword){h("As senhas no coincidem");return}if(!l){h("Voc precisa aceitar os termos de uso");return}if(f==="+351"&&t.phone.length!==9){h("Para Portugal, o telefone deve ter 9 dgitos");return}if(f==="+55"&&t.phone.length!==11){h("Para o Brasil, o telefone deve ter 11 dgitos (DDD + Nmero)");return}const S=`${f}${t.phone}`;c(!0);const P=await x(t.name,t.email,S,"000000000",t.password);c(!1),P.success?p("/"):h(P.error||"Erro ao criar conta. Tente novamente.")};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#00d749] to-[#00dc43] dark:from-black dark:to-neutral-900 flex flex-col",children:[s.jsx("div",{className:"pt-12 pb-8 px-6 flex justify-center",children:s.jsx(Qn,{width:120,height:120,variant:"auto"})}),s.jsx("div",{className:"flex-1 bg-white dark:bg-neutral-950 rounded-t-3xl p-6 shadow-2xl overflow-y-auto",children:s.jsxs("div",{className:"max-w-md mx-auto pb-8",children:[s.jsxs(_t,{to:"/auth/login",className:"p-4 -m-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 active:bg-neutral-200 dark:active:bg-neutral-700 inline-flex items-center gap-2 text-neutral-600 dark:text-neutral-400 hover:text-black dark:hover:text-white transition-colors mb-6",children:[s.jsx(De,{className:"w-5 h-5"}),"Voltar"]}),s.jsx("h1",{className:"text-3xl font-bold text-black dark:text-white mb-2",children:"Criar conta"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8",children:"Preencha seus dados para comear"}),d&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-xl mb-4",children:d}),s.jsxs("form",{onSubmit:N,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Nome completo"}),s.jsxs("div",{className:"relative",children:[s.jsx(ma,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:"text",name:"name",value:t.name,onChange:k,placeholder:"Seu nome completo",required:!0,className:"w-full pl-12 pr-4 py-4 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white transition-all"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"E-mail"}),s.jsxs("div",{className:"relative",children:[s.jsx(fa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:"email",name:"email",value:t.email,onChange:k,placeholder:"seu@email.com",required:!0,className:"w-full pl-12 pr-4 py-4 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white transition-all"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Telefone"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("div",{className:"relative w-24",children:s.jsxs("select",{value:f,onChange:_=>v(_.target.value),className:"w-full pl-2 pr-1 py-4 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white appearance-none text-center font-medium",children:[s.jsx("option",{value:"+351",children:" +351"}),s.jsx("option",{value:"+55",children:" +55"})]})}),s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Ou,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:j,placeholder:f==="+351"?"9xx xxx xxx":"(DD) 9xxxx-xxxx",required:!0,className:"w-full pl-12 pr-4 py-4 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white transition-all"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:r?"text":"password",name:"password",value:t.password,onChange:k,placeholder:"",required:!0,minLength:8,className:"w-full pl-12 pr-12 py-4 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white transition-all"}),s.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-200 transition-colors",children:r?s.jsx(Ft,{className:"w-5 h-5"}):s.jsx(zt,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-neutral-500 mt-1 ml-1",children:"Mnimo 8 caracteres"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Confirmar senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:a?"text":"password",name:"confirmPassword",value:t.confirmPassword,onChange:k,placeholder:"",required:!0,minLength:8,className:"w-full pl-12 pr-12 py-4 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white transition-all"}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-200 transition-colors",children:a?s.jsx(Ft,{className:"w-5 h-5"}):s.jsx(zt,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex items-start gap-3 pt-2",children:[s.jsx("input",{type:"checkbox",id:"terms",checked:l,onChange:_=>u(_.target.checked),className:"mt-1 w-5 h-5 text-[#00d749] border-neutral-300 rounded focus:ring-[#00d749] focus:ring-2"}),s.jsxs("label",{htmlFor:"terms",className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Li e aceito os"," ",s.jsx("button",{type:"button",onClick:()=>b(!0),className:"text-[#00d749] hover:text-[#00dc43] font-medium hover:underline",children:"termos de uso"})," ","e a"," ",s.jsx("button",{type:"button",onClick:()=>m(!0),className:"text-[#00d749] hover:text-[#00dc43] font-medium hover:underline",children:"poltica de privacidade"})]})]}),s.jsx("button",{type:"submit",disabled:o||!l,className:"w-full bg-gradient-to-r from-[#00d749] to-[#00dc43] text-white py-4 rounded-2xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"}),"Criando..."]}):s.jsxs(s.Fragment,{children:["Criar conta",s.jsx(q0,{className:"w-5 h-5"})]})})]}),s.jsx("div",{className:"text-center mt-6",children:s.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400",children:["J tem uma conta?"," ",s.jsx(_t,{to:"/auth/login",className:"font-semibold text-[#00d749] hover:text-[#00dc43] transition-colors",children:"Fazer login"})]})})]})}),g&&Nt.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[9999]",onClick:()=>b(!1),children:s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl w-full max-w-lg max-h-[85vh] overflow-hidden flex flex-col",onClick:_=>_.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[s.jsx("h3",{className:"text-xl font-bold text-black dark:text-white",children:"Termos de Uso"}),s.jsx("button",{type:"button",onClick:()=>b(!1),className:"w-8 h-8 rounded-full bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center hover:bg-neutral-200 dark:hover:bg-neutral-700",children:s.jsx(he,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 text-sm text-neutral-700 dark:text-neutral-300",children:[s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"1. Aceitao dos Termos"}),s.jsx("p",{children:"Ao aceder ou utilizar a aplicao X88 Colaborador, voc concorda em ficar vinculado a estes Termos de Uso. Se no concordar com qualquer parte destes Termos, no deve utilizar a Aplicao."})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"2. Descrio do Servio"}),s.jsx("p",{children:"A Aplicao X88 Colaborador permite aos colaboradores registados solicitar adiantamentos salariais, acompanhar o estado das solicitaes e receber pagamentos atravs de MB Way, PIX, IBAN ou Lightning Network."})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"3. Taxa de Servio"}),s.jsx("p",{children:"Uma taxa de servio ser aplicada sobre cada adiantamento solicitado. Esta taxa ser claramente apresentada antes da confirmao e ser acrescida ao valor a ser descontado do seu salrio. Voc receber o valor integral solicitado."})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"4. Dados Bancrios"}),s.jsx("p",{children:"O colaborador  responsvel por fornecer dados bancrios corretos e atualizados. A X88 no se responsabiliza por pagamentos realizados para dados incorretos."})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"5. Elegibilidade"}),s.jsx("p",{children:"Para utilizar a Aplicao, voc deve ter pelo menos 18 anos e ser colaborador ativo da empresa X88 ou parceiro autorizado."})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"6. Propriedade Intelectual"}),s.jsx("p",{children:"Todos os direitos de propriedade intelectual relativos  Aplicao so propriedade exclusiva da X88."})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"7. Limitao de Responsabilidade"}),s.jsx("p",{children:"A X88 no ser responsvel por danos indiretos, incidentais ou consequenciais, perda de dados ou lucros, ou interrupes temporrias do servio."})]}),s.jsx("section",{className:"border-t border-neutral-200 dark:border-neutral-800 pt-4",children:s.jsx("p",{className:"text-xs text-neutral-500",children:'Para a verso completa dos Termos de Uso, acesse a seco "Termos de Uso" na aplicao aps o registo.'})})]}),s.jsx("div",{className:"p-4 border-t border-neutral-200 dark:border-neutral-800",children:s.jsx("button",{type:"button",onClick:()=>b(!1),className:"w-full bg-gradient-to-r from-[#00d749] to-[#00dc43] text-white py-3 rounded-xl font-semibold",children:"Entendi"})})]})}),document.body),y&&Nt.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[9999]",onClick:()=>m(!1),children:s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl w-full max-w-lg max-h-[85vh] overflow-hidden flex flex-col",onClick:_=>_.stopPropagation(),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-neutral-200 dark:border-neutral-800",children:[s.jsx("h3",{className:"text-xl font-bold text-black dark:text-white",children:"Poltica de Privacidade"}),s.jsx("button",{type:"button",onClick:()=>m(!1),className:"w-8 h-8 rounded-full bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center hover:bg-neutral-200 dark:hover:bg-neutral-700",children:s.jsx(he,{className:"w-5 h-5 text-neutral-600 dark:text-neutral-400"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 text-sm text-neutral-700 dark:text-neutral-300",children:[s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"1. Informaes que Recolhemos"}),s.jsx("p",{children:"Recolhemos dados de identificao (nome, email, telefone), dados de autenticao, dados bancrios (IBAN, MB Way/PIX, endereo Lightning) e dados de utilizao."})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"2. Como Utilizamos"}),s.jsx("p",{children:"Utilizamos as informaes para processar solicitaes, efetuar pagamentos, comunicar sobre o estado das solicitaes e melhorar a experincia na Aplicao."})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"3. Partilha de Informaes"}),s.jsxs("p",{children:["Podemos partilhar informaes com gestores (para aprovao), prestadores de servios (processamento de pagamentos) e autoridades (quando exigido por lei). ",s.jsx("strong",{children:"No vendemos"})," as suas informaes a terceiros."]})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"4. Segurana dos Dados"}),s.jsx("p",{children:"Implementamos encriptao de dados, autenticao segura, controlo de acesso baseado em funes e monitorizao contnua de segurana."})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"5. Os Seus Direitos (RGPD/LGPD)"}),s.jsx("p",{children:'Voc tem direito a acesso, retificao, eliminao, portabilidade, oposio e limitao do processamento dos seus dados. Pode exercer estes direitos atravs da funcionalidade "Excluir Minha Conta".'})]}),s.jsxs("section",{children:[s.jsx("h4",{className:"font-bold text-black dark:text-white mb-2",children:"6. Contacto"}),s.jsx("p",{children:"Para questes sobre privacidade: x88app@gmail.com"})]}),s.jsx("section",{className:"border-t border-neutral-200 dark:border-neutral-800 pt-4",children:s.jsx("p",{className:"text-xs text-neutral-500",children:'Esta poltica est em conformidade com o RGPD (UE) e a LGPD (Brasil). Para a verso completa, acesse a seco "Poltica de Privacidade" na aplicao aps o registo.'})})]}),s.jsx("div",{className:"p-4 border-t border-neutral-200 dark:border-neutral-800",children:s.jsx("button",{type:"button",onClick:()=>m(!1),className:"w-full bg-gradient-to-r from-[#00d749] to-[#00dc43] text-white py-3 rounded-xl font-semibold",children:"Entendi"})})]})}),document.body)]})},F1=()=>{const[t,e]=w.useState(""),[r,n]=w.useState(!1),[a,i]=w.useState(!1),[o,c]=w.useState(""),l=async u=>{u.preventDefault(),n(!0),c("");try{const{error:d}=await I.auth.resetPasswordForEmail(t,{redirectTo:window.location.origin+"/auth/update-password"});if(d)throw d;i(!0)}catch(d){console.error("Erro ao enviar email de recuperao:",d),c(d.message||"Ocorreu um erro ao enviar o email. Tente novamente.")}finally{n(!1)}};return a?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#00d749] to-[#00dc43] dark:from-black dark:to-neutral-900 flex flex-col",children:[s.jsx("div",{className:"pt-12 pb-8 px-6 flex justify-center",children:s.jsx(Qn,{width:120,height:120,variant:"auto"})}),s.jsx("div",{className:"flex-1 bg-white dark:bg-neutral-950 rounded-t-3xl p-6 shadow-2xl",children:s.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-[#00d749]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Ue,{className:"w-10 h-10 text-[#00d749]"})}),s.jsx("h1",{className:"text-3xl font-bold text-black dark:text-white mb-3",children:"E-mail enviado!"}),s.jsxs("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8 px-4",children:["Enviamos um link de recuperao para ",s.jsx("span",{className:"font-semibold text-black dark:text-white",children:t}),". Verifique sua caixa de entrada e spam."]}),s.jsxs(_t,{to:"/auth/login",className:"inline-flex items-center gap-2 text-[#00d749] font-semibold hover:text-[#00dc43] transition-colors",children:[s.jsx(De,{className:"w-5 h-5"}),"Voltar para o login"]})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#00d749] to-[#00dc43] dark:from-black dark:to-neutral-900 flex flex-col",children:[s.jsx("div",{className:"pt-12 pb-8 px-6 flex justify-center",children:s.jsx(Qn,{width:120,height:120,variant:"auto"})}),s.jsx("div",{className:"flex-1 bg-white dark:bg-neutral-950 rounded-t-3xl p-6 shadow-2xl",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsxs(_t,{to:"/auth/login",className:"p-4 -m-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 active:bg-neutral-200 dark:active:bg-neutral-700 inline-flex items-center gap-2 text-neutral-600 dark:text-neutral-400 hover:text-black dark:hover:text-white transition-colors mb-8",children:[s.jsx(De,{className:"w-5 h-5"}),"Voltar"]}),s.jsx("h1",{className:"text-3xl font-bold text-black dark:text-white mb-2",children:"Recuperar senha"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8",children:"Digite seu e-mail e enviaremos um link para redefinir sua senha"}),o&&s.jsx("div",{className:"p-4 mb-6 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:o}),s.jsxs("form",{onSubmit:l,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"E-mail"}),s.jsxs("div",{className:"relative",children:[s.jsx(fa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"seu@email.com",required:!0,className:"w-full pl-12 pr-4 py-4 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white transition-all"})]})]}),s.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-[#00d749] to-[#00dc43] text-white py-4 rounded-2xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:r?s.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"}):"Enviar link de recuperao"})]})]})})]})},z1=()=>{const t=ze(),{showToast:e}=ha(),[r,n]=w.useState(""),[a,i]=w.useState(""),[o,c]=w.useState(!1),[l,u]=w.useState(!1),[d,h]=w.useState(!1),[f,v]=w.useState(!1);w.useEffect(()=>{let b,y=null;return(async()=>{const{data:{session:p}}=await I.auth.getSession();if(p)return;const{data:x}=I.auth.onAuthStateChange((k,j)=>{(k==="PASSWORD_RECOVERY"||j)&&b&&clearTimeout(b)});y=x.subscription,b=setTimeout(async()=>{const{data:{session:k}}=await I.auth.getSession();k||(t("/auth/login"),e("Sesso invlida ou expirada. Por favor, solicite uma nova recuperao de senha.","error"))},2e3)})(),()=>{y&&y.unsubscribe(),b&&clearTimeout(b)}},[t,e]);const g=async b=>{if(b.preventDefault(),r!==a){e("As senhas no coincidem","error");return}if(r.length<6){e("A senha deve ter pelo menos 6 caracteres","error");return}h(!0);try{const{error:y}=await I.auth.updateUser({password:r});if(y)throw y;v(!0),e("Senha atualizada com sucesso!","success"),setTimeout(()=>{t("/auth/login")},2e3)}catch(y){console.error("Erro ao atualizar senha:",y),e(y.message||"Erro ao atualizar senha","error")}finally{h(!1)}};return f?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#00d749] to-[#00dc43] dark:from-black dark:to-neutral-900 flex flex-col",children:[s.jsx("div",{className:"pt-12 pb-8 px-6 flex justify-center",children:s.jsx(Qn,{width:120,height:120,variant:"auto"})}),s.jsx("div",{className:"flex-1 bg-white dark:bg-neutral-950 rounded-t-3xl p-6 shadow-2xl",children:s.jsxs("div",{className:"max-w-md mx-auto text-center py-12",children:[s.jsx("div",{className:"w-20 h-20 bg-[#00d749]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Ue,{className:"w-10 h-10 text-[#00d749]"})}),s.jsx("h1",{className:"text-3xl font-bold text-black dark:text-white mb-3",children:"Senha Atualizada!"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8 px-4",children:"Sua senha foi redefinida com sucesso. Voc ser redirecionado para o login."})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#00d749] to-[#00dc43] dark:from-black dark:to-neutral-900 flex flex-col",children:[s.jsx("div",{className:"pt-12 pb-8 px-6 flex justify-center",children:s.jsx(Qn,{width:120,height:120,variant:"auto"})}),s.jsx("div",{className:"flex-1 bg-white dark:bg-neutral-950 rounded-t-3xl p-6 shadow-2xl",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold text-black dark:text-white mb-2",children:"Nova Senha"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mb-8",children:"Digite sua nova senha abaixo"}),s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Nova Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:o?"text":"password",value:r,onChange:b=>n(b.target.value),placeholder:"Mnimo 6 caracteres",required:!0,className:"w-full pl-12 pr-12 py-4 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white transition-all"}),s.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:o?s.jsx(Ft,{className:"w-5 h-5"}):s.jsx(zt,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2",children:"Confirmar Senha"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yr,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:l?"text":"password",value:a,onChange:b=>i(b.target.value),placeholder:"Repita a nova senha",required:!0,className:"w-full pl-12 pr-12 py-4 bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#00d749] focus:border-transparent text-black dark:text-white transition-all"}),s.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600",children:l?s.jsx(Ft,{className:"w-5 h-5"}):s.jsx(zt,{className:"w-5 h-5"})})]})]}),s.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-[#00d749] to-[#00dc43] text-white py-4 rounded-2xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:d?s.jsx("div",{className:"w-6 h-6 border-3 border-white border-t-transparent rounded-full animate-spin"}):"Redefinir Senha"})]})]})})]})},q1=()=>{const t=ze();w.useState(1);const e=()=>{t("/")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#00d749] to-[#00dc43] flex flex-col",children:s.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-3xl shadow-2xl p-8 max-w-md w-full",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-20 h-20 bg-[#00d749]/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ue,{className:"w-10 h-10 text-[#00d749]"})}),s.jsx("h1",{className:"text-3xl font-bold text-black dark:text-white mb-2",children:"Configurao Inicial"}),s.jsx("p",{className:"text-neutral-600 dark:text-neutral-400",children:"Complete seu perfil para comear"})]}),s.jsx("button",{onClick:e,className:"w-full bg-[#00d749] text-white py-4 rounded-xl font-semibold hover:bg-[#00dc43] transition-colors",children:"Comear"})]})})})};let Va=null,nl=!1,Wa=null;const V1=async()=>{try{const{data:t,error:e}=await I.from("configuracoes_globais").select("email_suporte").limit(1).maybeSingle();if(!e&&(t!=null&&t.email_suporte))return t.email_suporte;const{data:r}=await I.from("usuarios").select("email_suporte").eq("tipo_usuario","gestor").eq("ativo",!0).limit(1).maybeSingle();return(r==null?void 0:r.email_suporte)||null}catch(t){return console.error("Erro ao buscar email do gestor:",t),null}},ag=()=>{const[t,e]=w.useState(Va);return w.useEffect(()=>{if(Va){e(Va);return}if(nl&&Wa){Wa.then(n=>{e(n)});return}nl=!0,Wa=V1(),Wa.then(n=>{Va=n,nl=!1,e(n)})},[]),{gestorEmail:t,handleContactEmail:()=>{t&&window.open(`mailto:${t}`,"_blank")}}},W1=()=>{const{gestorEmail:t}=ag(),{goBack:e}=Er("/"),r=t||"x88app@gmail.com";return s.jsx("div",{className:"min-h-screen bg-white dark:bg-black",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4 pt-14 py-8 pb-32",children:[s.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 text-neutral-600 dark:text-neutral-400 hover:text-black dark:hover:text-white transition-colors mb-6",children:[s.jsx(De,{className:"w-5 h-5"}),"Voltar"]}),s.jsx("h1",{className:"text-3xl font-bold text-black dark:text-white mb-2",children:"Poltica de Privacidade"}),s.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm mb-8",children:"ltima atualizao: Dezembro de 2025"}),s.jsxs("div",{className:"prose prose-neutral dark:prose-invert max-w-none space-y-6 text-neutral-700 dark:text-neutral-300",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"1. Introduo"}),s.jsx("p",{children:'A X88 ("ns", "nosso" ou "nossa") est comprometida em proteger a privacidade dos nossos utilizadores. Esta Poltica de Privacidade explica como recolhemos, utilizamos, divulgamos e protegemos as suas informaes pessoais quando utiliza a nossa aplicao mvel X88 ("Aplicao").'}),s.jsx("p",{children:"Ao utilizar a nossa Aplicao, voc concorda com a recolha e utilizao de informaes de acordo com esta poltica. Recomendamos que leia atentamente este documento."}),s.jsxs("p",{className:"mt-3",children:[s.jsx("strong",{children:"Importante:"})," O X88  um aplicativo de ",s.jsx("strong",{children:"gesto e intermediao"})," entre colaboradores e gestores. O aplicativo ",s.jsx("strong",{children:"no realiza transaes financeiras, transferncias bancrias ou processamento de pagamentos"}),". Funciona apenas como ferramenta de comunicao e gesto de solicitaes. Todos os pagamentos so realizados externamente pelo gestor, fora do ambiente do aplicativo."]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"2. Informaes que Recolhemos"}),s.jsx("p",{children:"Recolhemos os seguintes tipos de informaes:"}),s.jsx("h3",{className:"text-lg font-semibold text-black dark:text-white mt-4 mb-2",children:"2.1 Informaes Pessoais"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Dados de Identificao:"})," Nome completo, endereo de email, nmero de telefone"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dados de Autenticao:"})," Palavra-passe (armazenada de forma encriptada)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dados Bancrios:"})," IBAN, nmero MB Way/PIX, endereo Lightning Network"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Dados de Utilizao:"})," Histrico de solicitaes, valores, datas e status"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Foto de Perfil:"})," Imagem opcional que voc escolhe enviar"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Conversas com Assistente:"})," Mensagens trocadas com nossa assistente virtual"]})]}),s.jsx("h3",{className:"text-lg font-semibold text-black dark:text-white mt-4 mb-2",children:"2.2 Informaes Tcnicas"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsx("li",{children:"Tipo de dispositivo e sistema operativo"}),s.jsx("li",{children:"Identificadores nicos do dispositivo"}),s.jsx("li",{children:"Endereo IP"}),s.jsx("li",{children:"Dados de navegao e interao com a Aplicao"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"3. Como Utilizamos as Suas Informaes"}),s.jsx("p",{children:"Utilizamos as informaes recolhidas para:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsx("li",{children:"Processar e gerir as suas solicitaes de adiantamento"}),s.jsx("li",{children:"Efetuar pagamentos atravs dos mtodos bancrios fornecidos"}),s.jsx("li",{children:"Comunicar consigo sobre o estado das suas solicitaes"}),s.jsx("li",{children:"Enviar notificaes relevantes sobre a sua conta"}),s.jsx("li",{children:"Melhorar e personalizar a experincia na Aplicao"}),s.jsx("li",{children:"Cumprir obrigaes legais e regulamentares"}),s.jsx("li",{children:"Prevenir fraudes e garantir a segurana da plataforma"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"4. Partilha de Informaes"}),s.jsx("p",{children:"Podemos partilhar as suas informaes com:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Gestores:"})," Para aprovao e processamento das solicitaes"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Prestadores de Servios:"})," Empresas que nos ajudam a operar a plataforma (processamento de pagamentos, alojamento de dados)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Autoridades:"})," Quando exigido por lei ou ordem judicial"]})]}),s.jsxs("p",{className:"mt-3",children:[s.jsx("strong",{children:"No vendemos"})," as suas informaes pessoais a terceiros para fins de marketing."]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"5. Segurana dos Dados"}),s.jsx("p",{children:"Implementamos medidas de segurana tcnicas e organizacionais adequadas para proteger as suas informaes pessoais contra acesso no autorizado, alterao, divulgao ou destruio. Estas incluem:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsx("li",{children:"Encriptao de dados em trnsito e em repouso"}),s.jsx("li",{children:"Autenticao segura com palavras-passe encriptadas"}),s.jsx("li",{children:"Controlo de acesso baseado em funes"}),s.jsx("li",{children:"Monitorizao contnua de segurana"}),s.jsx("li",{children:"Backups regulares e planos de recuperao"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"6. Reteno de Dados"}),s.jsx("p",{children:"Retemos as suas informaes pessoais apenas pelo tempo necessrio para cumprir os fins descritos nesta poltica, a menos que um perodo de reteno mais longo seja exigido ou permitido por lei."}),s.jsx("p",{children:"Aps a eliminao da sua conta, podemos reter determinadas informaes por um perodo adicional para cumprir obrigaes legais, resolver disputas e fazer cumprir os nossos acordos."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"7. Os Seus Direitos"}),s.jsx("p",{children:"De acordo com a legislao aplicvel (incluindo o RGPD), voc tem direito a:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Acesso:"})," Obter informao sobre os dados que temos sobre si"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Retificao:"})," Corrigir dados incorretos ou incompletos"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Eliminao:"})," Solicitar a eliminao dos seus dados pessoais"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Portabilidade:"})," Receber os seus dados num formato estruturado"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Oposio:"})," Opor-se ao processamento dos seus dados em certas circunstncias"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Limitao:"})," Solicitar a limitao do processamento"]})]}),s.jsx("p",{className:"mt-3",children:'Para exercer estes direitos, pode utilizar a funcionalidade "Excluir Minha Conta" na Aplicao ou contactar-nos atravs dos dados indicados abaixo.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"8. Cookies e Tecnologias Similares"}),s.jsx("p",{children:"A nossa Aplicao pode utilizar tecnologias de armazenamento local (como localStorage) para melhorar a sua experincia, guardar preferncias e manter a sesso iniciada. Estas tecnologias so essenciais para o funcionamento da Aplicao."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"9. Transferncias Internacionais"}),s.jsx("p",{children:"Os seus dados podem ser transferidos e processados em servidores localizados fora do seu pas de residncia. Quando tal ocorrer, garantimos que existem salvaguardas adequadas para proteger os seus dados de acordo com esta poltica e a legislao aplicvel."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"10. Menores de Idade"}),s.jsx("p",{children:"A nossa Aplicao no se destina a menores de 18 anos. No recolhemos intencionalmente informaes pessoais de menores. Se tomarmos conhecimento de que recolhemos dados de um menor, tomaremos medidas para eliminar essas informaes."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"11. Alteraes a Esta Poltica"}),s.jsx("p",{children:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos sobre quaisquer alteraes significativas atravs da Aplicao ou por email. A continuao da utilizao da Aplicao aps tais alteraes constitui a sua aceitao da poltica atualizada."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"12. Contacto"}),s.jsx("p",{children:"Se tiver questes sobre esta Poltica de Privacidade ou sobre as nossas prticas de privacidade, pode contactar-nos atravs de:"}),s.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-xl p-4 mt-3",children:[s.jsx("p",{children:s.jsx("strong",{children:"X88"})}),s.jsxs("p",{children:["Email: ",r]})]})]}),s.jsx("section",{className:"border-t border-neutral-200 dark:border-neutral-800 pt-6 mt-8",children:s.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Esta poltica de privacidade est em conformidade com o Regulamento Geral sobre a Proteo de Dados (RGPD) da Unio Europeia e a Lei Geral de Proteo de Dados (LGPD) do Brasil."})})]})]})})},H1=()=>{const{gestorEmail:t}=ag(),{goBack:e}=Er("/"),r=t||"x88app@gmail.com";return s.jsx("div",{className:"min-h-screen bg-white dark:bg-black",children:s.jsxs("div",{className:"max-w-3xl mx-auto px-4 pt-14 py-8 pb-32",children:[s.jsxs("button",{onClick:e,className:"inline-flex items-center gap-2 text-neutral-600 dark:text-neutral-400 hover:text-black dark:hover:text-white transition-colors mb-6",children:[s.jsx(De,{className:"w-5 h-5"}),"Voltar"]}),s.jsx("h1",{className:"text-3xl font-bold text-black dark:text-white mb-2",children:"Termos de Uso"}),s.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm mb-8",children:"ltima atualizao: 6 de Dezembro de 2025"}),s.jsxs("div",{className:"prose prose-neutral dark:prose-invert max-w-none space-y-6 text-neutral-700 dark:text-neutral-300",children:[s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"1. Aceitao dos Termos"}),s.jsx("p",{children:'Ao aceder ou utilizar a aplicao X88 Motorista Parceiro ("Aplicao"), voc concorda em ficar vinculado a estes Termos de Uso ("Termos"). Se no concordar com qualquer parte destes Termos, no deve utilizar a Aplicao.'}),s.jsx("p",{children:'Estes Termos constituem um acordo legal entre voc ("Utilizador", "Motorista Parceiro" ou "voc") e a X88 ("ns", "nosso" ou "Empresa").'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"2. Descrio do Servio"}),s.jsx("p",{children:"A Aplicao X88 Motorista Parceiro permite aos motoristas parceiros registados:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsx("li",{children:"Solicitar adiantamentos"}),s.jsx("li",{children:"Acompanhar o estado das solicitaes"}),s.jsx("li",{children:"Receber pagamentos atravs de MB Way, PIX, IBAN ou Lightning Network (Bitcoin)"}),s.jsx("li",{children:"Gerir dados pessoais e bancrios"}),s.jsx("li",{children:"Receber notificaes e comunicaes"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"3. Elegibilidade e Registo"}),s.jsx("p",{children:"Para utilizar a Aplicao, voc deve:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsx("li",{children:"Ter pelo menos 18 anos de idade"}),s.jsx("li",{children:"Ser motorista parceiro ativo da frota X88 ou parceiro autorizado"}),s.jsx("li",{children:"Fornecer informaes verdadeiras, precisas e completas durante o registo"}),s.jsx("li",{children:"Manter as suas credenciais de acesso seguras e confidenciais"})]}),s.jsx("p",{className:"mt-3",children:"Voc  responsvel por todas as atividades que ocorram na sua conta. Deve notificar-nos imediatamente sobre qualquer uso no autorizado."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"4. Adiantamento"}),s.jsx("h3",{className:"text-lg font-semibold text-black dark:text-white mt-4 mb-2",children:"4.1 Natureza do Servio"}),s.jsxs("p",{children:["O servio de adiantamento permite ao motorista parceiro solicitar uma antecipao de parte dos seus ganhos. ",s.jsx("strong",{children:"Este servio no constitui um emprstimo ou crdito"}),", mas sim uma antecipao de valores j devidos pelo trabalho realizado."]}),s.jsx("h3",{className:"text-lg font-semibold text-black dark:text-white mt-4 mb-2",children:"4.2 Taxa de Servio"}),s.jsx("p",{children:"Uma taxa de servio ser aplicada sobre cada adiantamento solicitado. Esta taxa:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsx("li",{children:"Ser claramente apresentada antes da confirmao da solicitao"}),s.jsx("li",{children:"Ser acrescida ao valor a ser descontado do repasse"}),s.jsx("li",{children:"Pode variar e ser definida pelo gestor"}),s.jsx("li",{children:"Cobre os custos administrativos e de processamento"})]}),s.jsx("h3",{className:"text-lg font-semibold text-black dark:text-white mt-4 mb-2",children:"4.3 Aprovao e Limites"}),s.jsx("p",{children:"Todas as solicitaes esto sujeitas  aprovao do gestor. Os limites de adiantamento so definidos individualmente e podem variar com base no histrico do motorista parceiro e nas polticas da frota."}),s.jsx("h3",{className:"text-lg font-semibold text-black dark:text-white mt-4 mb-2",children:"4.4 Processamento"}),s.jsx("p",{children:"Os pagamentos so processados aps aprovao. O tempo de processamento varia conforme o mtodo de pagamento escolhido:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"MB Way / PIX:"})," Geralmente instantneo"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"IBAN / Transferncia Bancria:"})," 1-2 dias teis"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Lightning Network (Bitcoin):"})," Geralmente instantneo"]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"5. Pagamentos em Criptomoedas"}),s.jsx("p",{children:"A Aplicao permite receber adiantamentos em Bitcoin atravs da Lightning Network. Ao optar por este mtodo, voc reconhece e aceita que:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsx("li",{children:"O valor em criptomoeda est sujeito a volatilidade de mercado"}),s.jsx("li",{children:"A converso para moeda fiduciria  da sua responsabilidade"}),s.jsx("li",{children:"Deve fornecer um endereo Lightning vlido e funcional"}),s.jsx("li",{children:"Transaes em blockchain so irreversveis"}),s.jsx("li",{children:" responsvel por declarar rendimentos conforme a legislao fiscal aplicvel"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"6. Dados Bancrios"}),s.jsx("p",{children:"Voc  integralmente responsvel por:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsx("li",{children:"Fornecer dados bancrios corretos e atualizados"}),s.jsx("li",{children:"Garantir que  o titular legtimo das contas fornecidas"}),s.jsx("li",{children:"Atualizar os dados sempre que houver alteraes"})]}),s.jsx("p",{className:"mt-3",children:"A X88 no se responsabiliza por pagamentos realizados para dados bancrios incorretos fornecidos pelo utilizador."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"7. Obrigaes do Utilizador"}),s.jsx("p",{children:"Ao utilizar a Aplicao, voc concorda em:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsx("li",{children:"Fornecer apenas informaes verdadeiras e precisas"}),s.jsx("li",{children:"No utilizar a Aplicao para fins fraudulentos ou ilegais"}),s.jsx("li",{children:"No tentar aceder a contas de outros utilizadores"}),s.jsx("li",{children:"No interferir com o funcionamento da Aplicao"}),s.jsx("li",{children:"Cumprir com todas as leis e regulamentos aplicveis"}),s.jsx("li",{children:"No partilhar as suas credenciais de acesso"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"8. Cancelamento de Solicitaes"}),s.jsx("p",{children:'Solicitaes de adiantamento podem ser canceladas apenas enquanto estiverem com o estado "Pendente". Uma vez aprovadas pelo gestor, o cancelamento no  possvel e o processamento do pagamento ser efetuado.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"9. Propriedade Intelectual"}),s.jsx("p",{children:"Todos os direitos de propriedade intelectual relativos  Aplicao, incluindo mas no limitado a software, design, logtipos, textos e grficos, so propriedade exclusiva da X88 ou dos seus licenciadores."}),s.jsx("p",{children:" concedida ao utilizador uma licena limitada, no exclusiva e no transfervel para utilizar a Aplicao de acordo com estes Termos."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"10. Limitao de Responsabilidade"}),s.jsx("p",{children:"Na mxima extenso permitida por lei, a X88 no ser responsvel por:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsx("li",{children:"Danos indiretos, incidentais ou consequenciais"}),s.jsx("li",{children:"Perda de dados ou lucros"}),s.jsx("li",{children:"Interrupes temporrias do servio"}),s.jsx("li",{children:"Aes de terceiros, incluindo instituies bancrias"}),s.jsx("li",{children:"Volatilidade de criptomoedas"}),s.jsx("li",{children:"Erros causados por informaes incorretas fornecidas pelo utilizador"})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"11. Indemnizao"}),s.jsx("p",{children:"Voc concorda em indemnizar e isentar a X88, seus diretores, funcionrios e parceiros de qualquer reclamao, dano, perda ou despesa decorrente da sua violao destes Termos ou do uso indevido da Aplicao."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"12. Suspenso e Resciso"}),s.jsx("p",{children:"Reservamo-nos o direito de suspender ou encerrar a sua conta a qualquer momento, com ou sem aviso prvio, se:"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsx("li",{children:"Violar estes Termos de Uso"}),s.jsx("li",{children:"Fornecer informaes falsas ou enganosas"}),s.jsx("li",{children:"Utilizar a Aplicao de forma fraudulenta"}),s.jsx("li",{children:"Deixar de ser motorista parceiro elegvel"})]}),s.jsx("p",{className:"mt-3",children:'Voc pode encerrar a sua conta a qualquer momento atravs da funcionalidade "Excluir Minha Conta" disponvel na Aplicao.'})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"13. Alteraes aos Termos"}),s.jsx("p",{children:"Podemos modificar estes Termos a qualquer momento. As alteraes entraro em vigor aps a publicao na Aplicao. O uso continuado da Aplicao aps tais alteraes constitui a sua aceitao dos Termos atualizados."}),s.jsx("p",{children:"Para alteraes significativas, enviaremos uma notificao atravs da Aplicao ou por email."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"14. Lei Aplicvel e Jurisdio"}),s.jsx("p",{children:"Estes Termos so regidos pelas leis de Portugal. Qualquer disputa ser submetida  jurisdio exclusiva dos tribunais portugueses, sem prejuzo dos direitos que lhe assistam enquanto consumidor ao abrigo da legislao aplicvel."})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"15. Disposies Gerais"}),s.jsxs("ul",{className:"list-disc pl-6 space-y-1",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Acordo Integral:"})," Estes Termos constituem o acordo integral entre voc e a X88 relativamente  Aplicao."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Separabilidade:"})," Se qualquer disposio for considerada invlida, as restantes permanecero em vigor."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Renncia:"})," A no aplicao de qualquer direito no constitui renncia ao mesmo."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Cesso:"})," Voc no pode ceder os seus direitos ou obrigaes sem o nosso consentimento escrito."]})]})]}),s.jsxs("section",{children:[s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-3",children:"16. Contacto"}),s.jsx("p",{children:"Para questes sobre estes Termos de Uso, pode contactar-nos atravs de:"}),s.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-xl p-4 mt-3",children:[s.jsx("p",{children:s.jsx("strong",{children:"X88"})}),s.jsxs("p",{children:["Email: ",r]})]})]}),s.jsx("section",{className:"border-t border-neutral-200 dark:border-neutral-800 pt-6 mt-8",children:s.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Ao utilizar a Aplicao X88 Motorista Parceiro, voc confirma que leu, compreendeu e aceita estar vinculado a estes Termos de Uso."})})]})]})})},Q1=()=>s.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-white dark:bg-black",children:[s.jsxs("div",{className:"relative w-24 h-24 mb-8",children:[s.jsx("div",{className:"absolute inset-0 border-4 border-[#4dff7a]/20 rounded-full animate-pulse"}),s.jsx("div",{className:"absolute inset-0 border-4 border-[#4dff7a] border-t-transparent rounded-full animate-spin"}),s.jsx("img",{src:"/logos/x88.png",alt:"X88",className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-12 h-12 object-contain"})]}),s.jsx("h2",{className:"text-xl font-bold text-black dark:text-white mb-2 animate-pulse",children:"Carregando..."}),s.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Preparando seu aplicativo"})]}),K1="BFltCIRi-zRJJBRhmm-ZeVNmXAL_n724JUclU9b8OMbxmWU8DiMfq5ftEUj75OjNSyyP9kJID1PW5QTGIjOf0RA",G1=()=>{const{user:t}=je(),[e,r]=w.useState(null);return w.useEffect(()=>{if(!t)return;(async()=>{try{if(!("serviceWorker"in navigator)||!("PushManager"in window)){console.log("Push Notifications no suportadas neste navegador");return}const a=await navigator.serviceWorker.ready;let i=await a.pushManager.getSubscription();if(i||(i=await a.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:J1(K1)})),r(i),i){const o=JSON.parse(JSON.stringify(i)),{error:c}=await I.from("usuarios").update({web_push_subscription:o}).eq("id",t.id);c?console.error("Erro ao salvar inscrio Web Push:",c):console.log("Inscrio Web Push salva com sucesso!")}}catch(a){console.error("Erro ao registrar Web Push:",a)}})()},[t]),{subscription:e}};function J1(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(r),a=new Uint8Array(n.length);for(let i=0;i<n.length;++i)a[i]=n.charCodeAt(i);return a}/*! Capacitor: https://capacitorjs.com/ - MIT License */var Kn;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Kn||(Kn={}));class sl extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const Y1=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},X1=t=>{const e=t.CapacitorCustomPlatform||null,r=t.Capacitor||{},n=r.Plugins=r.Plugins||{},a=()=>e!==null?e.name:Y1(t),i=()=>a()!=="web",o=h=>{const f=u.get(h);return!!(f!=null&&f.platforms.has(a())||c(h))},c=h=>{var f;return(f=r.PluginHeaders)===null||f===void 0?void 0:f.find(v=>v.name===h)},l=h=>t.console.error(h),u=new Map,d=(h,f={})=>{const v=u.get(h);if(v)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),v.proxy;const g=a(),b=c(h);let y;const m=async()=>(!y&&g in f?y=typeof f[g]=="function"?y=await f[g]():y=f[g]:e!==null&&!y&&"web"in f&&(y=typeof f.web=="function"?y=await f.web():y=f.web),y),p=(S,P)=>{var E,R;if(b){const T=b==null?void 0:b.methods.find(q=>P===q.name);if(T)return T.rtype==="promise"?q=>r.nativePromise(h,P.toString(),q):(q,ie)=>r.nativeCallback(h,P.toString(),q,ie);if(S)return(E=S[P])===null||E===void 0?void 0:E.bind(S)}else{if(S)return(R=S[P])===null||R===void 0?void 0:R.bind(S);throw new sl(`"${h}" plugin is not implemented on ${g}`,Kn.Unimplemented)}},x=S=>{let P;const E=(...R)=>{const T=m().then(q=>{const ie=p(q,S);if(ie){const ye=ie(...R);return P=ye==null?void 0:ye.remove,ye}else throw new sl(`"${h}.${S}()" is not implemented on ${g}`,Kn.Unimplemented)});return S==="addListener"&&(T.remove=async()=>P()),T};return E.toString=()=>`${S.toString()}() { [capacitor code] }`,Object.defineProperty(E,"name",{value:S,writable:!1,configurable:!1}),E},k=x("addListener"),j=x("removeListener"),N=(S,P)=>{const E=k({eventName:S},P),R=async()=>{const q=await E;j({eventName:S,callbackId:q},P)},T=new Promise(q=>E.then(()=>q({remove:R})));return T.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await R()},T},_=new Proxy({},{get(S,P){switch(P){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return b?N:k;case"removeListener":return j;default:return x(P)}}});return n[h]=_,u.set(h,{name:h,proxy:_,platforms:new Set([...Object.keys(f),...b?[g]:[]])}),_};return r.convertFileSrc||(r.convertFileSrc=h=>h),r.getPlatform=a,r.handleError=l,r.isNativePlatform=i,r.isPluginAvailable=o,r.registerPlugin=d,r.Exception=sl,r.DEBUG=!!r.DEBUG,r.isLoggingEnabled=!!r.isLoggingEnabled,r},Z1=t=>t.Capacitor=X1(t),Rt=Z1(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),go=Rt.registerPlugin;class ig{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const a=this.listeners[e];if(!a){if(n){let i=this.retainedEventArguments[e];i||(i=[]),i.push(r),this.retainedEventArguments[e]=i}return}a.forEach(i=>i(r))}hasListeners(e){var r;return!!(!((r=this.listeners[e])===null||r===void 0)&&r.length)}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new Rt.Exception(e,Kn.Unimplemented)}unavailable(e="not available"){return new Rt.Exception(e,Kn.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const a=n.indexOf(r);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const Bh=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Fh=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class eN extends ig{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[a,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=Fh(a).trim(),i=Fh(i).trim(),r[a]=i}),r}async setCookie(e){try{const r=Bh(e.key),n=Bh(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${a}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}go("CapacitorCookies",{web:()=>new eN});const tN=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const a=n.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},n.onerror=a=>r(a),n.readAsDataURL(t)}),rN=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(a=>a.toLocaleLowerCase()).reduce((a,i,o)=>(a[i]=t[e[o]],a),{})},nN=(t,e=!0)=>t?Object.entries(t).reduce((n,a)=>{const[i,o]=a;let c,l;return Array.isArray(o)?(l="",o.forEach(u=>{c=e?encodeURIComponent(u):u,l+=`${i}=${c}&`}),l.slice(0,-1)):(c=e?encodeURIComponent(o):o,l=`${i}=${c}`),`${n}&${l}`},"").substr(1):null,sN=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),a=rN(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(a.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,c]of Object.entries(t.data||{}))i.set(o,c);r.body=i.toString()}else if(a.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((c,l)=>{i.append(l,c)});else for(const c of Object.keys(t.data))i.append(c,t.data[c]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(a.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class aN extends ig{async request(e){const r=sN(e,e.webFetchExtra),n=nN(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,i=await fetch(a,r),o=i.headers.get("content-type")||"";let{responseType:c="text"}=i.ok?e:{};o.includes("application/json")&&(c="json");let l,u;switch(c){case"arraybuffer":case"blob":u=await i.blob(),l=await tN(u);break;case"json":l=await i.json();break;case"document":case"text":default:l=await i.text()}const d={};return i.headers.forEach((h,f)=>{d[f]=h}),{data:l,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}go("CapacitorHttp",{web:()=>new aN});const iN="modulepreload",oN=function(t){return"/"+t},zh={},og=function(e,r,n){if(!r||r.length===0)return e();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=oN(i),i in zh)return;zh[i]=!0;const o=i.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!n)for(let d=a.length-1;d>=0;d--){const h=a[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${c}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":iN,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};var qh;(function(t){t[t.Min=1]="Min",t[t.Low=2]="Low",t[t.Default=3]="Default",t[t.High=4]="High",t[t.Max=5]="Max"})(qh||(qh={}));var Vh;(function(t){t[t.Secret=-1]="Secret",t[t.Private=0]="Private",t[t.Public=1]="Public"})(Vh||(Vh={}));const Et=go("FirebaseMessaging",{web:()=>og(()=>import("./web-5a7db4ea.js"),[]).then(t=>new t.FirebaseMessagingWeb)}),lN=()=>{const[t,e]=w.useState(null),[r,n]=w.useState(!1),{user:a}=je();w.useEffect(()=>{Rt.isNativePlatform()&&i()},[]),w.useEffect(()=>{t&&(a!=null&&a.id)&&o(t)},[t,a==null?void 0:a.id]);const i=async()=>{try{const u=await Et.checkPermissions();if(u.receive==="prompt"&&(await Et.requestPermissions()).receive!=="granted"){console.log("Permisso de notificaes negada");return}if(u.receive!=="granted"&&(await Et.requestPermissions()).receive!=="granted"){console.log("Permisso de notificaes no concedida");return}n(!0);const{token:d}=await Et.getToken();d&&(console.log("FCM Token:",d),e(d)),Et.addListener("tokenReceived",h=>{console.log("Token received:",h.token),e(h.token)}),Et.addListener("notificationReceived",h=>{console.log("Notification received:",h.notification)}),Et.addListener("notificationActionPerformed",h=>{console.log("Notification action performed:",h);const f=h.notification.data;f!=null&&f.url&&(window.location.href=f.url)})}catch(u){console.error("Erro ao inicializar Firebase Messaging:",u)}},o=async u=>{if(a!=null&&a.id)try{const d=Rt.getPlatform(),h={fcm_token:u,fcm_token_updated_at:new Date().toISOString(),device_platform:d},{error:f}=await I.from("colaboradores").update(h).eq("usuario_id",a.id);f?console.error("Erro ao salvar FCM token:",f):console.log("FCM Token salvo com sucesso!")}catch(d){console.error("Erro ao salvar token:",d)}};return{token:t,permissionGranted:r,requestPermission:async()=>{const d=(await Et.requestPermissions()).receive==="granted";if(n(d),d){const{token:h}=await Et.getToken();h&&e(h)}return d},getToken:async()=>{const{token:u}=await Et.getToken();return u&&e(u),u},isNative:Rt.isNativePlatform()}};var As;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(As||(As={}));var Wh;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(Wh||(Wh={}));const er=go("StatusBar"),cN=()=>{w.useEffect(()=>{Rt.isNativePlatform()&&t()},[]);const t=async()=>{try{await er.show(),await er.setOverlaysWebView({overlay:!1}),await er.setStyle({style:As.Dark}),Rt.getPlatform()==="android"&&await er.setBackgroundColor({color:"#FFFFFF"})}catch(n){console.error("Erro ao configurar StatusBar:",n)}};return{setDarkStatusBar:async()=>{if(Rt.isNativePlatform())try{await er.setStyle({style:As.Light}),await er.setBackgroundColor({color:"#000000"})}catch(n){console.error("Erro ao configurar StatusBar:",n)}},setLightStatusBar:async()=>{if(Rt.isNativePlatform())try{await er.setStyle({style:As.Dark}),await er.setBackgroundColor({color:"#FFFFFF"})}catch(n){console.error("Erro ao configurar StatusBar:",n)}}}};function uN(t={}){const{threshold:e=80,enabled:r=!0}=t,n=ze(),a=w.useRef(0),i=w.useRef(0),o=w.useRef(0);w.useEffect(()=>{if(!r)return;const c=d=>{a.current=d.touches[0].clientX,i.current=d.touches[0].clientY},l=d=>{o.current=d.touches[0].clientX},u=()=>{const d=o.current-a.current,h=Math.abs(o.current-i.current);a.current<50&&d>e&&d>h&&n(-1),a.current=0,i.current=0,o.current=0};return document.addEventListener("touchstart",c,{passive:!0}),document.addEventListener("touchmove",l,{passive:!0}),document.addEventListener("touchend",u,{passive:!0}),()=>{document.removeEventListener("touchstart",c),document.removeEventListener("touchmove",l),document.removeEventListener("touchend",u)}},[n,e,r])}const dN=new tb;function hN(){G1(),lN(),cN(),uN(),w.useEffect(()=>{const u=localStorage.getItem("darkMode");u===null?window.matchMedia("(prefers-color-scheme: dark)").matches?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false")):u==="true"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const t=Jt(),e=t.pathname.startsWith("/auth")||t.pathname==="/setup",r=t.pathname==="/chat",{isLoading:n,isAuthenticated:a}=je(),{isLoadingRequests:i}=It(),{hideBottomNav:o}=z0(),c=w.useRef({}),l=w.useRef(t.pathname);return w.useEffect(()=>{const u=document.getElementById("main-scroll");if(!u)return;l.current!==t.pathname&&(c.current[l.current]=u.scrollTop,l.current=t.pathname);const d=c.current[t.pathname]??0;u.scrollTop=d},[t.pathname]),n||a&&i&&!e?s.jsx(Q1,{}):s.jsxs("div",{className:"flex flex-col h-screen bg-white dark:bg-black",children:[s.jsxs("main",{id:"main-scroll",className:`flex-1 overflow-y-auto ${!e&&!r?"pb-20":""}`,children:[!e&&t.pathname!=="/"&&s.jsx($j,{}),s.jsxs(Py,{children:[s.jsx(fe,{path:"/auth/login",element:s.jsx(U1,{})}),s.jsx(fe,{path:"/auth/register",element:s.jsx(B1,{})}),s.jsx(fe,{path:"/auth/forgot-password",element:s.jsx(F1,{})}),s.jsx(fe,{path:"/auth/update-password",element:s.jsx(z1,{})}),s.jsx(fe,{path:"/setup",element:s.jsx(q1,{})}),s.jsx(fe,{path:"/",element:s.jsx(Je,{children:s.jsx(k1,{})})}),s.jsx(fe,{path:"/requests",element:s.jsx(Je,{children:s.jsx(N1,{})})}),s.jsx(fe,{path:"/requests/new",element:s.jsx(Je,{children:s.jsx(_1,{})})}),s.jsx(fe,{path:"/requests/:id",element:s.jsx(Je,{children:s.jsx(S1,{})})}),s.jsx(fe,{path:"/reports",element:s.jsx(Je,{children:s.jsx(E1,{})})}),s.jsx(fe,{path:"/profile",element:s.jsx(Je,{children:s.jsx(R1,{})})}),s.jsx(fe,{path:"/profile/personal",element:s.jsx(Je,{children:s.jsx(I1,{})})}),s.jsx(fe,{path:"/profile/bank",element:s.jsx(Je,{children:s.jsx(O1,{})})}),s.jsx(fe,{path:"/profile/notifications",element:s.jsx(Je,{children:s.jsx(D1,{})})}),s.jsx(fe,{path:"/profile/security",element:s.jsx(Je,{children:s.jsx(M1,{})})}),s.jsx(fe,{path:"/profile/language",element:s.jsx(Je,{children:s.jsx(L1,{})})}),s.jsx(fe,{path:"/profile/help",element:s.jsx(Je,{children:s.jsx($1,{})})}),s.jsx(fe,{path:"/chat",element:s.jsx(Je,{children:s.jsx(T1,{})})}),s.jsx(fe,{path:"/legal/privacy",element:s.jsx(W1,{})}),s.jsx(fe,{path:"/legal/terms",element:s.jsx(H1,{})})]})]}),!e&&!r&&!o&&s.jsx(Bj,{}),s.jsx(zj,{})]})}function fN(){return s.jsx(xb,{client:dN,children:s.jsx(Ly,{children:s.jsx(aj,{children:s.jsx(hj,{children:s.jsx(ij,{children:s.jsx(fj,{children:s.jsx(oj,{children:s.jsx(uj,{children:s.jsx(hN,{})})})})})})})})})}function mN(t={}){const{immediate:e=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:a,onRegisteredSW:i,onRegisterError:o}=t;let c,l;const u=async(h=!0)=>{await l};async function d(){if("serviceWorker"in navigator){const{Workbox:h}=await og(()=>import("./workbox-window.prod.es5-5ffdab76.js"),[]);c=new h("/sw.js",{scope:"/",type:"classic"}),c.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),c.addEventListener("installed",f=>{f.isUpdate||n==null||n()}),c.register({immediate:e}).then(f=>{i?i("/sw.js",f):a==null||a(f)}).catch(f=>{o==null||o(f)})}}return l=d(),u}const pN=!0,gN=mN({onNeedRefresh(){console.log(" Nova verso disponvel!"),gN(!0)},onOfflineReady(){console.log(" App pronto para funcionar offline!")},onRegistered(t){console.log(" Service Worker registrado!"),t&&pN&&setInterval(()=>{t.update()},60*60*1e3)},onRegisterError(t){console.error(" Erro ao registrar Service Worker:",t)}});al.createRoot(document.getElementById("root")).render(s.jsx(mn.StrictMode,{children:s.jsx(fN,{})}));export{ig as W};
